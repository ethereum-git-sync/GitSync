{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/1288",
  "id": 346743625,
  "node_id": "MDU6SXNzdWUzNDY3NDM2MjU=",
  "number": 1288,
  "title": "Get contract return values from transaction recepts",
  "user": {
    "login": "ARitz-Cracker",
    "id": 5233816,
    "node_id": "MDQ6VXNlcjUyMzM4MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5233816?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ARitz-Cracker",
    "html_url": "https://github.com/ARitz-Cracker",
    "followers_url": "https://api.github.com/users/ARitz-Cracker/followers",
    "following_url": "https://api.github.com/users/ARitz-Cracker/following{/other_user}",
    "gists_url": "https://api.github.com/users/ARitz-Cracker/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ARitz-Cracker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ARitz-Cracker/subscriptions",
    "organizations_url": "https://api.github.com/users/ARitz-Cracker/orgs",
    "repos_url": "https://api.github.com/users/ARitz-Cracker/repos",
    "events_url": "https://api.github.com/users/ARitz-Cracker/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ARitz-Cracker/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-08-01T19:50:56Z",
  "updated_at": "2018-10-03T16:37:21Z",
  "closed_at": "2018-10-03T16:37:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "[Here's the pull request](https://github.com/ethereum/EIPs/pull/1287)\r\n```\r\neip: 1288\r\ntitle: Get contract return values from transaction recepts\r\nauthor: Aritz Beobide-Cardinal <aritz@aritzcracker.ca> \r\ndiscussions-to: https://github.com/ethereum/EIPs/issues/1288\r\nstatus: Draft\r\ntype: Standards Track\r\ncategory: Interface\r\ncreated: 2018-08-01\r\n```\r\n\r\n## Simple Summary\r\nThis is a proposal to give clients the ability to easily get contract return values and revert reasons from already completed transactions.\r\n\r\n## Abstract\r\nThis EIP proposes to allow eth_getTransactionReceipt to show return values from a smart contract executon, similarly to eth_call.\r\n\r\n## Motivation\r\nClients have no reliable way to get _why_ a transaction has failed when mined, nor can they get the return value from a successful smart contract execution. A workaround would be to use eth_call before or after the transaction is mined, but that is unreliable since the state of a smart contract can change multiple times within the same block.\r\n\r\nFor example, any eth_call checks or gas estimations may return OK before the transaction is submitted to the mempool, but your transaction may be reverted due to the actions of one that got in just before you.\r\n\r\nExpanding on this example, your transaction may have been between 2 other transactions which affected yours, so any eth_call checks on that block or the previous block return an unexpected value, resulting in much frustration. and confusion.\r\n\r\n## Specification\r\n\r\nTake the result of eth_call and put it in eth_getTransactionReceipt's returning object; using a field called `contractResult`.\r\n\r\nThe return values can be interpreted using the ABI if status == 1, or as a string when status == 0.\r\n\r\n##### Example\r\n\r\n```js\r\ncurl -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x62ec664057fe15405de42d1711e270b8b90ea2b6f32ae4ab7b8d417eb348ac5b\"],\"id\":1}'\r\n\r\n// Result\r\n{\r\n\t\"id\":1,\r\n\t\"jsonrpc\": \"2.0\",\r\n\t\"result\":{\r\n\t\ttransactionHash: '0x62ec664057fe15405de42d1711e270b8b90ea2b6f32ae4ab7b8d417eb348ac5b',\r\n\t\ttransactionIndex: '0x9',\r\n\t\tblockHash: '0x268920a0bb83f1bd66e6a1c8228119ef4db38c24c84d22c160e8e660aa204a56',\r\n\t\tblockNumber: '0x5ca0ee',\r\n\t\tfrom: '0x8c070c3c66f62e34bae561951450f15f3256f67c',\r\n\t\tto: '0xc0c001140319c5f114f8467295b1f22f86929ad0',\r\n\t\tcumulativeGasUsed: '0x33b60',\r\n\t\tgasUsed: '0x5914',\r\n\t\tcontractAddress: null,\r\n\t\tlogs: [],\r\n\t\tlogsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',\r\n\t\tstatus: '0x0',\r\n\t\t// Here's the new thing:\r\n\t\tcontractResult: '0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026706c65617365207069636b20612070657263656e74206265747765656e203120616e642039390000000000000000000000000000000000000000000000000000'\r\n\t}\r\n}\r\n```\r\n\r\n## Rationale\r\nThis implementation proposal kills 2 birds with one stone, allowing for revert reasons and successful return values to be accessable by the client. This proposal was designed to require minimal work for implementation, and to take advantage of already existing infrastructure.\r\n\r\n## Backwards Compatibility\r\nThis proposal will not break anything that relies on existing behaviour.\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).\r\n",
  "closed_by": {
    "login": "ARitz-Cracker",
    "id": 5233816,
    "node_id": "MDQ6VXNlcjUyMzM4MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5233816?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ARitz-Cracker",
    "html_url": "https://github.com/ARitz-Cracker",
    "followers_url": "https://api.github.com/users/ARitz-Cracker/followers",
    "following_url": "https://api.github.com/users/ARitz-Cracker/following{/other_user}",
    "gists_url": "https://api.github.com/users/ARitz-Cracker/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ARitz-Cracker/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ARitz-Cracker/subscriptions",
    "organizations_url": "https://api.github.com/users/ARitz-Cracker/orgs",
    "repos_url": "https://api.github.com/users/ARitz-Cracker/repos",
    "events_url": "https://api.github.com/users/ARitz-Cracker/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ARitz-Cracker/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/1288/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409848330",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-409848330",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 409848330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTg0ODMzMA==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-02T08:27:16Z",
    "updated_at": "2018-08-02T08:27:16Z",
    "author_association": "MEMBER",
    "body": "I believe in the past this has been punted on because of the unbounded size of a contract's result.  For example, if a contract returns a string or an array of values the size of the receipt is now unbounded.  Since receipts are part of consensus, they need to be kept small/constrained.\r\n\r\nOne option would be to only return the first 32 bytes of the result.  This greatly limits what you can usefully return, but would solve the problem for a _lot_ of people.  32 bytes is enough to give an exit code result, a number result, an address result, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409848330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409931298",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-409931298",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 409931298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTkzMTI5OA==",
    "user": {
      "login": "ARitz-Cracker",
      "id": 5233816,
      "node_id": "MDQ6VXNlcjUyMzM4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5233816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ARitz-Cracker",
      "html_url": "https://github.com/ARitz-Cracker",
      "followers_url": "https://api.github.com/users/ARitz-Cracker/followers",
      "following_url": "https://api.github.com/users/ARitz-Cracker/following{/other_user}",
      "gists_url": "https://api.github.com/users/ARitz-Cracker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ARitz-Cracker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ARitz-Cracker/subscriptions",
      "organizations_url": "https://api.github.com/users/ARitz-Cracker/orgs",
      "repos_url": "https://api.github.com/users/ARitz-Cracker/repos",
      "events_url": "https://api.github.com/users/ARitz-Cracker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ARitz-Cracker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-02T13:45:21Z",
    "updated_at": "2018-08-02T13:45:21Z",
    "author_association": "NONE",
    "body": "@MicahZoltu a contracts result isn't unbounded as the stack size is pretty shallow. (at least in solidity, correct me if I'm wrong) Strings don't exist in the EVM, just a bunch of uint256s. If you push a \"string\" on the stack which is greater than 32 chars long, it pushes multiple uint256s internally. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409931298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409956829",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-409956829",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 409956829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTk1NjgyOQ==",
    "user": {
      "login": "Arachnid",
      "id": 17865,
      "node_id": "MDQ6VXNlcjE3ODY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/17865?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Arachnid",
      "html_url": "https://github.com/Arachnid",
      "followers_url": "https://api.github.com/users/Arachnid/followers",
      "following_url": "https://api.github.com/users/Arachnid/following{/other_user}",
      "gists_url": "https://api.github.com/users/Arachnid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Arachnid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Arachnid/subscriptions",
      "organizations_url": "https://api.github.com/users/Arachnid/orgs",
      "repos_url": "https://api.github.com/users/Arachnid/repos",
      "events_url": "https://api.github.com/users/Arachnid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Arachnid/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-02T14:58:13Z",
    "updated_at": "2018-08-02T14:58:13Z",
    "author_association": "MEMBER",
    "body": "@ARitz-Cracker The return value of a contract call is a section of memory, not stack elements. It can be as large as the contract's memory space.\r\n\r\nAs @MicahZoltu observes, we punted on this before because of the issue of determining what a fair qas cost would be.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/409956829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410219061",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-410219061",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 410219061,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDIxOTA2MQ==",
    "user": {
      "login": "Gerdinand",
      "id": 8582058,
      "node_id": "MDQ6VXNlcjg1ODIwNTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8582058?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gerdinand",
      "html_url": "https://github.com/Gerdinand",
      "followers_url": "https://api.github.com/users/Gerdinand/followers",
      "following_url": "https://api.github.com/users/Gerdinand/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gerdinand/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gerdinand/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gerdinand/subscriptions",
      "organizations_url": "https://api.github.com/users/Gerdinand/orgs",
      "repos_url": "https://api.github.com/users/Gerdinand/repos",
      "events_url": "https://api.github.com/users/Gerdinand/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gerdinand/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-03T10:56:47Z",
    "updated_at": "2018-08-03T10:57:02Z",
    "author_association": "NONE",
    "body": "I think it would be fair to return only the first 32 bytes. Any critical information should be able to be conveyed this way.\r\n\r\nGetting return values of contracts would be convenient, but what would really help me as a developer is if I can get the revert reason through the transaction receipt (preventing out-commenting/logging/redeploying thousands of times).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410219061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410385740",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-410385740",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 410385740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDM4NTc0MA==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-03T21:52:43Z",
    "updated_at": "2018-08-03T21:52:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ARitz-Cracker Have you seen [EIP 758](https://eips.ethereum.org/EIPS/eip-758)? It is an alternative proposal to retrieve the return value of a mined transaction. I believe it should be mentioned in this ERC as well. There was some discussion about receipts in the associated issue https://github.com/ethereum/EIPs/pull/758.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410385740/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410479716",
    "html_url": "https://github.com/ethereum/EIPs/issues/1288#issuecomment-410479716",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/1288",
    "id": 410479716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDQ3OTcxNg==",
    "user": {
      "login": "ARitz-Cracker",
      "id": 5233816,
      "node_id": "MDQ6VXNlcjUyMzM4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5233816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ARitz-Cracker",
      "html_url": "https://github.com/ARitz-Cracker",
      "followers_url": "https://api.github.com/users/ARitz-Cracker/followers",
      "following_url": "https://api.github.com/users/ARitz-Cracker/following{/other_user}",
      "gists_url": "https://api.github.com/users/ARitz-Cracker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ARitz-Cracker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ARitz-Cracker/subscriptions",
      "organizations_url": "https://api.github.com/users/ARitz-Cracker/orgs",
      "repos_url": "https://api.github.com/users/ARitz-Cracker/repos",
      "events_url": "https://api.github.com/users/ARitz-Cracker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ARitz-Cracker/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-04T21:49:30Z",
    "updated_at": "2018-08-04T21:49:30Z",
    "author_association": "NONE",
    "body": "@frangio I swear I looked through all the EIPs before submitting this one ðŸ˜… looks like I missed it! ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/410479716/reactions",
      "total_count": 3,
      "+1": 1,
      "-1": 0,
      "laugh": 2,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
