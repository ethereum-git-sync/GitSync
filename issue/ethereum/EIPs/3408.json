{
  "url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
  "repository_url": "https://api.github.com/repos/ethereum/EIPs",
  "labels_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408/comments",
  "events_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408/events",
  "html_url": "https://github.com/ethereum/EIPs/issues/3408",
  "id": 833432009,
  "node_id": "MDU6SXNzdWU4MzM0MzIwMDk=",
  "number": 3408,
  "title": "Feature Request: Strict Smart Contract Address Check.",
  "user": {
    "login": "SiestaMadokaist",
    "id": 2775884,
    "node_id": "MDQ6VXNlcjI3NzU4ODQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2775884?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SiestaMadokaist",
    "html_url": "https://github.com/SiestaMadokaist",
    "followers_url": "https://api.github.com/users/SiestaMadokaist/followers",
    "following_url": "https://api.github.com/users/SiestaMadokaist/following{/other_user}",
    "gists_url": "https://api.github.com/users/SiestaMadokaist/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SiestaMadokaist/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SiestaMadokaist/subscriptions",
    "organizations_url": "https://api.github.com/users/SiestaMadokaist/orgs",
    "repos_url": "https://api.github.com/users/SiestaMadokaist/repos",
    "events_url": "https://api.github.com/users/SiestaMadokaist/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SiestaMadokaist/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2328627851,
      "node_id": "MDU6TGFiZWwyMzI4NjI3ODUx",
      "url": "https://api.github.com/repos/ethereum/EIPs/labels/stale",
      "name": "stale",
      "color": "000000",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-03-17T06:01:15Z",
  "updated_at": "2021-11-07T02:28:55Z",
  "closed_at": "2021-11-07T02:28:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello, I was wondering, if it make sense in ethereum to make it so that a transaction sent to a non-smart-contract-address, must have the field data = `0x`.\r\n\r\n----\r\nThe reason being, since a non `0x` data, is normally a smart contract parameter, it doesn't make sense to be sent to a non-smart-contract address.\r\n\r\nI understand, that maybe, some people somewhere used the field data, just like a \"memo\".\r\nBut to handle such scenario, I think it would be better to whitelist it with a specific headers, like `0xffff` or something, to notify the miner that this data is not intended as a smart-contract parameter.\r\n(so, the only acceptable transaction to a non-smart-contract address, will be either `0x`, `0xffff*`)\r\n\r\n---\r\n\r\nCase Example:\r\n1. Someone tried to convert their ETH to some token via Uniswap.\r\nHe called `swapExactETHForTokens` function in uniswap, along with some ETH to be converted.\r\nHowever, unfortunately, he made a typo in the uniswap address, making it sent to an address not owned by anyone.\r\nWithout this feature: now he lost his money.\r\nWith this feature: the miner determined that the destination address is not a smart contract, and thus the transaction can be reverted.\r\n\r\n2. Someone want to sent some ETH with some memo.\r\nHe sent some ETH, and put some memo in the field `data`\r\nWithout this feature: the transaction will be accepted.\r\nWith this feature: the transaction will be reverted, unless the field `data` starts with `0xffff`\r\n\r\n----\r\n\r\nI thought of this feature when I was swapping token in uniswap.\r\nI'm safe when I swap Tokens for Tokens, at worst I'll just lost some gas fee, even if the transaction was sent to a wrong address, because the field data will be ignored by this non-smart-contract-address.\r\nhowever, when I swap ETH for Tokens, if my transaction is sent to a wrong address, that ETH will be lost, likely forever.\r\n\r\nI know that this issue is nothing urgent, but I think, it's nice to have more defensive mechanic to prevent a similar mistake.",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/3408/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/800820212",
    "html_url": "https://github.com/ethereum/EIPs/issues/3408#issuecomment-800820212",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
    "id": 800820212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMDgyMDIxMg==",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-03-17T06:01:58Z",
    "updated_at": "2021-03-17T06:01:58Z",
    "author_association": "NONE",
    "body": "Since this is your first issue, we kindly remind you to check out [EIP-1](https://eips.ethereum.org/EIPS/eip-1) for guidance.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/800820212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/845817674",
    "html_url": "https://github.com/ethereum/EIPs/issues/3408#issuecomment-845817674",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
    "id": 845817674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NTgxNzY3NA==",
    "user": {
      "login": "Dexaran",
      "id": 26142412,
      "node_id": "MDQ6VXNlcjI2MTQyNDEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26142412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Dexaran",
      "html_url": "https://github.com/Dexaran",
      "followers_url": "https://api.github.com/users/Dexaran/followers",
      "following_url": "https://api.github.com/users/Dexaran/following{/other_user}",
      "gists_url": "https://api.github.com/users/Dexaran/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Dexaran/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Dexaran/subscriptions",
      "organizations_url": "https://api.github.com/users/Dexaran/orgs",
      "repos_url": "https://api.github.com/users/Dexaran/repos",
      "events_url": "https://api.github.com/users/Dexaran/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Dexaran/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-21T09:27:15Z",
    "updated_at": "2021-05-21T09:27:15Z",
    "author_association": "NONE",
    "body": "I would like to support this proposal. This can prevent the most common user mistakes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/845817674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/849675580",
    "html_url": "https://github.com/ethereum/EIPs/issues/3408#issuecomment-849675580",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
    "id": 849675580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTY3NTU4MA==",
    "user": {
      "login": "zemse",
      "id": 22412996,
      "node_id": "MDQ6VXNlcjIyNDEyOTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22412996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zemse",
      "html_url": "https://github.com/zemse",
      "followers_url": "https://api.github.com/users/zemse/followers",
      "following_url": "https://api.github.com/users/zemse/following{/other_user}",
      "gists_url": "https://api.github.com/users/zemse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zemse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zemse/subscriptions",
      "organizations_url": "https://api.github.com/users/zemse/orgs",
      "repos_url": "https://api.github.com/users/zemse/repos",
      "events_url": "https://api.github.com/users/zemse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zemse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-27T14:20:16Z",
    "updated_at": "2021-05-27T14:20:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Regardless of the transaction success or \"reverts\", still that tx will anyway be included in a block (so any sort of data availability purpose is achieved). So `0xffff` be avoided. Just the `value` sent won't be deducted (which should be a fine behaviour imo).\r\n\r\n`eth_call` errors when making call to a non-contract account with non-zero data, while sending tx to non-contract account with non-zero data doesn't, which seems like an inconsistent behavior. Now as there is movement to the L2 future, cases where a contract address is used on another network by mistake will start getting more common. (and as given example of a `swapExactETHForTokens` tx funds could be lost)\r\n\r\nI think this proposal could be considered and I don't see any negatives yet.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/849675580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/950248918",
    "html_url": "https://github.com/ethereum/EIPs/issues/3408#issuecomment-950248918",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
    "id": 950248918,
    "node_id": "IC_kwDOAq426M44o6XW",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-10-24T02:27:00Z",
    "updated_at": "2021-10-24T02:27:00Z",
    "author_association": "NONE",
    "body": "There has been no activity on this issue for two months. It will be closed in a week if no further activity occurs. If you would like to move this EIP forward, please respond to any outstanding feedback or add a comment indicating that you have addressed all required feedback and are ready for a review.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/950248918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/962541399",
    "html_url": "https://github.com/ethereum/EIPs/issues/3408#issuecomment-962541399",
    "issue_url": "https://api.github.com/repos/ethereum/EIPs/issues/3408",
    "id": 962541399,
    "node_id": "IC_kwDOAq426M45XzdX",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-11-07T02:28:54Z",
    "updated_at": "2021-11-07T02:28:54Z",
    "author_association": "NONE",
    "body": "This issue was closed due to inactivity. If you are still pursuing it, feel free to reopen it and respond to any feedback or request a review in a comment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/EIPs/issues/comments/962541399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
