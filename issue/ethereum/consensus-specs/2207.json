{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/2207",
  "id": 812644570,
  "node_id": "MDU6SXNzdWU4MTI2NDQ1NzA=",
  "number": 2207,
  "title": "cytoolz warnings when running `make test`",
  "user": {
    "login": "JustinDrake",
    "id": 731743,
    "node_id": "MDQ6VXNlcjczMTc0Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JustinDrake",
    "html_url": "https://github.com/JustinDrake",
    "followers_url": "https://api.github.com/users/JustinDrake/followers",
    "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}",
    "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions",
    "organizations_url": "https://api.github.com/users/JustinDrake/orgs",
    "repos_url": "https://api.github.com/users/JustinDrake/repos",
    "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JustinDrake/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1295439957,
      "node_id": "MDU6TGFiZWwxMjk1NDM5OTU3",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/scope:CI/tests/pyspec",
      "name": "scope:CI/tests/pyspec",
      "color": "BDC0BA",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-20T15:40:30Z",
  "updated_at": "2021-02-21T11:11:56Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I got the following warning when running `make test` on an Apple M1. cc @ChihChengLiang @hwwhww \r\n\r\n```\r\n../../../venv/lib/python3.8/site-packages/cytoolz/compatibility.py:2\r\n  /Users/justin/repos/eth2.0-specs/venv/lib/python3.8/site-packages/cytoolz/compatibility.py:2: DeprecationWarning: The toolz.compatibility module is no longer needed in Python 3 and has been deprecated. Please import these utilities directly from the standard library. This module will be removed in a future release.\r\n    warnings.warn(\"The toolz.compatibility module is no longer \"\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/warnings.html\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/782813226",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/2207#issuecomment-782813226",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207",
    "id": 782813226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjgxMzIyNg==",
    "user": {
      "login": "ChihChengLiang",
      "id": 3391420,
      "node_id": "MDQ6VXNlcjMzOTE0MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3391420?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChihChengLiang",
      "html_url": "https://github.com/ChihChengLiang",
      "followers_url": "https://api.github.com/users/ChihChengLiang/followers",
      "following_url": "https://api.github.com/users/ChihChengLiang/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChihChengLiang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChihChengLiang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChihChengLiang/subscriptions",
      "organizations_url": "https://api.github.com/users/ChihChengLiang/orgs",
      "repos_url": "https://api.github.com/users/ChihChengLiang/repos",
      "events_url": "https://api.github.com/users/ChihChengLiang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChihChengLiang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T07:21:16Z",
    "updated_at": "2021-02-21T07:21:16Z",
    "author_association": "MEMBER",
    "body": "Looks like \r\n1. `toolz` and `cytoolz` will be deprecated soon.\r\n2. They are not directly used in `eth2.0-specs` codebase. It is `eth_utils` who depends on them, and `py_ecc` depends on `eth_utils`. \r\n3. To fix this. We need to \r\n   1. fix eth_utils and \r\n   2. bump eth_utils version in py_ecc.\r\n\r\nHere are the error logs when run `make test` after `toolz` and `cytoolz` are uninstalled. Conclusion 2 is derived from this log.\r\n\r\n```\r\nImportError while loading conftest '/Users/liangcc/projects/EAPL/eth2.0s/eth2.0-specs/tests/core/pyspec/eth2spec/test/conftest.py'.\r\neth2spec/test/conftest.py:2: in <module>\r\n    from eth2spec.test import context\r\neth2spec/test/context.py:3: in <module>\r\n    from eth2spec.phase0 import spec as spec_phase0\r\neth2spec/phase0/spec.py:18: in <module>\r\n    from eth2spec.utils import bls\r\neth2spec/utils/bls.py:1: in <module>\r\n    from py_ecc.bls import G2ProofOfPossession as py_ecc_bls\r\n../../../venv/lib/python3.8/site-packages/py_ecc/bls/__init__.py:1: in <module>\r\n    from .ciphersuites import (  # noqa: F401\r\n../../../venv/lib/python3.8/site-packages/py_ecc/bls/ciphersuites.py:13: in <module>\r\n    from eth_utils import (\r\n../../../venv/lib/python3.8/site-packages/eth_utils/__init__.py:25: in <module>\r\n    from .applicators import (  # noqa: F401\r\n../../../venv/lib/python3.8/site-packages/eth_utils/applicators.py:5: in <module>\r\n    from .functional import to_dict\r\n../../../venv/lib/python3.8/site-packages/eth_utils/functional.py:17: in <module>\r\n    from .toolz import compose as _compose\r\n../../../venv/lib/python3.8/site-packages/eth_utils/toolz.py:80: in <module>\r\n    from toolz import (  # noqa: F401\r\nE   ModuleNotFoundError: No module named 'toolz'\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/782813226/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/782839803",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/2207#issuecomment-782839803",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2207",
    "id": 782839803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjgzOTgwMw==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-21T11:11:46Z",
    "updated_at": "2021-02-21T11:11:46Z",
    "author_association": "MEMBER",
    "body": "Add: `eth2spec` itself also requires `eth_utils`.\r\n\r\nI created an issue ticket (https://github.com/ethereum/eth-utils/issues/210) and PR (https://github.com/ethereum/eth-utils/pull/211) on `eth_utils` repo.\r\n\r\n*If* the next `eth_utils` release version is <2, we only have to bump the `requirements.txt` of test generators. (`py_ecc` is set to `eth-utils>=1.3.0,<2` and `ethspec` is set to `eth-utils>=1.3.0,<2` so they are okay).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/782839803/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
