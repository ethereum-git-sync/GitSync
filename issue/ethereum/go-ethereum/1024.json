{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1024",
  "id": 77316448,
  "node_id": "MDU6SXNzdWU3NzMxNjQ0OA==",
  "number": 1024,
  "title": "p2p/nat: should delete port mappings before adding",
  "user": {
    "login": "kobigurk",
    "id": 3520024,
    "node_id": "MDQ6VXNlcjM1MjAwMjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3520024?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kobigurk",
    "html_url": "https://github.com/kobigurk",
    "followers_url": "https://api.github.com/users/kobigurk/followers",
    "following_url": "https://api.github.com/users/kobigurk/following{/other_user}",
    "gists_url": "https://api.github.com/users/kobigurk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kobigurk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kobigurk/subscriptions",
    "organizations_url": "https://api.github.com/users/kobigurk/orgs",
    "repos_url": "https://api.github.com/users/kobigurk/repos",
    "events_url": "https://api.github.com/users/kobigurk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kobigurk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 164892077,
      "node_id": "MDU6TGFiZWwxNjQ4OTIwNzc=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:network",
      "name": "area:network",
      "color": "207de5",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2015-05-17T14:03:31Z",
  "updated_at": "2017-10-06T11:39:48Z",
  "closed_at": "2017-10-06T11:39:48Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I0517 14:40:26.814284   25614 ssdp.go:63] ssdp: got unexpected search target result \"urn:schemas-upnp-org:device:WANConnectionDevice:1\"\nI0517 14:40:26.814310   25614 ssdp.go:63] ssdp: got unexpected search target result \"urn:schemas-upnp-org:device:WANConnectionDevice:1\"\nI0517 14:40:26.814318   25614 ssdp.go:63] ssdp: got unexpected search target result \"urn:schemas-upnp-org:device:WANConnectionDevice:1\"\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866517",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102866517",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102866517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2NjUxNw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-17T22:39:45Z",
    "updated_at": "2015-05-17T22:39:45Z",
    "author_association": "MEMBER",
    "body": "```\n                                                                                  These messages are not errors. They tell you that the router provided the wrong service (v1) as the result of an SSDP query for v2. The port should get mapped anyway because we also query for v1. Please check whether it actually maps the port and close the issue if it is working.\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866635",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102866635",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102866635,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2NjYzNQ==",
    "user": {
      "login": "kobigurk",
      "id": 3520024,
      "node_id": "MDQ6VXNlcjM1MjAwMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3520024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kobigurk",
      "html_url": "https://github.com/kobigurk",
      "followers_url": "https://api.github.com/users/kobigurk/followers",
      "following_url": "https://api.github.com/users/kobigurk/following{/other_user}",
      "gists_url": "https://api.github.com/users/kobigurk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kobigurk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kobigurk/subscriptions",
      "organizations_url": "https://api.github.com/users/kobigurk/orgs",
      "repos_url": "https://api.github.com/users/kobigurk/repos",
      "events_url": "https://api.github.com/users/kobigurk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kobigurk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-17T22:42:27Z",
    "updated_at": "2015-05-17T22:42:27Z",
    "author_association": "MEMBER",
    "body": "Followed your advice - two entries appear, but act weird - deleted after a few seconds. Other entries (like Skype and qBittorrent) aren't deleted.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866785",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102866785",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102866785,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2Njc4NQ==",
    "user": {
      "login": "kobigurk",
      "id": 3520024,
      "node_id": "MDQ6VXNlcjM1MjAwMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3520024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kobigurk",
      "html_url": "https://github.com/kobigurk",
      "followers_url": "https://api.github.com/users/kobigurk/followers",
      "following_url": "https://api.github.com/users/kobigurk/following{/other_user}",
      "gists_url": "https://api.github.com/users/kobigurk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kobigurk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kobigurk/subscriptions",
      "organizations_url": "https://api.github.com/users/kobigurk/orgs",
      "repos_url": "https://api.github.com/users/kobigurk/repos",
      "events_url": "https://api.github.com/users/kobigurk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kobigurk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-17T22:45:04Z",
    "updated_at": "2015-05-17T22:45:04Z",
    "author_association": "MEMBER",
    "body": "You're right that it also reports success : \nI0518 01:44:31.202810   18647 nat.go:95] mapped network port udp:30303 -> 30303 (ethereum discovery) using UPNP IGDv1-IP1\nI0518 01:44:31.211616   18647 nat.go:95] mapped network port tcp:30303 -> 30303 (ethereum p2p) using UPNP IGDv1-IP1\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102866785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102867255",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102867255",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102867255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2NzI1NQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-17T22:49:36Z",
    "updated_at": "2015-05-17T22:49:36Z",
    "author_association": "MEMBER",
    "body": "```\n                                                                                  If you have some time, it would be nice to get packet captures for this. So the port mapping shows up but gets deleted shortly after?I have a DD-WRT router somewhere, will test later next week.\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102867255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102868553",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102868553",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102868553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg2ODU1Mw==",
    "user": {
      "login": "kobigurk",
      "id": 3520024,
      "node_id": "MDQ6VXNlcjM1MjAwMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3520024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kobigurk",
      "html_url": "https://github.com/kobigurk",
      "followers_url": "https://api.github.com/users/kobigurk/followers",
      "following_url": "https://api.github.com/users/kobigurk/following{/other_user}",
      "gists_url": "https://api.github.com/users/kobigurk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kobigurk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kobigurk/subscriptions",
      "organizations_url": "https://api.github.com/users/kobigurk/orgs",
      "repos_url": "https://api.github.com/users/kobigurk/repos",
      "events_url": "https://api.github.com/users/kobigurk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kobigurk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-17T23:11:01Z",
    "updated_at": "2015-05-17T23:11:01Z",
    "author_association": "MEMBER",
    "body": "I captured geth trying to upnp and skype trying to upnp so you can compare the difference. Would prefer to send them to you directly, as they might contain personal information.\n\nBut, looking at those captures it seems that there is one major difference : geth uses a lifetime of 1200 and Skype of 0. Changing the code in \"p2p/nat/natupnp.go\" to send lifetime 0 makes the entries persistent, just like skype.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102868553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102878767",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102878767",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102878767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjg3ODc2Nw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-18T00:35:06Z",
    "updated_at": "2015-05-18T00:35:06Z",
    "author_association": "MEMBER",
    "body": "```\n                                                                                  Thanks. You can send me the traces in Gitter somehow if you want, ‎but the infoabout expiration time should be enough. Will check upnp specs about using 0.If Skype does it, it's probably OK. My guess is that 0 triggers some kind of device default.\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102878767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102937103",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-102937103",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 102937103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwMjkzNzEwMw==",
    "user": {
      "login": "kobigurk",
      "id": 3520024,
      "node_id": "MDQ6VXNlcjM1MjAwMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3520024?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kobigurk",
      "html_url": "https://github.com/kobigurk",
      "followers_url": "https://api.github.com/users/kobigurk/followers",
      "following_url": "https://api.github.com/users/kobigurk/following{/other_user}",
      "gists_url": "https://api.github.com/users/kobigurk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kobigurk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kobigurk/subscriptions",
      "organizations_url": "https://api.github.com/users/kobigurk/orgs",
      "repos_url": "https://api.github.com/users/kobigurk/repos",
      "events_url": "https://api.github.com/users/kobigurk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kobigurk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-18T06:34:56Z",
    "updated_at": "2015-05-18T06:34:56Z",
    "author_association": "MEMBER",
    "body": "There's another thing I saw - Skype deletes the port forwarding before adding it again. This can be useful if your internal ip changes.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/102937103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/105082007",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1024#issuecomment-105082007",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1024",
    "id": 105082007,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEwNTA4MjAwNw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-05-25T00:40:13Z",
    "updated_at": "2015-05-25T00:40:13Z",
    "author_association": "MEMBER",
    "body": "Will add code to delete the mapping before adding.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/105082007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
