{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20793",
  "id": 585501854,
  "node_id": "MDU6SXNzdWU1ODU1MDE4NTQ=",
  "number": 20793,
  "title": "Faucet stops interacting with the eth client after err=\"context deadline exceeded\"",
  "user": {
    "login": "maxsam4",
    "id": 7436022,
    "node_id": "MDQ6VXNlcjc0MzYwMjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7436022?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/maxsam4",
    "html_url": "https://github.com/maxsam4",
    "followers_url": "https://api.github.com/users/maxsam4/followers",
    "following_url": "https://api.github.com/users/maxsam4/following{/other_user}",
    "gists_url": "https://api.github.com/users/maxsam4/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/maxsam4/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/maxsam4/subscriptions",
    "organizations_url": "https://api.github.com/users/maxsam4/orgs",
    "repos_url": "https://api.github.com/users/maxsam4/repos",
    "events_url": "https://api.github.com/users/maxsam4/events{/privacy}",
    "received_events_url": "https://api.github.com/users/maxsam4/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2020-03-21T13:44:04Z",
  "updated_at": "2020-03-27T15:21:59Z",
  "closed_at": "2020-03-27T15:21:59Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I'm running a faucet for Goerli over at https://faucet.goerli.mudit.blog/.\r\n\r\nThere's a severe lack of light client-serving peers and as a result, often times the faucet loses all connections. The problem is that it stops retrying. Once `context deadline exceeded` error happens, the faucet never updates the state (I've waited for hours after this error). If the light client kept retrying, it will eventually find a peer. If I restart the faucet, it finds a couple of peers within a few seconds.\r\n\r\nI'm running a goerli full node with 300 les client limit and 400 les cpu limit (on an 8 core server) on the same server as the faucet to try and have at least one node always serve to the faucet but the connection between my node and the faucet still breaks sometimes.\r\n\r\nThere are a couple other people I know that are serving light clients on goerli but we're all maxing out on light client connections. I don't know why there's such a huge demand for goerli light clients. Perhaps something to do with the beacon chain.\r\n\r\nI am new to go so don't really know what exactly is going on with the context but I'm thinking of increasing the context limit a little and panicking when this error happens. systemd will catch the panic and restart the service. It will \"fix\" the problem but it's an ugly solution lol.\r\n\r\nIs it possible to have the faucet/client keep looking for peers after the error and resume operations when it finds some?\r\n\r\nps If EF is still running goerli nodes, can you please up your les client limit?",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604326048",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604326048",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604326048,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMyNjA0OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:37:23Z",
    "updated_at": "2020-03-26T09:37:23Z",
    "author_association": "MEMBER",
    "body": "Could you please supply the geth version number? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604326048/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604327966",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604327966",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604327966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMyNzk2Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:41:06Z",
    "updated_at": "2020-03-26T09:41:06Z",
    "author_association": "MEMBER",
    "body": "If it happens again, please kill it with `kill -SIGABRT <pid>`. That will make Go do a stack dump. That might help see if something is blocked on a mutex or similar.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604327966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604330598",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604330598",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604330598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMzMDU5OA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:46:49Z",
    "updated_at": "2020-03-26T09:46:49Z",
    "author_association": "MEMBER",
    "body": "We've just redeployed the Rinkeby faucet to latest master, lets see if it acts up for us.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604330598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604332597",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604332597",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604332597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMzMjU5Nw==",
    "user": {
      "login": "maxsam4",
      "id": 7436022,
      "node_id": "MDQ6VXNlcjc0MzYwMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7436022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxsam4",
      "html_url": "https://github.com/maxsam4",
      "followers_url": "https://api.github.com/users/maxsam4/followers",
      "following_url": "https://api.github.com/users/maxsam4/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxsam4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxsam4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxsam4/subscriptions",
      "organizations_url": "https://api.github.com/users/maxsam4/orgs",
      "repos_url": "https://api.github.com/users/maxsam4/repos",
      "events_url": "https://api.github.com/users/maxsam4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxsam4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:51:26Z",
    "updated_at": "2020-03-26T10:09:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nGeth\r\nVersion: 1.9.13-unstable\r\nGit Commit: 8d7aa9078f8a94c2c10b1d11e04242df0ea91e5b\r\nArchitecture: amd64\r\nProtocol Versions: [65 64 63]\r\nGo Version: go1.14\r\nOperating System: linux\r\n```\r\nI modified the live faucet to panic https://github.com/maxsam4/go-ethereum/commit/87fb4de541f0724c314d0d2c27ab887e1243d8c0 when this happens so that it can be restarted by systemd. Is there an easy way to do the stack dump while panicking?\r\n\r\nIf not, I can spin up another instance and get the dump from there. I don't want to disturb the live faucet.\r\n\r\n(I can also return a systemd watchdog signal and have systemd kill it with `SIGABRT`)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604332597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604333805",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604333805",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604333805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMzMzgwNQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:53:59Z",
    "updated_at": "2020-03-26T09:53:59Z",
    "author_association": "MEMBER",
    "body": "A panic should give you a stack dump. You can also use `debug.stacks()` to obtain it from a live instance",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604333805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604336101",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604336101",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604336101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMzNjEwMQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T09:59:05Z",
    "updated_at": "2020-03-26T09:59:05Z",
    "author_association": "MEMBER",
    "body": "@holiman A faucet doesn't have RPC, you can't attach a console to it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604336101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604338325",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604338325",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604338325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDMzODMyNQ==",
    "user": {
      "login": "maxsam4",
      "id": 7436022,
      "node_id": "MDQ6VXNlcjc0MzYwMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7436022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxsam4",
      "html_url": "https://github.com/maxsam4",
      "followers_url": "https://api.github.com/users/maxsam4/followers",
      "following_url": "https://api.github.com/users/maxsam4/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxsam4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxsam4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxsam4/subscriptions",
      "organizations_url": "https://api.github.com/users/maxsam4/orgs",
      "repos_url": "https://api.github.com/users/maxsam4/repos",
      "events_url": "https://api.github.com/users/maxsam4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxsam4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T10:03:59Z",
    "updated_at": "2020-03-26T10:03:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "```Mar 26 09:06:34 dedi faucet[19833]: #033[33mWARN #033[0m[03-26|09:06:34.242] Failed to update faucet state            #033[33mblock#033[0m=2411883 #033[33mhash#033[0m=2e47c6â€¦82f325 #033[33merr#033[0m=\"context deadline exceeded\"\r\nMar 26 09:06:34 dedi faucet[19833]: panic: context deadline exceeded\r\nMar 26 09:06:34 dedi faucet[19833]: goroutine 143 [running]:\r\nMar 26 09:06:34 dedi faucet[19833]: main.(*faucet).loop.func1(0xc0001bf9e0, 0xc00112cd20)\r\nMar 26 09:06:34 dedi faucet[19833]: #011/home/max/maxsam4/go-ethereum/cmd/faucet/faucet.go:613 +0xe06\r\nMar 26 09:06:34 dedi faucet[19833]: created by main.(*faucet).loop\r\nMar 26 09:06:34 dedi faucet[19833]: #011/home/max/maxsam4/go-ethereum/cmd/faucet/faucet.go:603 +0x1b8\r\nMar 26 09:06:34 dedi systemd[1]: faucet.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\r\nMar 26 09:06:34 dedi systemd[1]: faucet.service: Unit entered failed state.\r\nMar 26 09:06:34 dedi systemd[1]: faucet.service: Failed with result 'exit-code'.\r\nMar 26 09:06:34 dedi systemd[1]: faucet.service: Service hold-off time over, scheduling restart.\r\nMar 26 09:06:34 dedi systemd[1]: Stopped Goerli faucet.\r\nMar 26 09:06:34 dedi systemd[1]: Started Goerli faucet.\r\nMar 26 09:06:41 dedi faucet[23090]: #033[32mINFO #033[0m[03-26|09:06:41.504] Starting peer-to-peer node               #033[32minstance#033[0m=Geth/v1.9.13-unstable-87fb4de5-20200322/linux-amd64/go1.13.4\r\n```\r\nThis is what was in syslog from the last time it crashed. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604338325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604344174",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604344174",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604344174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDM0NDE3NA==",
    "user": {
      "login": "maxsam4",
      "id": 7436022,
      "node_id": "MDQ6VXNlcjc0MzYwMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7436022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxsam4",
      "html_url": "https://github.com/maxsam4",
      "followers_url": "https://api.github.com/users/maxsam4/followers",
      "following_url": "https://api.github.com/users/maxsam4/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxsam4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxsam4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxsam4/subscriptions",
      "organizations_url": "https://api.github.com/users/maxsam4/orgs",
      "repos_url": "https://api.github.com/users/maxsam4/repos",
      "events_url": "https://api.github.com/users/maxsam4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxsam4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T10:16:30Z",
    "updated_at": "2020-03-26T10:16:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am not sure if this is what you guys are after. Please let me know if you'd like logs from somewhere else.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604344174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604372318",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604372318",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604372318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDM3MjMxOA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-26T11:17:30Z",
    "updated_at": "2020-03-26T11:17:30Z",
    "author_association": "MEMBER",
    "body": "My bad -- `panic` shows only the current stack, what @karalabe suggested would give you all stacks -- which is what we'd need.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604372318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604828738",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-604828738",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 604828738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNDgyODczOA==",
    "user": {
      "login": "maxsam4",
      "id": 7436022,
      "node_id": "MDQ6VXNlcjc0MzYwMjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7436022?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxsam4",
      "html_url": "https://github.com/maxsam4",
      "followers_url": "https://api.github.com/users/maxsam4/followers",
      "following_url": "https://api.github.com/users/maxsam4/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxsam4/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxsam4/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxsam4/subscriptions",
      "organizations_url": "https://api.github.com/users/maxsam4/orgs",
      "repos_url": "https://api.github.com/users/maxsam4/repos",
      "events_url": "https://api.github.com/users/maxsam4/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxsam4/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T05:55:03Z",
    "updated_at": "2020-03-27T05:55:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "The faucet hasn't hit the `context deadline exceeded` since the last logs I shared. Perhaps more people started serving light clients on Goerli?\r\n\r\nIn any case, if/when it happens again, I'll share the stack dump.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/604828738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/605019493",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-605019493",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 605019493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTAxOTQ5Mw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T14:06:50Z",
    "updated_at": "2020-03-27T14:06:50Z",
    "author_association": "MEMBER",
    "body": "Managed to reproduce it on Rinkeby (updated out faucet from 1.9.7 to latest). Apparently something broke in the new light client code, looking into it.\r\n\r\nhttps://gist.github.com/karalabe/3e27109ab98051375aaa7feb136d640b",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/605019493/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/605022916",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20793#issuecomment-605022916",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20793",
    "id": 605022916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTAyMjkxNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T14:13:24Z",
    "updated_at": "2020-03-27T14:13:24Z",
    "author_association": "MEMBER",
    "body": "This seems interesting:\r\n\r\n```\r\ngoroutine 74 [semacquire, 981 minutes]:\r\nsync.runtime_SemacquireMutex(0xc0001d21f4, 0xc000b6f900, 0x1)\r\n\t/usr/local/go/src/runtime/sema.go:71 +0x47\r\nsync.(*Mutex).lockSlow(0xc0001d21f0)\r\n\t/usr/local/go/src/sync/mutex.go:138 +0xfc\r\nsync.(*Mutex).Lock(...)\r\n\t/usr/local/go/src/sync/mutex.go:81\r\ngithub.com/ethereum/go-ethereum/les.(*lightFetcher).peerHasBlock(0xc0001d21e0, 0xc00009ed00, 0x58002b399adc28f2, 0x3d70f057522f8f44, 0x6baaa4df12dc0b37, 0xc9aa260894914d60, 0x5eb613, 0x1, 0xc000b6fb00)\r\n\t/go-ethereum/les/fetcher.go:362 +0x435\r\ngithub.com/ethereum/go-ethereum/les.(*lightFetcher).registerPeer.func1(0x58002b399adc28f2, 0x3d70f057522f8f44, 0x6baaa4df12dc0b37, 0xc9aa260894914d60, 0x5eb613, 0xe1e401, 0xe97560)\r\n\t/go-ethereum/les/fetcher.go:228 +0x5d\r\ngithub.com/ethereum/go-ethereum/les.(*serverPeer).HasBlock(0xc00009ed00, 0x58002b399adc28f2, 0x3d70f057522f8f44, 0x6baaa4df12dc0b37, 0xc9aa260894914d60, 0x5eb613, 0xc0021ee901, 0x1149200)\r\n\t/go-ethereum/les/peer.go:547 +0x114\r\ngithub.com/ethereum/go-ethereum/les.(*TrieRequest).CanSend(0xc00978fdc0, 0xc00009ed00, 0xffffffffffffff00)\r\n\t/go-ethereum/les/odr_requests.go:200 +0x6b\r\ngithub.com/ethereum/go-ethereum/les.(*LesOdr).Retrieve.func2(0x115d7a0, 0xc00009ed00, 0xc000b6fc80)\r\n\t/go-ethereum/les/odr.go:114 +0x66\r\ngithub.com/ethereum/go-ethereum/les.(*retrieveManager).sendReq.func1(0x115d7a0, 0xc00009ed00, 0xc000b6fd68)\r\n\t/go-ethereum/les/retrieve.go:146 +0xcc\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).nextRequest(0xc0000f7810, 0x0, 0x0, 0x0, 0x0)\r\n\t/go-ethereum/les/distributor.go:216 +0x4a1\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).loop(0xc0000f7810)\r\n\t/go-ethereum/les/distributor.go:144 +0xdc\r\ncreated by github.com/ethereum/go-ethereum/les.newRequestDistributor\r\n\t/go-ethereum/les/distributor.go:88 +0x149\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/605022916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
