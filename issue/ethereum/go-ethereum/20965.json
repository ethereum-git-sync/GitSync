{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20965",
  "id": 605351189,
  "node_id": "MDU6SXNzdWU2MDUzNTExODk=",
  "number": 20965,
  "title": "Graceful shutdown if disk is full",
  "user": {
    "login": "ligi",
    "id": 111600,
    "node_id": "MDQ6VXNlcjExMTYwMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ligi",
    "html_url": "https://github.com/ligi",
    "followers_url": "https://api.github.com/users/ligi/followers",
    "following_url": "https://api.github.com/users/ligi/following{/other_user}",
    "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
    "organizations_url": "https://api.github.com/users/ligi/orgs",
    "repos_url": "https://api.github.com/users/ligi/repos",
    "events_url": "https://api.github.com/users/ligi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ligi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 717742232,
      "node_id": "MDU6TGFiZWw3MTc3NDIyMzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/help%20wanted",
      "name": "help wanted",
      "color": "0e8a16",
      "default": true,
      "description": null
    },
    {
      "id": 717743019,
      "node_id": "MDU6TGFiZWw3MTc3NDMwMTk=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-04-23T08:43:05Z",
  "updated_at": "2021-01-20T18:36:44Z",
  "closed_at": "2021-01-20T18:36:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "this is a follow up of #20845\r\n\r\nwe should periodically monitor the free space on the disk we are operating on and if we fall under a certain limit we should gracefully shutdown the node to prevent database corruption",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/642139952",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-642139952",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 642139952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjEzOTk1Mg==",
    "user": {
      "login": "howjmay",
      "id": 13924801,
      "node_id": "MDQ6VXNlcjEzOTI0ODAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13924801?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howjmay",
      "html_url": "https://github.com/howjmay",
      "followers_url": "https://api.github.com/users/howjmay/followers",
      "following_url": "https://api.github.com/users/howjmay/following{/other_user}",
      "gists_url": "https://api.github.com/users/howjmay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howjmay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howjmay/subscriptions",
      "organizations_url": "https://api.github.com/users/howjmay/orgs",
      "repos_url": "https://api.github.com/users/howjmay/repos",
      "events_url": "https://api.github.com/users/howjmay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howjmay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-10T17:04:09Z",
    "updated_at": "2020-06-10T17:04:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this a good first issue?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/642139952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705420310",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-705420310",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 705420310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTQyMDMxMA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-08T08:36:41Z",
    "updated_at": "2020-10-08T08:36:41Z",
    "author_association": "MEMBER",
    "body": "I think this is a fairly good first issue. The feature should: \r\n- Every N seconds, check the disk where the `datadir` resides, \r\n- If available space is `< some limit`, maybe `500Mb`, then start printing warnings  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705420310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705662847",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-705662847",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 705662847,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTY2Mjg0Nw==",
    "user": {
      "login": "howjmay",
      "id": 13924801,
      "node_id": "MDQ6VXNlcjEzOTI0ODAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13924801?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howjmay",
      "html_url": "https://github.com/howjmay",
      "followers_url": "https://api.github.com/users/howjmay/followers",
      "following_url": "https://api.github.com/users/howjmay/following{/other_user}",
      "gists_url": "https://api.github.com/users/howjmay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howjmay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howjmay/subscriptions",
      "organizations_url": "https://api.github.com/users/howjmay/orgs",
      "repos_url": "https://api.github.com/users/howjmay/repos",
      "events_url": "https://api.github.com/users/howjmay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howjmay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-08T15:54:03Z",
    "updated_at": "2020-10-08T15:54:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Let me take a look, and try to implement it!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/705662847/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/706642413",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-706642413",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 706642413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNjY0MjQxMw==",
    "user": {
      "login": "howjmay",
      "id": 13924801,
      "node_id": "MDQ6VXNlcjEzOTI0ODAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13924801?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howjmay",
      "html_url": "https://github.com/howjmay",
      "followers_url": "https://api.github.com/users/howjmay/followers",
      "following_url": "https://api.github.com/users/howjmay/following{/other_user}",
      "gists_url": "https://api.github.com/users/howjmay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howjmay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howjmay/subscriptions",
      "organizations_url": "https://api.github.com/users/howjmay/orgs",
      "repos_url": "https://api.github.com/users/howjmay/repos",
      "events_url": "https://api.github.com/users/howjmay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howjmay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-11T03:03:41Z",
    "updated_at": "2020-10-11T03:03:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I think this is a fairly good first issue. The feature should:\r\n> \r\n> * Every N seconds, check the disk where the `datadir` resides,\r\n> * If available space is `< some limit`, maybe `500Mb`, then start printing warnings\r\n\r\n@holiman So does this be two stage operation? Once the free space is under stage 1 limit then geth will start to print warnings. If the free space is keeping dropping until the stage 2 limit, then geth will graceful shutdown",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/706642413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/731607148",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-731607148",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 731607148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMTYwNzE0OA==",
    "user": {
      "login": "vyrwu",
      "id": 23533231,
      "node_id": "MDQ6VXNlcjIzNTMzMjMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/23533231?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vyrwu",
      "html_url": "https://github.com/vyrwu",
      "followers_url": "https://api.github.com/users/vyrwu/followers",
      "following_url": "https://api.github.com/users/vyrwu/following{/other_user}",
      "gists_url": "https://api.github.com/users/vyrwu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vyrwu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vyrwu/subscriptions",
      "organizations_url": "https://api.github.com/users/vyrwu/orgs",
      "repos_url": "https://api.github.com/users/vyrwu/repos",
      "events_url": "https://api.github.com/users/vyrwu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vyrwu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-21T17:13:44Z",
    "updated_at": "2020-11-21T17:13:44Z",
    "author_association": "NONE",
    "body": "I made a pull request that implements this: https://github.com/ethereum/go-ethereum/pull/21884.\r\n\r\nWould appreciate some review comments and guidance, I'm new to this repository and still learning, thx. ✌️ ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/731607148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/753695764",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-753695764",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 753695764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzY5NTc2NA==",
    "user": {
      "login": "alex347",
      "id": 617387,
      "node_id": "MDQ6VXNlcjYxNzM4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617387?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex347",
      "html_url": "https://github.com/alex347",
      "followers_url": "https://api.github.com/users/alex347/followers",
      "following_url": "https://api.github.com/users/alex347/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex347/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex347/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex347/subscriptions",
      "organizations_url": "https://api.github.com/users/alex347/orgs",
      "repos_url": "https://api.github.com/users/alex347/repos",
      "events_url": "https://api.github.com/users/alex347/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex347/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T00:00:16Z",
    "updated_at": "2021-01-04T00:00:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Please review a new implementation: #22103",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/753695764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/763849782",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20965#issuecomment-763849782",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20965",
    "id": 763849782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Mzg0OTc4Mg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T18:36:43Z",
    "updated_at": "2021-01-20T18:36:43Z",
    "author_association": "MEMBER",
    "body": "Fixed via https://github.com/ethereum/go-ethereum/pull/22103",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/763849782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
