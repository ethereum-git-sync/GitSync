{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20977",
  "id": 606432672,
  "node_id": "MDU6SXNzdWU2MDY0MzI2NzI=",
  "number": 20977,
  "title": "Invalid memory address 1.9.13, Windows",
  "user": {
    "login": "remyroy",
    "id": 303593,
    "node_id": "MDQ6VXNlcjMwMzU5Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/303593?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/remyroy",
    "html_url": "https://github.com/remyroy",
    "followers_url": "https://api.github.com/users/remyroy/followers",
    "following_url": "https://api.github.com/users/remyroy/following{/other_user}",
    "gists_url": "https://api.github.com/users/remyroy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/remyroy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/remyroy/subscriptions",
    "organizations_url": "https://api.github.com/users/remyroy/orgs",
    "repos_url": "https://api.github.com/users/remyroy/repos",
    "events_url": "https://api.github.com/users/remyroy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/remyroy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 841716348,
      "node_id": "MDU6TGFiZWw4NDE3MTYzNDg=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:les",
      "name": "area:les",
      "color": "c2e0c6",
      "default": false,
      "description": null
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    },
    {
      "id": 1149844711,
      "node_id": "MDU6TGFiZWwxMTQ5ODQ0NzEx",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:steps-to-reproduce",
      "name": "need:steps-to-reproduce",
      "color": "67bc12",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-04-24T16:21:17Z",
  "updated_at": "2020-08-22T09:42:30Z",
  "closed_at": "2020-08-22T09:42:30Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\n```\r\nVersion: 1.9.13-stable\r\nGit Commit: cbc4ac264e9671898bff6ec7e434da3eca4bd273\r\nGit Commit Date: 20200416\r\nArchitecture: amd64\r\nProtocol Versions: [65 64 63]\r\nGo Version: go1.14.2\r\nOperating System: windows\r\nGOPATH=\r\nGOROOT=C:\\go\r\n```\r\nOS & Version: Windows 10\r\nCommit hash : 1.9.13 release\r\n\r\n#### Expected behaviour\r\nNo crash during normal usage\r\n\r\n#### Actual behaviour\r\nCrashed randomly during normal usage\r\n\r\n#### Steps to reproduce the behaviour\r\nI'm not sure what are the exact steps to reproduce this issue. It seems a bit random but here is what I did.\r\n\r\n- Start geth 1.9.13 with the following command line: `geth.exe --ipcdisable --verbosity 1 --light.serve 10 console`\r\n- Perform some commands in console like typing `web3.net` to show network info.\r\n- Crash happened at random (it seems).\r\n\r\n#### Backtrace\r\n\r\n````\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal 0xc0000005 code=0x1 addr=0x0 pc=0xcb5ef9]\r\n\r\ngoroutine 727132 [running]:\r\ngithub.com/ethereum/go-ethereum/les.(*serverHandler).handleMsg(0xc0053dc870, 0xc0c16eb950, 0xc016a68f50, 0x0, 0x0)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/les/server_handler.go:183 +0x119\r\ngithub.com/ethereum/go-ethereum/les.(*serverHandler).handle(0xc0053dc870, 0xc0c16eb950, 0x0, 0x0)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/les/server_handler.go:172 +0x98f\r\ngithub.com/ethereum/go-ethereum/les.(*serverHandler).runPeer(0xc0053dc870, 0x3, 0xc165792f60, 0x16c5f40, 0xc06b18f860, 0x0, 0x0)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/les/server_handler.go:108 +0x115\r\ngithub.com/ethereum/go-ethereum/les.(*lesCommons).makeProtocols.func1(0xc165792f60, 0x16c5f40, 0xc06b18f860, 0xc0851ea020, 0xc08c099fa0)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/les/commons.go:94 +0x53\r\ngithub.com/ethereum/go-ethereum/p2p.(*Peer).startProtocols.func1(0xc06b18f860, 0xc165792f60, 0x16c5f40, 0xc06b18f860)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/p2p/peer.go:368 +0x6d\r\ncreated by github.com/ethereum/go-ethereum/p2p.(*Peer).startProtocols\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/p2p/peer.go:367 +0x20a\r\n````\r\n",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/662894822",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20977#issuecomment-662894822",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977",
    "id": 662894822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mjg5NDgyMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-23T08:56:53Z",
    "updated_at": "2020-07-23T08:56:53Z",
    "author_association": "MEMBER",
    "body": "We can't really see what's wrong with the code that would result in this crash. Did it happen ever again? Was this during shutdown or normal mode of operation?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/662894822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/678619981",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20977#issuecomment-678619981",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20977",
    "id": 678619981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODYxOTk4MQ==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-08-22T09:42:29Z",
    "updated_at": "2020-08-22T09:42:29Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/678619981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
