{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21315",
  "id": 653939820,
  "node_id": "MDU6SXNzdWU2NTM5Mzk4MjA=",
  "number": 21315,
  "title": "Fatal: Error starting protocol stack: genesis mismatch",
  "user": {
    "login": "sssubik",
    "id": 33048746,
    "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
    "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sssubik",
    "html_url": "https://github.com/sssubik",
    "followers_url": "https://api.github.com/users/sssubik/followers",
    "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
    "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
    "organizations_url": "https://api.github.com/users/sssubik/orgs",
    "repos_url": "https://api.github.com/users/sssubik/repos",
    "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sssubik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 48,
  "created_at": "2020-07-09T10:11:05Z",
  "updated_at": "2021-06-03T08:42:54Z",
  "closed_at": "2021-06-03T08:42:54Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n\r\n#### System information\r\n\r\nGeth version: Geth/v1.9.13-stable\r\nOS & Version: ubuntu 18.04\r\n#### Expected behaviour\r\nMy server turned off abruptly where my full node GETH was running. Now when I fix the server and open the node the node should start running.\r\n\r\n#### Actual behaviour\r\nThe GETH node before the server crashed was running fully synced and was displaying importing chain segment.\r\nWhen I fixed the server after server turned off abruptly, and executing geth I am getting log as:\r\n```\r\nINFO [07-09|18:08:46.552] Starting Geth on Ethereum mainnet... \r\nINFO [07-09|18:08:46.553] Bumping default cache on mainnet         provided=1024 updated=4096\r\nINFO [07-09|18:08:46.555] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [07-09|18:08:46.555] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nERROR[07-09|18:08:46.555] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:46.555] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:46.555] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:46.555] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:46.555] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:46.556] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nINFO [07-09|18:08:46.556] Starting peer-to-peer node               instance=Geth/v1.9.13-stable-cbc4ac26/linux-amd64/go1.14.2\r\nINFO [07-09|18:08:46.556] Allocated trie memory caches             clean=614.00MiB dirty=1024.00MiB\r\nINFO [07-09|18:08:46.556] Allocated cache and file handles         database=/home/user/.ethereum/geth/chaindata cache=2.00GiB handles=524288\r\nERROR[07-09|18:08:47.563] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:47.564] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[07-09|18:08:47.564] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nDEBUG[07-13|14:21:29.599] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=headers items=10329515 size=0.00B\r\nDEBUG[07-13|14:21:29.599] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=hashes  items=10329515 size=0.00B\r\nDEBUG[07-13|14:21:29.599] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=bodies  items=10329515 size=0.00B\r\nDEBUG[07-13|14:21:29.599] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=receipts items=10329515 size=0.00B\r\nDEBUG[07-13|14:21:29.600] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=diffs    items=10329515 size=0.00B\r\nINFO [07-13|14:21:29.600] Opened ancient database                  database=/home/user/.ethereum/geth/chaindata/ancient\r\nFatal: Error starting protocol stack: genesis mismatch: 0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3 (leveldb) !=  (ancients))\r\n```\r\n\r\nThe server was off for around 8 hours is this the reason there is a mismatch problem? I dont know why the Genesis mismatch problem is there. Could you provide me with a solution to initialize the GETH node with a genesis block again or any other solution\r\n**Steps** to reproduce the behaviour\r\nInstall GETH full node and if the server turns off due to some problem the above error shows up if you reboot the server.\r\n\r\n\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/656218961",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-656218961",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 656218961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjIxODk2MQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-09T16:12:55Z",
    "updated_at": "2020-07-09T16:12:55Z",
    "author_association": "NONE",
    "body": "Hey @karalabe . Really need your help. Please could you tell me some solution or any help..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/656218961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657518624",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-657518624",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 657518624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzUxODYyNA==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T12:00:04Z",
    "updated_at": "2020-07-13T12:00:04Z",
    "author_association": "MEMBER",
    "body": "Hi @sssubik sorry for the late reply. Is the corrupted database still available? \r\n\r\nhttps://github.com/ethereum/go-ethereum/pull/21327\r\n\r\nI added a debug log to expose the root error for the failure, hopefully it's not late",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657518624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657528112",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-657528112",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 657528112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzUyODExMg==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T12:20:33Z",
    "updated_at": "2020-07-13T12:28:05Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442 Yes the corrupted database is still available. What should I do? Do I need to resync?\r\nOkay I will show you the log once the commit is done.. Will it be done today?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657528112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657972370",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-657972370",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 657972370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Nzk3MjM3MA==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-14T05:18:23Z",
    "updated_at": "2020-07-14T15:29:22Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442 I tried the new version and now I am getting this:\r\n```\r\n `DEBUG[07-14|08:29:09.522] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=receipts items=10329515 size=0.00B\r\nDEBUG[07-14|08:29:09.522] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=diffs    items=10329515 size=0.00B\r\nDEBUG[07-14|08:29:09.522] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=headers  items=10329515 size=0.00B\r\nDEBUG[07-14|08:29:09.522] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=hashes   items=10329515 size=0.00B\r\nDEBUG[07-14|08:29:09.522] Chain freezer table opened               database=/home/user/.ethereum/geth/chaindata/ancient table=bodies   items=10329515 size=0.00B\r\nINFO [07-14|08:29:09.522] Opened ancient database                  database=/home/user/.ethereum/geth/chaindata/ancient\r\nFatal: Error starting protocol stack: failed to retrieve genesis from ancient EOF`\r\n```\r\nWhat would I need to do? @rjl493456442 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657972370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658558919",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658558919",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658558919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU1ODkxOQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T05:45:57Z",
    "updated_at": "2020-07-15T05:45:57Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442. I did some research and found no solution. I find that the GETH once shutdown abruptly prunes the states in freezer without pruning level db due to some roll back to correct state. Could you provide me more detailed explanation or solution?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658558919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658563419",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658563419",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658563419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU2MzQxOQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:01:04Z",
    "updated_at": "2020-07-15T06:01:50Z",
    "author_association": "MEMBER",
    "body": "@sssubik Can you list your ancient directory? \r\n\r\nSomething I don't understand is `items=10329515 size=0.00B` there are 10M items in the ancient directory but the head file size is 0.\r\n\r\nNow I have no clue why the ancient will return an empty genesis for you. It's not easy to debug without a corrupted database. Maybe you can help a bit by offering some information.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658563419/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658568337",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658568337",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658568337,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU2ODMzNw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:15:58Z",
    "updated_at": "2020-07-15T06:17:14Z",
    "author_association": "NONE",
    "body": "```\r\n`bodies.0000.cdat  bodies.0021.cdat  bodies.0042.cdat    receipts.0004.cdat\r\nbodies.0001.cdat  bodies.0022.cdat  bodies.0043.cdat    receipts.0005.cdat\r\nbodies.0002.cdat  bodies.0023.cdat  bodies.0044.cdat    receipts.0006.cdat\r\nbodies.0003.cdat  bodies.0024.cdat  bodies.0045.cdat    receipts.0007.cdat\r\nbodies.0004.cdat  bodies.0025.cdat  bodies.0046.cdat    receipts.0008.cdat\r\nbodies.0005.cdat  bodies.0026.cdat  bodies.0047.cdat    receipts.0009.cdat\r\nbodies.0006.cdat  bodies.0027.cdat  bodies.0048.cdat    receipts.0010.cdat\r\nbodies.0007.cdat  bodies.0028.cdat  bodies.cidx         receipts.0011.cdat\r\nbodies.0008.cdat  bodies.0029.cdat  diffs.0000.rdat     receipts.0012.cdat\r\nbodies.0009.cdat  bodies.0030.cdat  diffs.ridx          receipts.0013.cdat\r\nbodies.0010.cdat  bodies.0031.cdat  FLOCK               receipts.0014.cdat\r\nbodies.0011.cdat  bodies.0032.cdat  hashes.0000.rdat    receipts.0015.cdat\r\nbodies.0012.cdat  bodies.0033.cdat  hashes.ridx         receipts.0016.cdat\r\nbodies.0013.cdat  bodies.0034.cdat  headers.0000.cdat   receipts.0017.cdat\r\nbodies.0014.cdat  bodies.0035.cdat  headers.0001.cdat   receipts.0018.cdat\r\nbodies.0015.cdat  bodies.0036.cdat  headers.0002.cdat   receipts.0019.cdat\r\nbodies.0016.cdat  bodies.0037.cdat  headers.cidx        receipts.0020.cdat\r\nbodies.0017.cdat  bodies.0038.cdat  receipts.0000.cdat  receipts.0021.cdat\r\nbodies.0018.cdat  bodies.0039.cdat  receipts.0001.cdat  receipts.cidx\r\nbodies.0019.cdat  bodies.0040.cdat  receipts.0002.cdat\r\nbodies.0020.cdat  bodies.0041.cdat  receipts.0003.cdat\r\n`\r\n```\r\nHey I have listed my ancient directory. Also the space I calculate gives me this:\r\n`131G\tancient`\r\nIf anything more need I will provide. Would be really frustrating if have to resync..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658568337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658569419",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658569419",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658569419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU2OTQxOQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:19:05Z",
    "updated_at": "2020-07-15T06:19:05Z",
    "author_association": "MEMBER",
    "body": "Can you also give me the size of `hashes.ridx` and `hashes.0000.rdat`? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658569419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658569946",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658569946",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658569946,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU2OTk0Ng==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:20:35Z",
    "updated_at": "2020-07-15T06:20:35Z",
    "author_association": "NONE",
    "body": "`60M\thashes.ridx`\r\n`0\thashes.0000.rdat`\r\n\r\nhashes.0000.rdat shows 0 MB",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658569946/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658571119",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658571119",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658571119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU3MTExOQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:24:02Z",
    "updated_at": "2020-07-15T06:24:02Z",
    "author_association": "MEMBER",
    "body": "@sssubik I have to say sorry. I think there is a bug in the codebase, but the ancient database is already broken(and useless unless we do some manual recovery).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658571119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658571915",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658571915",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658571915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU3MTkxNQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:26:14Z",
    "updated_at": "2020-07-15T06:26:14Z",
    "author_association": "NONE",
    "body": "@rjl493456442 What does this mean. Do I need to resync? Or can I do some manual recovery? Also if I need to resync am I gonna be able to leverage the downloaded states I already have to complete resync in less time?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658571915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658574297",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658574297",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658574297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU3NDI5Nw==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:32:52Z",
    "updated_at": "2020-07-15T06:32:52Z",
    "author_association": "MEMBER",
    "body": "Do you have any other synced Geth instance? \r\n\r\nManual recovery means: \r\n- Drop another synced `hashes.0000.rdat` file there for replacement(**Note, the new file should contain more elements then the broken one**\r\n- Write a script the iterate the `Header` table and then inject the `header hash` into the broken `hashes.0000.rdat` file. It needs some coding work, maybe not a good idea\r\n\r\n> Also if I need to resync am I gonna be able to leverage the downloaded states I already have to complete resync in less time\r\n\r\nTo be honest I don't think we can plugin the downloaded states without any modification. The hacky way is: iterating the leveldb, delete all chain data(headers, tds, receipts, bodies, chain marker) but keep the states and then re-sync.\r\n\r\nDownload the chain is fast, download the state is painful. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658574297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658577792",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658577792",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658577792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU3Nzc5Mg==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T06:42:27Z",
    "updated_at": "2020-07-15T06:49:51Z",
    "author_association": "MEMBER",
    "body": "Can you search the history log that whether `Truncating dangling head ...` or `Truncating dangling indexes ...` or `Truncating freezer table` even appear?\r\nI am digging the root cause and the log might help.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658577792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658587470",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658587470",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658587470,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU4NzQ3MA==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:06:41Z",
    "updated_at": "2020-07-15T07:21:17Z",
    "author_association": "NONE",
    "body": "Hey I dont have any other synced GETH instance\r\n\r\n> Drop another synced hashes.0000.rdat file there for replacement(Note, the new file should contain more elements then the broken one\r\n\r\nSo, can I find a synced hashes.0000.rdat file from somewhere else.\r\nAlso \r\n\r\n> The hacky way is: iterating the leveldb, delete all chain data(headers, tds, receipts, bodies, chain marker) but keep the states and then re-sync.\r\n\r\nDo you mean this `geth removedb`? But isnt the problem in the ancient folder? And to resync I just run the geth command again? Also how long could it take? \r\n\r\n> Can you search the history log that whether Truncating dangling head ... or Truncating dangling indexes ... or Truncating freezer table even appear?\r\n\r\nAs far as I know how to search log I get this:\r\n```\r\nsudo journalctl -u geth.service --no-page | grep [Truncating dangling head ]\r\ngrep: Unmatched [ or [^\r\nSubik@h2883546:~$ sudo journalctl -u geth.service --no-page | grep [Truncating dangling indexes ]\r\ngrep: Unmatched [ or [^\r\nSubik@h2883546:~$ sudo journalctl -u geth.service --no-page | grep [Truncating freezer table]\r\ngrep: Unmatched [ or [^\r\n```\r\nI cant find the log you just sent me",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658587470/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658590919",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658590919",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658590919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU5MDkxOQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:14:53Z",
    "updated_at": "2020-07-15T07:19:10Z",
    "author_association": "NONE",
    "body": "Sorry the above search of logs was wrong. I do get this:\r\n```\r\nJul 09 11:20:42  WARN [07-09|11:20:42.683] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=diffs indexed=0.00B stored=101.37MiB\r\nJul 09 11:20:42 WARN [07-09|11:20:42.687] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=headers indexed=0.00B stored=1.86GiB\r\nJul 09 11:20:42  WARN [07-09|11:20:42.695] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=hashes  indexed=0.00B stored=315.23MiB\r\nJul 09 11:20:42 WARN [07-09|11:20:42.701] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=bodies  indexed=0.00B stored=1.86GiB\r\nJul 09 11:20:42  WARN [07-09|11:20:42.712] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=receipts indexed=0.00B stored=1.86GiB\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658590919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658594084",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658594084",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658594084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU5NDA4NA==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:21:53Z",
    "updated_at": "2020-07-15T07:21:53Z",
    "author_association": "MEMBER",
    "body": "@sssubik `geth removedb` will also delete the downloaded state, don't do it.\r\n\r\nI think we can offer you the synced  ancient file if you want. @holiman says \"We can do that, but I don't have time to do it during the day, maybe toward the evening\"",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658594084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658595000",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658595000",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658595000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODU5NTAwMA==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:24:06Z",
    "updated_at": "2020-07-15T07:25:38Z",
    "author_association": "NONE",
    "body": "@rjl493456442 \r\nYes that would be great.. Okay I can wait towards the evening. Do I just copy the file to the ancient folder?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658595000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658602682",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658602682",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658602682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODYwMjY4Mg==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:41:36Z",
    "updated_at": "2020-07-15T07:41:36Z",
    "author_association": "MEMBER",
    "body": "@sssubik Yes, basically the truncated files for replacement. Do you have any other logs before these `Truncating dangling head`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658602682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658609819",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658609819",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658609819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODYwOTgxOQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:56:29Z",
    "updated_at": "2020-07-15T07:56:59Z",
    "author_association": "NONE",
    "body": "@rjl493456442 Ohh okay.\r\nI have this:\r\n```\r\nJul 08 16:48:43 [418]: INFO [07-08|16:48:43.125] Deep froze chain segment                 blocks=4    elapsed=29.928ms  number=10329509 hash=c2ec4a6c3eaa\r\nJul 08 16:48:54 [418]: INFO [07-08|16:48:54.318] Imported new chain segment               blocks=1    txs=178  mgas=11.656  elapsed=344.712ms mgasps=33.812  number=10419511 hash=d9d18e6a5227 dirty=733.40MiB\r\nJul 08 16:48:56 [418]: INFO [07-08|16:48:56.063] Imported new chain segment               blocks=1    txs=126  mgas=11.672  elapsed=257.415ms mgasps=45.342  number=10419512 hash=6d6102d735f5 dirty=733.50MiB\r\nJul 08 16:49:06 [418]: INFO [07-08|16:49:06.565] Imported new chain segment               blocks=1    txs=181  mgas=11.644  elapsed=1.401s    mgasps=8.310   number=10419513 hash=76c035886d06 dirty=733.79MiB\r\nJul 08 16:49:24 [418]: INFO [07-08|16:49:24.706] Imported new chain segment               blocks=1    txs=236  mgas=11.675  elapsed=445.034ms mgasps=26.235  number=10419514 hash=44319c5ab7ad dirty=734.31MiB\r\nJul 08 16:49:36 [418]: INFO [07-08|16:49:36.692] Imported new chain segment               blocks=1    txs=172  mgas=11.683  elapsed=388.708ms mgasps=30.055  number=10419515 hash=0b4c1e4fee7e dirty=735.31MiB\r\n-- Reboot --\r\nJul 09 11:19:48 h2883546.stratoserver.net systemd[1]: Started Go Ethereum Client.\r\nJul 09 11:19:52 [184]: INFO [07-09|11:19:52.370] Starting Geth on Ethereum mainnet...\r\nJul 09 11:19:52 [184]: INFO [07-09|11:19:52.370] Bumping default cache on mainnet         provided=1024 updated=4096\r\nJul 09 11:19:52 [184]: INFO [07-09|11:19:52.377] Maximum peer count                       ETH=50 LES=0 total=50\r\nJul 09 11:19:52 [184]: INFO [07-09|11:19:52.380] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.495] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.495] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.495] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.496] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.496] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:52.496] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: INFO [07-09|11:19:52.511] Starting peer-to-peer node               instance=Geth/v1.9.13-stable-cbc4ac26/linux-amd64/go1.14.2\r\nJul 09 11:19:53 [184]: INFO [07-09|11:19:52.514] Allocated trie memory caches             clean=614.00MiB dirty=1024.00MiB\r\nJul 09 11:19:53 [184]: INFO [07-09|11:19:52.514] Allocated cache and file handles         database=/home/user/.ethereum/geth/chaindata cache=2.00GiB handles=2048\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:53.496] Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:53.501] Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:19:53 [184]: ERROR[07-09|11:19:53.501] Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nJul 09 11:20:42 [184]: WARN [07-09|11:20:42.683] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=diffs indexed=0.00B stored=101.37MiB\r\nJul 09 11:20:42 [184]: WARN [07-09|11:20:42.687] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=headers indexed=0.00B stored=1.86GiB\r\nJul 09 11:20:42 [184]: WARN [07-09|11:20:42.695] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=hashes  indexed=0.00B stored=315.23MiB\r\nJul 09 11:20:42 [184]: WARN [07-09|11:20:42.701] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=bodies  indexed=0.00B stored=1.86GiB\r\nJul 09 11:20:42 [184]: WARN [07-09|11:20:42.712] Truncating dangling head                 database=/home/user/.ethereum/geth/chaindata/ancient table=receipts indexed=0.00B stored=1.86GiB\r\nJul 09 11:20:42 [184]: INFO [07-09|11:20:42.719] Opened ancient database                  database=/home/user/.ethereum/geth/chaindata/ancient\r\nJul 09 11:20:42 [184]: Fatal: Error starting protocol stack: genesis mismatch: 0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3 (leveldb) !=  (ancients)\r\n```\r\nAlso The server crashed and was closed for around 10hours before reboot.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658609819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658611230",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658611230",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658611230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODYxMTIzMA==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T07:59:29Z",
    "updated_at": "2020-07-15T07:59:29Z",
    "author_association": "MEMBER",
    "body": "Any other logs before crash?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658611230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658617746",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658617746",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658617746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODYxNzc0Ng==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T08:12:26Z",
    "updated_at": "2020-07-15T08:13:25Z",
    "author_association": "NONE",
    "body": "Not much really. Only Imported new chain segment.\r\n```\r\nJul 08 16:47:31 [418]: INFO [07-08|16:47:31.376] Imported new chain segment               blocks=1    txs=155  mgas=11.658  elapsed=211.066ms mgasps=55.236  number=10419505 hash=9877f3974cb7 dirty=730.99MiB\r\nJul 08 16:47:37 [418]: INFO [07-08|16:47:37.392] Imported new chain segment               blocks=1    txs=175  mgas=11.644  elapsed=438.830ms mgasps=26.535  number=10419506 hash=7e29210b9124 dirty=731.52MiB\r\nJul 08 16:47:43 [418]: INFO [07-08|16:47:43.095] Deep froze chain segment                 blocks=6    elapsed=29.678ms  number=10329505 hash=0b5308b5af87\r\nJul 08 16:47:48 [418]: INFO [07-08|16:47:48.591] Imported new chain segment               blocks=1    txs=192  mgas=10.898  elapsed=375.860ms mgasps=28.995  number=10419507 hash=fc5ac3db320c dirty=731.79MiB\r\nJul 08 16:47:53 [418]: INFO [07-08|16:47:53.086] Imported new chain segment               blocks=1    txs=154  mgas=11.664  elapsed=364.508ms mgasps=31.999  number=10419508 hash=c78c69da55da dirty=731.97MiB\r\nJul 08 16:48:34 [418]: INFO [07-08|16:48:34.780] Imported new chain segment               blocks=1    txs=254  mgas=11.693  elapsed=413.370ms mgasps=28.286  number=10419509 hash=79f4fab4e660 dirty=731.90MiB\r\nJul 08 16:48:41 [418]: INFO [07-08|16:48:41.136] Imported new chain segment               blocks=1    txs=132  mgas=11.679  elapsed=278.009ms mgasps=42.011  number=10419510 hash=bc72061799dc dirty=733.25MiB\r\nJul 08 16:48:43 [418]: INFO [07-08|16:48:43.125] Deep froze chain segment                 blocks=4    elapsed=29.928ms  number=10329509 hash=c2ec4a6c3eaa\r\nJul 08 16:48:54 [418]: INFO [07-08|16:48:54.318] Imported new chain segment               blocks=1    txs=178  mgas=11.656  elapsed=344.712ms mgasps=33.812  number=10419511 hash=d9d18e6a5227 dirty=733.40MiB\r\nJul 08 16:48:56 [418]: INFO [07-08|16:48:56.063] Imported new chain segment               blocks=1    txs=126  mgas=11.672  elapsed=257.415ms mgasps=45.342  number=10419512 hash=6d6102d735f5 dirty=733.50MiB\r\nJul 08 16:49:06 [418]: INFO [07-08|16:49:06.565] Imported new chain segment               blocks=1    txs=181  mgas=11.644  elapsed=1.401s    mgasps=8.310   number=10419513 hash=76c035886d06 dirty=733.79MiB\r\nJul 08 16:49:24 [418]: INFO [07-08|16:49:24.706] Imported new chain segment               blocks=1    txs=236  mgas=11.675  elapsed=445.034ms mgasps=26.235  number=10419514 hash=44319c5ab7ad dirty=734.31MiB\r\nJul 08 16:49:36 [418]: INFO [07-08|16:49:36.692] Imported new chain segment               blocks=1    txs=172  mgas=11.683  elapsed=388.708ms mgasps=30.055  number=10419515 hash=0b4c1e4fee7e dirty=735.31MiB\r\n-- Reboot --\r\n```\r\n\r\nBut Some other logs that were like 10hours or more before the crash:\r\n\r\n```\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.621] Demoting invalidated transaction         hash=6f174b1c6ed8\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.621] Demoting invalidated transaction         hash=b8ecb03bf582\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.621] Demoting invalidated transaction         hash=6493356c9365\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=37d9e722ec25\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=9e4756ed17f6\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=d44eb989c1ff\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=2b089e390f77\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=da73ed64c0ca\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=f405f8b93414\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=e75470d4840d\r\nJul 08 04:43:56 [418]: ERROR[07-08|04:43:56.681] Demoting invalidated transaction         hash=cbd6d6796e99\r\n```\r\n\r\nAlso this unique one:\r\n`Jul 08 15:30:37 [418]: INFO [07-08|15:30:37.013] Chain reorg detected                     number=10419158 hash=ddd8baa8ad68 drop=1 dropfrom=0b9a3b91797d add=2 addfrom=5f5fd628d552\r\n\r\nJul 08 16:02:25 [418]: INFO [07-08|16:02:25.609] Chain reorg detected                     =10419296 hash=90c89bfeb214 drop=1 dropfrom=28571caca82f add=2 addfrom=5c6482cd2d7b`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658617746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658759524",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658759524",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658759524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODc1OTUyNA==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T13:13:27Z",
    "updated_at": "2020-07-15T13:13:27Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442 Can you tell your local time? Or after how much time @holiman will be available to send the synced ancient file?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658759524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658763169",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658763169",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658763169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODc2MzE2OQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T13:20:19Z",
    "updated_at": "2020-07-15T13:20:19Z",
    "author_association": "MEMBER",
    "body": "@sssubik No idea, probably a few hours later. Btw I would suggest you to replace all `*.idx` files (e.g. `diffs.ridx`, `bodies.cidx`, etc) and all `*.dat` files **with largest file suffix** (e.g. `hashes.0000.rdat`, `diffs.0000.rdat`, `bodies.0048.cdat`, `receipts.0021.cdat`, `headers.0002.cdat`)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658763169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658774541",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658774541",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658774541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODc3NDU0MQ==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T13:40:44Z",
    "updated_at": "2020-07-15T13:41:08Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442 \r\n`cp -f [oringinal file] [new file]`\r\nCopies the original file and overwrites the target file\r\n\r\n`cp -f  diffs.0000.rdat diffs.ridx`\r\n\r\nDo you mean this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658774541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658775941",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658775941",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658775941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODc3NTk0MQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T13:43:23Z",
    "updated_at": "2020-07-15T13:43:59Z",
    "author_association": "MEMBER",
    "body": "@sssubik No, I think @holiman  will publish our ancient folder somewhere, you only need to copy `hashes.0000.rdat`, `diffs.0000.rdat`, `bodies.0048.cdat`, `receipts.0021.cdat`, `headers.0002.cdat`, `diffs.ridx`, `bodies.cidx`, `hashes.ridx`, `headers.cidx` and `receipts.cidx` to replace your local files. I think it's enough.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658775941/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658908651",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-658908651",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 658908651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1ODkwODY1MQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-15T17:46:47Z",
    "updated_at": "2020-07-15T17:52:26Z",
    "author_association": "MEMBER",
    "body": "I've uploaded some of it to s3. Install `aws` client, and try this: \r\n```\r\n[user@work ~]$ aws s3 ls s3://ancient-blockdata/\r\n2020-07-15 19:34:57 1999999645 bodies.0000.cdat\r\n2020-07-15 19:36:28  106796394 diffs.0000.rdat\r\n2020-07-15 19:35:26 1999999735 headers.0000.cdat\r\n2020-07-15 19:35:58 1999995570 receipts.0000.cdat\r\n[user@work ~]$ aws s3 cp s3://ancient-blockdata/diffs.0000.rdat .\r\n\r\n```\r\n\r\nSo you _should_ be able to replace your broken `bodies.0000.cdat` (all `.0000.` cdat/rdat files that are uploaded) with that^ . \r\n\r\nThe ones you should download are: \r\n```\r\n2020-07-15 19:34:57 1999999645 bodies.0000.cdat\r\n2020-07-15 19:36:28  106796394 diffs.0000.rdat\r\n2020-07-15 19:51:23  332016320 hashes.0000.rdat\r\n2020-07-15 19:35:26 1999999735 headers.0000.cdat\r\n2020-07-15 19:35:58 1999995570 receipts.0000.cdat\r\n```\r\n\r\nHopefully, your indexes are correct and matches the offsets in the data files. \r\n\r\nThe only problem is the `diffs.000.rdat`. It never filled up the `2G` limit, and thus won't be identical to what you had. So what I think will happen is that it will truncate your data according to how many items are in `diffs.0000.rdat`. \r\n\r\nI don't think you will need to modify your `idx` files. \r\n\r\nNote: this may well fail. It may even cause some of your existing ancient-data to become truncated (lost), but it might be worth a shot. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/658908651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659132957",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-659132957",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 659132957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTEzMjk1Nw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T03:18:00Z",
    "updated_at": "2020-07-16T08:48:33Z",
    "author_association": "NONE",
    "body": "Hey I have not used AWS till now. When I try to run the command:\r\n`aws s3 cp s3://ancient-blockdata/diffs.0000.rdat .`\r\n\r\nIt gives me: `fatal error: An error occurred (403) when calling the HeadObject operation: Forbidden`\r\n\r\nAs I did some research looks like it needs a region parameter as AWS only allows download from a region based URL.\r\nCould you provide me your region in AWS like:\r\n\r\n`aws s3 cp s3://ancient-blockdata/diffs.0000.rdat . **--region us-west-2b**`\r\n\r\nOr may be I need the permission to download the file.?\r\nMy Account name for AWS is **ssubik**\r\n\r\nHey @holiman  may be I need the access through IAM User or is it Public?\r\nThanks\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659132957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659136391",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-659136391",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 659136391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTEzNjM5MQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T03:30:40Z",
    "updated_at": "2020-07-16T03:30:40Z",
    "author_association": "MEMBER",
    "body": "btw @holiman I do think the indexes are corrupted. Like the last element in indexes are invalid.\r\nIf we can't fix these indexes the data will be truncated anyway.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659136391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659312133",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-659312133",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 659312133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTMxMjEzMw==",
    "user": {
      "login": "sssubik",
      "id": 33048746,
      "node_id": "MDQ6VXNlcjMzMDQ4NzQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33048746?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sssubik",
      "html_url": "https://github.com/sssubik",
      "followers_url": "https://api.github.com/users/sssubik/followers",
      "following_url": "https://api.github.com/users/sssubik/following{/other_user}",
      "gists_url": "https://api.github.com/users/sssubik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sssubik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sssubik/subscriptions",
      "organizations_url": "https://api.github.com/users/sssubik/orgs",
      "repos_url": "https://api.github.com/users/sssubik/repos",
      "events_url": "https://api.github.com/users/sssubik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sssubik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T10:05:51Z",
    "updated_at": "2020-07-16T10:10:05Z",
    "author_association": "NONE",
    "body": "Hey @rjl493456442 I am also downloading a light client right now so that I can use the ethereum blockchain. I have simple question as to \r\n**Can I invoke a smart contract function through light client ipc at the backend?**\r\n\r\nAlso the above aws command to download the files are not working.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659312133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659882099",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21315#issuecomment-659882099",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21315",
    "id": 659882099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTg4MjA5OQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-17T06:10:48Z",
    "updated_at": "2020-07-17T06:10:48Z",
    "author_association": "MEMBER",
    "body": "@sssubik Sure, light client should provide *nearly all* functionalities as the full node but it's a little bit slower and unstable(need server connections).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/659882099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
