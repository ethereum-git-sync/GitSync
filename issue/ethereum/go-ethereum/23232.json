{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23232",
  "id": 947504381,
  "node_id": "MDU6SXNzdWU5NDc1MDQzODE=",
  "number": 23232,
  "title": "Always seeing bogus \"Unclean shutdown detected\" messages",
  "user": {
    "login": "SjonHortensius",
    "id": 1684987,
    "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SjonHortensius",
    "html_url": "https://github.com/SjonHortensius",
    "followers_url": "https://api.github.com/users/SjonHortensius/followers",
    "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
    "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
    "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
    "repos_url": "https://api.github.com/users/SjonHortensius/repos",
    "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-07-19T10:22:46Z",
  "updated_at": "2022-07-23T12:51:04Z",
  "closed_at": "2021-07-21T06:26:57Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.10.5-stable-33ca98ec/linux-amd64/go1.16.6`\r\n\r\n#### Expected behaviour\r\n\r\nGeth could log unclean shutdowns once (although the usefulness is debatable)\r\n\r\n#### Actual behaviour\r\n\r\nGeth keeps warning there have in the past been unclean shutdowns (even after clean shutdowns were done after that)\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n* have unclean shutdowns\r\n* see them always when starting geth\r\n\r\n#### Backtrace\r\n\r\n````\r\nJun 28 16:25:57 machine geth: WARN [06-28|16:25:57.771] Unclean shutdown detected                booted=2021-06-05T19:19:46+0200 age=3w1d21h\r\nJun 28 16:25:57 machine geth: WARN [06-28|16:25:57.771] Unclean shutdown detected                booted=2021-06-19T10:14:57+0200 age=1w2d6h\r\n...\r\nJul 19 12:10:42 machine geth[: INFO [07-19|12:10:42.484] Blockchain stopped\r\nJul 19 12:10:49 machine systemd[1]: geth.service: Deactivated successfully.\r\nJul 19 12:10:52 machine geth: WARN [07-19|12:10:52.873] Unclean shutdown detected                booted=2021-06-05T19:19:46+0200 age=1mo1w6d\r\nJul 19 12:10:52 machine geth: WARN [07-19|12:10:52.873] Unclean shutdown detected                booted=2021-06-19T10:14:57+0200 age=1mo1h55m\r\n\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.",
  "closed_by": {
    "login": "SjonHortensius",
    "id": 1684987,
    "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SjonHortensius",
    "html_url": "https://github.com/SjonHortensius",
    "followers_url": "https://api.github.com/users/SjonHortensius/followers",
    "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
    "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
    "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
    "repos_url": "https://api.github.com/users/SjonHortensius/repos",
    "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882434478",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23232#issuecomment-882434478",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
    "id": 882434478,
    "node_id": "IC_kwDOAOvK9840mOGu",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T10:25:57Z",
    "updated_at": "2021-07-19T10:25:57Z",
    "author_association": "MEMBER",
    "body": "> Geth could log unclean shutdowns once (although the usefulness is debatable)\r\n\r\nwhy do you think the usefulness is debatable?\r\n\r\n> Geth keeps warning there have in the past been unclean shutdowns (even after clean shutdowns were done after that)\r\n\r\na clean shutdown does not repair the problems arising from an unclean shutdown",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882434478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882436355",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23232#issuecomment-882436355",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
    "id": 882436355,
    "node_id": "IC_kwDOAOvK9840mOkD",
    "user": {
      "login": "SjonHortensius",
      "id": 1684987,
      "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SjonHortensius",
      "html_url": "https://github.com/SjonHortensius",
      "followers_url": "https://api.github.com/users/SjonHortensius/followers",
      "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
      "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
      "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
      "repos_url": "https://api.github.com/users/SjonHortensius/repos",
      "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T10:29:08Z",
    "updated_at": "2021-07-19T10:29:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > Geth could log unclean shutdowns once (although the usefulness is debatable)\r\n> \r\n> why do you think the usefulness is debatable?\r\n\r\nI have never experienced a crash that was only observable through this message. Either something is wrong, and my logs show that it didn't shutdown properly so that was the cause - or something isn't wrong and `geth` works as expected. This message doesn't provide me with additional information.\r\n\r\n> > Geth keeps warning there have in the past been unclean shutdowns (even after clean shutdowns were done after that)\r\n> \r\n> a clean shutdown does not repair the problems arising from an unclean shutdown\r\n\r\nRight. So I need to complete rebuild my database to get rid of this message even though everything works fine?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882436355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/883803320",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23232#issuecomment-883803320",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
    "id": 883803320,
    "node_id": "IC_kwDOAOvK9840rcS4",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T00:55:37Z",
    "updated_at": "2021-07-21T00:55:37Z",
    "author_association": "MEMBER",
    "body": "This log entry really helps us getting context on reports we get. Wondering why you have unclean shutdowns in the first place - can't you avoid them? And wouldn't avoiding them solve your issue also?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/883803320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/883927301",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23232#issuecomment-883927301",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
    "id": 883927301,
    "node_id": "IC_kwDOAOvK9840r6kF",
    "user": {
      "login": "SjonHortensius",
      "id": 1684987,
      "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SjonHortensius",
      "html_url": "https://github.com/SjonHortensius",
      "followers_url": "https://api.github.com/users/SjonHortensius/followers",
      "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
      "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
      "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
      "repos_url": "https://api.github.com/users/SjonHortensius/repos",
      "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T06:26:57Z",
    "updated_at": "2021-07-21T06:26:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay - you are probably right. I falsely expected these errors to get cleared but I understand their use and I get why this was done intentional. I'll ignore them or rebuild my database to get rid of these.. Their cause isn't relevant to this issue - I caused them myself while testing some things",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/883927301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1193120558",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23232#issuecomment-1193120558",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23232",
    "id": 1193120558,
    "node_id": "IC_kwDOAOvK985HHZMu",
    "user": {
      "login": "newearthmartin",
      "id": 1507266,
      "node_id": "MDQ6VXNlcjE1MDcyNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1507266?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/newearthmartin",
      "html_url": "https://github.com/newearthmartin",
      "followers_url": "https://api.github.com/users/newearthmartin/followers",
      "following_url": "https://api.github.com/users/newearthmartin/following{/other_user}",
      "gists_url": "https://api.github.com/users/newearthmartin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/newearthmartin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/newearthmartin/subscriptions",
      "organizations_url": "https://api.github.com/users/newearthmartin/orgs",
      "repos_url": "https://api.github.com/users/newearthmartin/repos",
      "events_url": "https://api.github.com/users/newearthmartin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/newearthmartin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-23T12:51:04Z",
    "updated_at": "2022-07-23T12:51:04Z",
    "author_association": "NONE",
    "body": "> I falsely expected these errors to get cleared\r\n\r\nThat's a normal, healthy expectation. After everything is solved, **there should be no weird \"problem sounding\" messages in the logs.**\r\n\r\nSeeing a message like this makes you wonder what's wrong and that's stressful, considering that geth is the foundation of the validator stack.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1193120558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
