{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23491",
  "id": 982055073,
  "node_id": "MDU6SXNzdWU5ODIwNTUwNzM=",
  "number": 23491,
  "title": "t8ntool behavior on exception",
  "user": {
    "login": "winsvega",
    "id": 4492341,
    "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/winsvega",
    "html_url": "https://github.com/winsvega",
    "followers_url": "https://api.github.com/users/winsvega/followers",
    "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
    "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
    "organizations_url": "https://api.github.com/users/winsvega/orgs",
    "repos_url": "https://api.github.com/users/winsvega/repos",
    "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
    "received_events_url": "https://api.github.com/users/winsvega/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-08-29T10:04:46Z",
  "updated_at": "2021-09-02T07:15:39Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Currently the t8ntool fails with error code providing no result file \r\nI suggest to still provide result file with an error message (--output.result)\r\n\r\n\r\n# Rationale\r\n\r\nI plan to feed all kinds of invalid data to t8ntool, but need feedback with an error message on what exactly went wrong. \r\nThis is to find potential cases where t8ntool does not report an error when some of the input parameters is off bounds\r\nlike address  < or > of 20bytes, or values > 32\nIf I just check the return code, it is a potential false positive as I expect it fails but the tool might fail to another reason \r\n\r\n# Implementation\r\n\r\nt8ntool should parse fields in input .jsons as big int and verify against ethereum protocol restrictions\r\nin case of exception execution halts but the output file is still produced with exception string\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907827728",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23491#issuecomment-907827728",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491",
    "id": 907827728,
    "node_id": "IC_kwDOAOvK9842HFoQ",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-29T17:00:20Z",
    "updated_at": "2021-08-29T17:00:20Z",
    "author_association": "MEMBER",
    "body": "Could you make an example of where it fails in a way you do not expect? It'll be easier to fix this if we have some examples of what you mean.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907827728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/909122721",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23491#issuecomment-909122721",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491",
    "id": 909122721,
    "node_id": "IC_kwDOAOvK9842MByh",
    "user": {
      "login": "winsvega",
      "id": 4492341,
      "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winsvega",
      "html_url": "https://github.com/winsvega",
      "followers_url": "https://api.github.com/users/winsvega/followers",
      "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
      "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
      "organizations_url": "https://api.github.com/users/winsvega/orgs",
      "repos_url": "https://api.github.com/users/winsvega/repos",
      "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winsvega/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-31T10:49:10Z",
    "updated_at": "2021-08-31T10:49:10Z",
    "author_association": "MEMBER",
    "body": "Currently I get an error code and t8ntool execution aborted.\r\n\r\n```\r\nrlp: input string too long for uint64, decoding into (types.Transactions)[0](types.LegacyTx).Gas\r\nError: The command '/home/wins/.retesteth/default/start.sh --input.alloc /dev/shm/423ca3c5-4f6b-4145-9066-4d8565168fc6/alloc.json --input.txs /dev/shm/423ca3c5-4f6b-4145-9066-4d8565168fc6/txs.rlp --input.env /dev/shm/423ca3c5-4f6b-4145-9066-4d8565168fc6/env.json --state.fork Berlin --output.basedir /dev/shm/423ca3c5-4f6b-4145-9066-4d8565168fc6 --output.result out.json --output.alloc outAlloc.json' exited with 256 code. (stExample/bigInt, fork: Berlin, TrInfo: d: 0, g: 0, v: 0)\r\n```\r\n\r\nThis happens when I send transaction rlp which is malformed. \r\nI suggest the tool treat such transaction as invalid and output unchanged pre state and error message on why the transaction is rejected. \r\n\r\nfather more if the same issue happens when parsing env (block header) fields, it can also act as if it was rejecting the block, output the pre state unchanged.  with this I can test malicious blocks and transaction for the tool. \r\nbut more so for HIVE  as this malicious fields are just being parsed by tool but on hive it would be represented as RLPs and imported in real environment simulation. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/909122721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/911300760",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23491#issuecomment-911300760",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23491",
    "id": 911300760,
    "node_id": "IC_kwDOAOvK9842UViY",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-02T07:15:39Z",
    "updated_at": "2021-09-02T07:15:39Z",
    "author_association": "MEMBER",
    "body": "Can you provide the exact data? I don't know what's inside of `/dev/shm/423ca3c5-4f6b-4145-9066-4d8565168fc6/txs.rlp`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/911300760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
