{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24927",
  "id": 1244158398,
  "node_id": "I_kwDOAOvK985KKFm-",
  "number": 24927,
  "title": "admin.addPeer does not work on a private testnet ",
  "user": {
    "login": "varnold0511",
    "id": 106005669,
    "node_id": "U_kgDOBlGEpQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/106005669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/varnold0511",
    "html_url": "https://github.com/varnold0511",
    "followers_url": "https://api.github.com/users/varnold0511/followers",
    "following_url": "https://api.github.com/users/varnold0511/following{/other_user}",
    "gists_url": "https://api.github.com/users/varnold0511/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/varnold0511/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/varnold0511/subscriptions",
    "organizations_url": "https://api.github.com/users/varnold0511/orgs",
    "repos_url": "https://api.github.com/users/varnold0511/repos",
    "events_url": "https://api.github.com/users/varnold0511/events{/privacy}",
    "received_events_url": "https://api.github.com/users/varnold0511/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-05-22T06:13:05Z",
  "updated_at": "2022-06-21T08:41:13Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello everyone:) I am new to ethereum and am trying to connect two nodes on a private net. I have read a lot about all possible mistakes why admin.addPeer() may not work but I think I have checked them all. \r\n\r\nMy genesis block is the same for both nodes: \r\n\r\n```\r\n\r\n\"config\": {\r\n    \"chainId\": 10,\r\n    \"homesteadBlock\": 0,\r\n    \"byzantiumBlock\": 0,\r\n    \"constantinopleBlock\": 0,\r\n    \"eip145Block\": 0,\r\n    \"eip150Block\": 0,\r\n    \"eip155Block\": 0,\r\n    \"eip158Block\": 0\r\n  },\r\n  \"alloc\" : {},\r\n  \"coinbase\" : \"0x0000000000000000000000000000000000000000\",\r\n  \"difficulty\" : \"0x20000\",\r\n  \"extraData\" : \"\",\r\n  \"gasLimit\" : \"0x2fefd8\",\r\n  \"nonce\" : \"0x0000000000000042\",\r\n  \"mixhash\" : \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"parentHash\" : \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"timestamp\" : \"0x00\"\r\n}\r\n\r\n```\r\n\r\n#### Expected behaviour\r\n\r\nHere the info on my node2: \r\n\r\n```\r\n> eth.nodeInfo\r\n{\r\n  enode: \"enode://2206dc3496d0927a794459e3ab0b1ed7a9e408a54ad3903eb51b7fcf61352b07499411bf13417d0384315c1adc9200c243b12d9e40baffc14c70308a4b776a7c@127.0.0.1:30304?discport=0\",\r\n  enr: \"enr:-Jy4QKuUXn85HfCxmx5IJqP06fL86-GT3mZ4B4g8B-JqzmNxDjo5vH465ZyfqxeDm4lfu-9pwR6_SJKXtT220V417ZeGAYDdeveNg2V0aMfGhHEB0w2AgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQIiBtw0ltCSenlEWeOrCx7XqeQIpUrTkD61G3_PYTUrB4RzbmFwwIN0Y3CCdmA\",\r\n  id: \"809baec598a3991a4145350b629cf0c9d4d114995bb7727c2c7dfd74764d2362\",\r\n  ip: \"127.0.0.1\",\r\n  listenAddr: \"[::]:30304\",\r\n  name: \"Geth/v1.10.17-stable/darwin-amd64/go1.18\",\r\n  ports: {\r\n    discovery: 0,\r\n    listener: 30304\r\n  },\r\n  protocols: {\r\n    eth: {\r\n      config: {\r\n        byzantiumBlock: 0,\r\n        chainId: 10,\r\n        constantinopleBlock: 0,\r\n        eip150Block: 0,\r\n        eip150Hash: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n        eip155Block: 0,\r\n        eip158Block: 0,\r\n        homesteadBlock: 0\r\n      },\r\n      difficulty: 733329159,\r\n      genesis: \"0x5e1fc79cb4ffa4739177b5408045cd5d51c6cf766133f23f7cd72ee1f8d790e0\",\r\n      head: \"0xf8fac14d8d20527f74d9c5d13ab0911f05055489c37c28a861c8546c89c29aef\",\r\n      network: 2345\r\n    },\r\n    snap: {}\r\n  }\r\n}\r\n\r\n```\r\n\r\nHere my info on node1: \r\n\r\n```\r\n> eth.nodeInfo\r\n{\r\n  enode: **\"enode://97718407d9e3a32a43e4b037ab075b9c8da0419dc348e5c9612f6301e5685290e663bd26a7f1affcf21a2c827d01907d286c8c59eeba01d971ef4459608388ea@88.150.33.139:30303\",**\r\n  enr: \"enr:-KO4QDxH90CurchrGw-BYmiZFqDTjXGO-UrSlpz33dywbfH_VBSe6um_so1KJqZWzc_P_0OWt6Kj3ag583fZxDD-0LqGAYDdeV9Bg2V0aMfGhHEB0w2AgmlkgnY0gmlwhFiWIYuJc2VjcDI1NmsxoQKXcYQH2eOjKkPksDerB1ucjaBBncNI5clhL2MB5WhSkIRzbmFwwIN0Y3CCdl-DdWRwgnZf\",\r\n  id: \"1f241381a7bd0b8b853e893f370f19ab070bf09e094b2b715510f2cac2d47243\",\r\n  ip: \"88.150.33.139\",\r\n  listenAddr: \"[::]:30303\",\r\n  name: \"Geth/v1.10.17-stable/darwin-amd64/go1.18\",\r\n  ports: {\r\n    discovery: 30303,\r\n    listener: 30303\r\n  },\r\n  protocols: {\r\n    eth: {\r\n      config: {\r\n        byzantiumBlock: 0,\r\n        chainId: 10,\r\n        constantinopleBlock: 0,\r\n        eip150Block: 0,\r\n        eip150Hash: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n        eip155Block: 0,\r\n        eip158Block: 0,\r\n        homesteadBlock: 0\r\n      },\r\n      difficulty: 370542390,\r\n      genesis: \"0x5e1fc79cb4ffa4739177b5408045cd5d51c6cf766133f23f7cd72ee1f8d790e0\",\r\n      head: \"0x58cb79049613f8d5b3f150f5bfe8d99ad677310e50fd90c2523c59d5fa177598\",\r\n      network: 1\r\n    },\r\n    snap: {}\r\n  }\r\n}\r\n\r\n```\r\n\r\nWhen I try to peer node1 to node2 I use the following command while changing the IP: \r\n\r\n```\r\n\r\n>admin.addPeer(**\"enode://97718407d9e3a32a43e4b037ab075b9c8da0419dc348e5c9612f6301e5685290e663bd26a7f1affcf21a2c827d01907d286c8c59eeba01d971ef4459608388ea@_127.0.0.1_:30303\"**)\r\n\r\n```\r\n\r\nI receive true as result. \r\n\r\nBut when I want to check the peers it is empty.. \r\n\r\n```\r\n> admin.peers\r\n[]\r\n\r\n```\r\n\r\nCan somebody help me with this issue? As I said I am very new to all this and dont really know what to do anymore.. \r\n\r\n> ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1133897337",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24927#issuecomment-1133897337",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
    "id": 1133897337,
    "node_id": "IC_kwDOAOvK985DleZ5",
    "user": {
      "login": "verheesj",
      "id": 3089457,
      "node_id": "MDQ6VXNlcjMwODk0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3089457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/verheesj",
      "html_url": "https://github.com/verheesj",
      "followers_url": "https://api.github.com/users/verheesj/followers",
      "following_url": "https://api.github.com/users/verheesj/following{/other_user}",
      "gists_url": "https://api.github.com/users/verheesj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/verheesj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/verheesj/subscriptions",
      "organizations_url": "https://api.github.com/users/verheesj/orgs",
      "repos_url": "https://api.github.com/users/verheesj/repos",
      "events_url": "https://api.github.com/users/verheesj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/verheesj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-22T13:31:21Z",
    "updated_at": "2022-05-22T13:31:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Node 1 is configured to `88.150.33.139` on port `30303` as per;\r\n\r\n```\r\nid: \"1f241381a7bd0b8b853e893f370f19ab070bf09e094b2b715510f2cac2d47243\",\r\nip: \"88.150.33.139\",\r\nlistenAddr: \"[::]:30303\",\r\n```\r\n\r\nYour adding your peer as a local node when it should match what the node is listening on thus;\r\n\r\n`admin.addPeer(\"enode://97718407d9e3a32a43e4b037ab075b9c8da0419dc348e5c9612f6301e5685290e663bd26a7f1affcf21a2c827d01907d286c8c59eeba01d971ef4459608388ea@88.150.33.139:30303\")`\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1133897337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1133938750",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24927#issuecomment-1133938750",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
    "id": 1133938750,
    "node_id": "IC_kwDOAOvK985Dlog-",
    "user": {
      "login": "varnold0511",
      "id": 106005669,
      "node_id": "U_kgDOBlGEpQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/106005669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/varnold0511",
      "html_url": "https://github.com/varnold0511",
      "followers_url": "https://api.github.com/users/varnold0511/followers",
      "following_url": "https://api.github.com/users/varnold0511/following{/other_user}",
      "gists_url": "https://api.github.com/users/varnold0511/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/varnold0511/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/varnold0511/subscriptions",
      "organizations_url": "https://api.github.com/users/varnold0511/orgs",
      "repos_url": "https://api.github.com/users/varnold0511/repos",
      "events_url": "https://api.github.com/users/varnold0511/events{/privacy}",
      "received_events_url": "https://api.github.com/users/varnold0511/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-22T17:23:53Z",
    "updated_at": "2022-05-22T17:23:53Z",
    "author_association": "NONE",
    "body": "I know that and I already tried it with 88.150.33.139 but it did not work.. and since many people advice to replace the public IP address with the local I changed it to 127.0.0.1.. but the problem remains.. But still thank you for the advice:) \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1133938750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1134502081",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24927#issuecomment-1134502081",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
    "id": 1134502081,
    "node_id": "IC_kwDOAOvK985DnyDB",
    "user": {
      "login": "verheesj",
      "id": 3089457,
      "node_id": "MDQ6VXNlcjMwODk0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3089457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/verheesj",
      "html_url": "https://github.com/verheesj",
      "followers_url": "https://api.github.com/users/verheesj/followers",
      "following_url": "https://api.github.com/users/verheesj/following{/other_user}",
      "gists_url": "https://api.github.com/users/verheesj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/verheesj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/verheesj/subscriptions",
      "organizations_url": "https://api.github.com/users/verheesj/orgs",
      "repos_url": "https://api.github.com/users/verheesj/repos",
      "events_url": "https://api.github.com/users/verheesj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/verheesj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T10:32:42Z",
    "updated_at": "2022-05-23T10:32:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is the IP resolvable and port? Try using telnet to establish connection:\r\n\r\n`telnet 88.150.33.139 3303`\r\n\r\nI have attempted but unable to connect. Check to make sure you are allowing incoming connections on the port in question and that you have configured any firewalls and routers to allow incoming connections to the IP and port.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1134502081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1135310100",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24927#issuecomment-1135310100",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
    "id": 1135310100,
    "node_id": "IC_kwDOAOvK985Dq3UU",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T01:45:55Z",
    "updated_at": "2022-05-24T01:45:55Z",
    "author_association": "MEMBER",
    "body": "For your first node, it shows network as 2345\r\n\r\n```\r\ngenesis: \"0x5e1fc79cb4ffa4739177b5408045cd5d51c6cf766133f23f7cd72ee1f8d790e0\",\r\n      head: \"0xf8fac14d8d20527f74d9c5d13ab0911f05055489c37c28a861c8546c89c29aef\",\r\n      network: 2345\r\n```\r\n\r\nFor your second node, it shows network as 1\r\n\r\n```\r\ngenesis: \"0x5e1fc79cb4ffa4739177b5408045cd5d51c6cf766133f23f7cd72ee1f8d790e0\",\r\n      head: \"0x58cb79049613f8d5b3f150f5bfe8d99ad677310e50fd90c2523c59d5fa177598\",\r\n      network: 1\r\n```\r\n\r\nYou have to config network correctly",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1135310100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1139469533",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24927#issuecomment-1139469533",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24927",
    "id": 1139469533,
    "node_id": "IC_kwDOAOvK985D6uzd",
    "user": {
      "login": "sujinsuqi",
      "id": 20496933,
      "node_id": "MDQ6VXNlcjIwNDk2OTMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/20496933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sujinsuqi",
      "html_url": "https://github.com/sujinsuqi",
      "followers_url": "https://api.github.com/users/sujinsuqi/followers",
      "following_url": "https://api.github.com/users/sujinsuqi/following{/other_user}",
      "gists_url": "https://api.github.com/users/sujinsuqi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sujinsuqi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sujinsuqi/subscriptions",
      "organizations_url": "https://api.github.com/users/sujinsuqi/orgs",
      "repos_url": "https://api.github.com/users/sujinsuqi/repos",
      "events_url": "https://api.github.com/users/sujinsuqi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sujinsuqi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-27T10:00:40Z",
    "updated_at": "2022-05-27T10:00:40Z",
    "author_association": "NONE",
    "body": "same problem to me . networkid is same .",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1139469533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
