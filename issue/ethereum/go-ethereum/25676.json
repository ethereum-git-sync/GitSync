{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25676",
  "id": 1361009661,
  "node_id": "I_kwDOAOvK985RH1v9",
  "number": 25676,
  "title": "\"no space left on device\" when running as full node but no error when running as light node",
  "user": {
    "login": "miguelmota",
    "id": 168240,
    "node_id": "MDQ6VXNlcjE2ODI0MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/168240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/miguelmota",
    "html_url": "https://github.com/miguelmota",
    "followers_url": "https://api.github.com/users/miguelmota/followers",
    "following_url": "https://api.github.com/users/miguelmota/following{/other_user}",
    "gists_url": "https://api.github.com/users/miguelmota/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/miguelmota/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/miguelmota/subscriptions",
    "organizations_url": "https://api.github.com/users/miguelmota/orgs",
    "repos_url": "https://api.github.com/users/miguelmota/repos",
    "events_url": "https://api.github.com/users/miguelmota/events{/privacy}",
    "received_events_url": "https://api.github.com/users/miguelmota/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-09-04T02:04:23Z",
  "updated_at": "2022-09-05T16:39:40Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\n```sh\r\nREPOSITORY                                TAG       IMAGE ID       CREATED        SIZE\r\nethereum/client-go                        latest    06818269fb84   33 hours ago   49.7MB\r\n```\r\n\r\n```sh\r\nFilesystem      Size  Used Avail Use% Mounted on\r\ndev             7.8G     0  7.8G   0% /dev\r\nrun             7.8G  988K  7.8G   1% /run\r\n/dev/sda3       226G  121G   94G  57% /\r\ntmpfs           7.8G     0  7.8G   0% /dev/shm\r\ntmpfs           7.8G     0  7.8G   0% /tmp\r\n/dev/sda1       477M  104M  373M  22% /boot\r\n/dev/sdb1       1.9T  195G  1.7T  11% /run/media/validator/C28C-E55B\r\ntmpfs           1.6G     0  1.6G   0% /run/user/1000\r\n```\r\n\r\n#### Expected behaviour\r\n\r\nno error\r\n\r\n#### Actual behaviour\r\n\r\n```sh\r\n[validator@intelnuc ~]$ docker logs geth -f -n 10\r\nINFO [09-04|01:55:21.794] Starting Geth on Ethereum mainnet...\r\nINFO [09-04|01:55:21.795] Bumping default cache on mainnet         provided=1024 updated=4096\r\nINFO [09-04|01:55:21.797] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [09-04|01:55:21.799] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nINFO [09-04|01:55:21.803] Set global gas cap                       cap=50,000,000\r\nINFO [09-04|01:55:21.804] Allocated trie memory caches             clean=614.00MiB dirty=1024.00MiB\r\nINFO [09-04|01:55:21.804] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=2.00GiB handles=524,288\r\nFatal: Failed to register the Ethereum service: open /root/.ethereum/geth/chaindata/189933.log: no space left on device\r\n```\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n```\r\ndocker run \\\r\n        --detach \\\r\n        --name geth \\\r\n        -it \\\r\n        --restart=unless-stopped \\\r\n        --network=\"host\" \\\r\n        --log-driver local \\\r\n        --log-opt max-size=2gb \\\r\n        -v /run/media/validator/C28C-E55B/.ethereum:/root/.ethereum \\\r\n        -p 30303:30303/tcp \\\r\n        -p 30303:30303/udp \\\r\n        -p 8545:8545 \\\r\n        ethereum/client-go:latest \\\r\n        --http \\\r\n        --http.addr=\"0.0.0.0\" \\\r\n        --http.vhosts=\"*\" \\\r\n        --ipcdisable \\\r\n\t--syncmode=\"full\"\r\n```\r\n\r\n\r\n#### Backtrace\r\n\r\n\r\nAny idea what I'm missing here? Thanks\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236352543",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25676#issuecomment-1236352543",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676",
    "id": 1236352543,
    "node_id": "IC_kwDOAOvK985JsT4f",
    "user": {
      "login": "dbadoy",
      "id": 72970043,
      "node_id": "MDQ6VXNlcjcyOTcwMDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/72970043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbadoy",
      "html_url": "https://github.com/dbadoy",
      "followers_url": "https://api.github.com/users/dbadoy/followers",
      "following_url": "https://api.github.com/users/dbadoy/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbadoy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbadoy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbadoy/subscriptions",
      "organizations_url": "https://api.github.com/users/dbadoy/orgs",
      "repos_url": "https://api.github.com/users/dbadoy/repos",
      "events_url": "https://api.github.com/users/dbadoy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbadoy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-04T14:22:37Z",
    "updated_at": "2022-09-04T14:22:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Did you check the i-node usage percent ?\r\n```\r\n$ df -h -i\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236352543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236730897",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25676#issuecomment-1236730897",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676",
    "id": 1236730897,
    "node_id": "IC_kwDOAOvK985JtwQR",
    "user": {
      "login": "miguelmota",
      "id": 168240,
      "node_id": "MDQ6VXNlcjE2ODI0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/168240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miguelmota",
      "html_url": "https://github.com/miguelmota",
      "followers_url": "https://api.github.com/users/miguelmota/followers",
      "following_url": "https://api.github.com/users/miguelmota/following{/other_user}",
      "gists_url": "https://api.github.com/users/miguelmota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miguelmota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miguelmota/subscriptions",
      "organizations_url": "https://api.github.com/users/miguelmota/orgs",
      "repos_url": "https://api.github.com/users/miguelmota/repos",
      "events_url": "https://api.github.com/users/miguelmota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miguelmota/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-05T09:02:58Z",
    "updated_at": "2022-09-05T09:02:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Output of `df -h -i`\r\n\r\n```sh\r\nFilesystem     Inodes IUsed IFree IUse% Mounted on\r\ndev              2.0M   482  2.0M    1% /dev\r\nrun              2.0M   752  2.0M    1% /run\r\n/dev/sda3         15M  294K   15M    2% /\r\ntmpfs            2.0M     1  2.0M    1% /dev/shm\r\ntmpfs            1.0M    11  1.0M    1% /tmp\r\n/dev/sda1           0     0     0     - /boot\r\n/dev/sdb1        117M   13K  117M    1% /run/media/validator/C28C-E55B\r\ntmpfs            398K    21  398K    1% /run/user/1000\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236730897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236747051",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25676#issuecomment-1236747051",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676",
    "id": 1236747051,
    "node_id": "IC_kwDOAOvK985Jt0Mr",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-05T09:18:20Z",
    "updated_at": "2022-09-05T09:18:20Z",
    "author_association": "MEMBER",
    "body": "Do you have any more info about `/run/media/validator/C28C-E55B` ? I assume it's a mounted media, but what type of media is it, and what is the filesystem? What are the mount options?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1236747051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1237291724",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25676#issuecomment-1237291724",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25676",
    "id": 1237291724,
    "node_id": "IC_kwDOAOvK985Jv5LM",
    "user": {
      "login": "miguelmota",
      "id": 168240,
      "node_id": "MDQ6VXNlcjE2ODI0MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/168240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miguelmota",
      "html_url": "https://github.com/miguelmota",
      "followers_url": "https://api.github.com/users/miguelmota/followers",
      "following_url": "https://api.github.com/users/miguelmota/following{/other_user}",
      "gists_url": "https://api.github.com/users/miguelmota/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miguelmota/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miguelmota/subscriptions",
      "organizations_url": "https://api.github.com/users/miguelmota/orgs",
      "repos_url": "https://api.github.com/users/miguelmota/repos",
      "events_url": "https://api.github.com/users/miguelmota/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miguelmota/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-05T16:39:40Z",
    "updated_at": "2022-09-05T16:39:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Output of `lsusb`\r\n\r\n```sh\r\n[validator@intelnuc ~]$ lsusb\r\nBus 002 Device 002: ID 0781:55ae SanDisk Corp. Extreme 55AE\r\nBus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\r\nBus 001 Device 002: ID 8087:0a2b Intel Corp. Bluetooth wireless interface\r\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\r\n```\r\n\r\nOutput of `blkid`\r\n\r\n```sh\r\n/dev/sdb1: UUID=\"1c9974e7-825f-4314-8b83-a2a0e30b180d\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTLABEL=\"Extreme SSD\" PARTUUID=\"89e53372-9a5f-4b83-8d95-d8413653b4a9\"\r\n/dev/sda2: UUID=\"e342fab4-29ab-401d-a06b-95ea89e01a88\" TYPE=\"swap\" PARTUUID=\"db9bf3df-2844-074c-aeae-64a5f39cf215\"\r\n/dev/sda3: UUID=\"2e75d9f6-5099-4540-a1da-526e07fb00a3\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"c45e884d-ac6f-9c44-8f6f-d4e3742b5753\"\r\n/dev/sda1: UUID=\"E946-D84B\" BLOCK_SIZE=\"512\" TYPE=\"vfat\" PARTUUID=\"a5794912-091b-8049-b53c-37dcebab005b\"\r\n```\r\n\r\nOutput of `lsblk -f`\r\n\r\n```sh\r\nNAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS\r\nsda\r\n├─sda1 vfat   FAT32       E946-D84B                             372.2M    22% /boot\r\n├─sda2 swap   1           e342fab4-29ab-401d-a06b-95ea89e01a88                [SWAP]\r\n└─sda3 ext4   1.0         2e75d9f6-5099-4540-a1da-526e07fb00a3   91.3G    54% /\r\nsdb\r\n└─sdb1 ext4   1.0         1c9974e7-825f-4314-8b83-a2a0e30b180d    1.7T     3%  /run/media/validator/C28C-E55B\r\n```\r\n\r\nOutput of `cat /proc/mounts`\r\n\r\n```sh\r\nproc /proc proc rw,nosuid,nodev,noexec,relatime 0 0\r\nsys /sys sysfs rw,nosuid,nodev,noexec,relatime 0 0\r\ndev /dev devtmpfs rw,nosuid,relatime,size=8124556k,nr_inodes=2031139,mode=755,inode64 0 0\r\nrun /run tmpfs rw,nosuid,nodev,relatime,mode=755,inode64 0 0\r\nefivarfs /sys/firmware/efi/efivars efivarfs rw,nosuid,nodev,noexec,relatime 0 0\r\n/dev/sda3 / ext4 rw,relatime 0 0\r\nsecurityfs /sys/kernel/security securityfs rw,nosuid,nodev,noexec,relatime 0 0\r\ntmpfs /dev/shm tmpfs rw,nosuid,nodev,inode64 0 0\r\ndevpts /dev/pts devpts rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000 0 0\r\ncgroup2 /sys/fs/cgroup cgroup2 rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursiveprot 0 0\r\npstore /sys/fs/pstore pstore rw,nosuid,nodev,noexec,relatime 0 0\r\nbpf /sys/fs/bpf bpf rw,nosuid,nodev,noexec,relatime,mode=700 0 0\r\nsystemd-1 /proc/sys/fs/binfmt_misc autofs rw,relatime,fd=30,pgrp=1,timeout=0,minproto=5,maxproto=5,direct,pipe_ino=14022 0 0\r\nhugetlbfs /dev/hugepages hugetlbfs rw,relatime,pagesize=2M 0 0\r\nmqueue /dev/mqueue mqueue rw,nosuid,nodev,noexec,relatime 0 0\r\ndebugfs /sys/kernel/debug debugfs rw,nosuid,nodev,noexec,relatime 0 0\r\ntracefs /sys/kernel/tracing tracefs rw,nosuid,nodev,noexec,relatime 0 0\r\nconfigfs /sys/kernel/config configfs rw,nosuid,nodev,noexec,relatime 0 0\r\nramfs /run/credentials/systemd-sysusers.service ramfs ro,nosuid,nodev,noexec,relatime,mode=700 0 0\r\nfusectl /sys/fs/fuse/connections fusectl rw,nosuid,nodev,noexec,relatime 0 0\r\ntmpfs /tmp tmpfs rw,nosuid,nodev,size=8132588k,nr_inodes=1048576,inode64 0 0\r\n/dev/sda1 /boot vfat rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro 0 0\r\nnsfs /run/docker/netns/default nsfs rw 0 0\r\n/dev/sdb1 /run/media/validator/C28C-E55B ext4 rw,relatime,stripe=256 0 0\r\ntmpfs /run/user/1000 tmpfs rw,nosuid,nodev,relatime,size=1626516k,nr_inodes=406629,mode=700,uid=1000,gid=1000,inode64 0 0\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1237291724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
