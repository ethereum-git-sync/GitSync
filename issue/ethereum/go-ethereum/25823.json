{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25823",
  "id": 1378643643,
  "node_id": "I_kwDOAOvK985SLG67",
  "number": 25823,
  "title": "problem `connect: connection refused` in prysm and geth ethereum 2",
  "user": {
    "login": "kasrakhamesi",
    "id": 80700084,
    "node_id": "MDQ6VXNlcjgwNzAwMDg0",
    "avatar_url": "https://avatars.githubusercontent.com/u/80700084?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kasrakhamesi",
    "html_url": "https://github.com/kasrakhamesi",
    "followers_url": "https://api.github.com/users/kasrakhamesi/followers",
    "following_url": "https://api.github.com/users/kasrakhamesi/following{/other_user}",
    "gists_url": "https://api.github.com/users/kasrakhamesi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kasrakhamesi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kasrakhamesi/subscriptions",
    "organizations_url": "https://api.github.com/users/kasrakhamesi/orgs",
    "repos_url": "https://api.github.com/users/kasrakhamesi/repos",
    "events_url": "https://api.github.com/users/kasrakhamesi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kasrakhamesi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-09-19T23:40:08Z",
  "updated_at": "2022-09-23T17:09:09Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "hi , i have error when i want run prysm and geth\r\n\r\nthis is my error : \r\n[2022-09-19 23:30:20] ERROR powchain: Could not connect to execution endpoint error=Post \"http://127.0.0.1:8551\": dial tcp 195.248.241.207:8551: connect: connection refused: Post \"http://127.0.0.1:8551\": dial tcp 127.0.0.1:8551: connect: connection refused\r\n\r\ni use docker to run prysm and geth together\r\ni pull last geth & prysm in dockerhub\r\n\r\nprysm docker document : https://docs.prylabs.network/docs/install/install-with-docker\r\n\r\nprysm docker run command  =>  docker run -d -it  --network ethereum -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name beacon-node gcr.io/prysmaticlabs/prysm/beacon-chain:stable --datadir=/data --jwt-secret=\"MY JWT PATH\" --rpc-host=0.0.0.0 --grpc-gateway-host=0.0.0.0 --monitoring-host=0.0.0.0 --suggested-fee-recipient=\"MY ETHER ADDRESS\"--execution-endpoint=http://127.0.0.1:8551 --accept-terms-of-use\r\n\r\ngeth docker run command => docker run --name ethereum-node -d -p 8545:8545 -p 8551:8551 -p 8550:8550  --network ethereum -p 30303:30303 -p 8546:8546 -it ethereum/client-go --syncmode snap --http --http.api eth,net,engine,admin --http.rpcprefix=/ --http.corsdomain=\"*\" --http.addr 0.0.0.0 --ws --ipcdisable --ws.addr 0.0.0.0 --ws.origins=\"*\" --datadir /diskb/ethereum/chaindata --authrpc.jwtsecret \"MY JWT TOKEN\" --authrpc.port 8551 --authrpc.vhosts \"*\"\r\n\r\nhow can fix it ?\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252134632",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25823#issuecomment-1252134632",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823",
    "id": 1252134632,
    "node_id": "IC_kwDOAOvK985Kog7o",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T10:11:07Z",
    "updated_at": "2022-09-20T10:11:07Z",
    "author_association": "MEMBER",
    "body": "`127.0.0.1` refers to the local machine. In the case of docker containers, it refers to the local container. When you start separate containers for Geth and Prysm, they will be as if they were separate VMs. `127.0.0.1` within each will refer to itself, not the other.\r\n\r\nYou need to configure the proper IP address to reach Geth. Since you seem to be placing the two hosts on the same docker network, I think you can also use the container name to reach Geth, you don't even need an IP (i.e. `--execution-endpoint=http://ethereum-node:8551`)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252134632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252206570",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25823#issuecomment-1252206570",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823",
    "id": 1252206570,
    "node_id": "IC_kwDOAOvK985Koyfq",
    "user": {
      "login": "kasrakhamesi",
      "id": 80700084,
      "node_id": "MDQ6VXNlcjgwNzAwMDg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/80700084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasrakhamesi",
      "html_url": "https://github.com/kasrakhamesi",
      "followers_url": "https://api.github.com/users/kasrakhamesi/followers",
      "following_url": "https://api.github.com/users/kasrakhamesi/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasrakhamesi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasrakhamesi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasrakhamesi/subscriptions",
      "organizations_url": "https://api.github.com/users/kasrakhamesi/orgs",
      "repos_url": "https://api.github.com/users/kasrakhamesi/repos",
      "events_url": "https://api.github.com/users/kasrakhamesi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasrakhamesi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T11:18:39Z",
    "updated_at": "2022-09-20T11:27:40Z",
    "author_association": "NONE",
    "body": "> `127.0.0.1` refers to the local machine. In the case of docker containers, it refers to the local container. When you start separate containers for Geth and Prysm, they will be as if they were separate VMs. `127.0.0.1` within each will refer to itself, not the other.\r\n> \r\n> You need to configure the proper IP address to reach Geth. Since you seem to be placing the two hosts on the same docker network, I think you can also use the container name to reach Geth, you don't even need an IP (i.e. `--execution-endpoint=http://ethereum-node:8551`)\r\n\r\nI tried this too , but it didn't solve my problem :(\r\n\r\nmy response after use your solution\r\n Post \"http://ethereum-node:8551\": dial tcp 172.18.0.2:8551: connect: connection refused\r\n \r\n I also used server ip but it still didn't work",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252206570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256455060",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25823#issuecomment-1256455060",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25823",
    "id": 1256455060,
    "node_id": "IC_kwDOAOvK985K4_uU",
    "user": {
      "login": "dullerino",
      "id": 114250936,
      "node_id": "U_kgDOBs9UuA",
      "avatar_url": "https://avatars.githubusercontent.com/u/114250936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dullerino",
      "html_url": "https://github.com/dullerino",
      "followers_url": "https://api.github.com/users/dullerino/followers",
      "following_url": "https://api.github.com/users/dullerino/following{/other_user}",
      "gists_url": "https://api.github.com/users/dullerino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dullerino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dullerino/subscriptions",
      "organizations_url": "https://api.github.com/users/dullerino/orgs",
      "repos_url": "https://api.github.com/users/dullerino/repos",
      "events_url": "https://api.github.com/users/dullerino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dullerino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-23T17:09:09Z",
    "updated_at": "2022-09-23T17:09:09Z",
    "author_association": "NONE",
    "body": "What @karalabe said also applies to geth. \r\nBy default `authrpc.addr` listening address is set to `127.0.0.1/localhost`. \r\nSo you have to set `--authrpc.addr=172.18.0.2` or `--authrpc.addr=ethereum-node`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256455060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
