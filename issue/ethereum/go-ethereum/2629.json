{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2629",
  "id": 157245983,
  "node_id": "MDU6SXNzdWUxNTcyNDU5ODM=",
  "number": 2629,
  "title": "Problems running MIST with  geth --testnet and problems running geth —testnet —ipcpath /Users/johnwhitton/Library/Ethereum/geth.ipc",
  "user": {
    "login": "johnwhitton",
    "id": 1572027,
    "node_id": "MDQ6VXNlcjE1NzIwMjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1572027?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/johnwhitton",
    "html_url": "https://github.com/johnwhitton",
    "followers_url": "https://api.github.com/users/johnwhitton/followers",
    "following_url": "https://api.github.com/users/johnwhitton/following{/other_user}",
    "gists_url": "https://api.github.com/users/johnwhitton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/johnwhitton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/johnwhitton/subscriptions",
    "organizations_url": "https://api.github.com/users/johnwhitton/orgs",
    "repos_url": "https://api.github.com/users/johnwhitton/repos",
    "events_url": "https://api.github.com/users/johnwhitton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/johnwhitton/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2016-05-27T16:40:00Z",
  "updated_at": "2016-10-31T17:22:57Z",
  "closed_at": "2016-05-30T15:00:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Problem Summary\n\nI'm unable to open MIST against testnet when running a geth node. Because either\na) if you run `geth --testnet` it doesn't see geth.ipc and tries to start a second node\nb) if you run `geth —testnet —ipcpath /Users/johnwhitton/Library/Ethereum/geth.ipc` it synchs with mainnet\n#### System information\n##### Geth version: `geth version`\n\nJohns-MacBook-Pro:~ johnwhitton$ geth version\nGeth\nVersion: 1.4.5-stable-a269a713\nProtocol Versions: [63 62 61]\nNetwork Id: 1\nGo Version: go1.6.2\nOS: darwin\nGOPATH=\nGOROOT=/usr/local/Cellar/go/1.6.2/libexec\n##### OS & Version: OSX\n\nCommit hash : (if `develop`)\n#### Expected behaviour\n\nWant to be able to run `geth --testnet` and have MIST connect to the testnet node\n_Note : Below is documented with MIST 0.7.4 but same occurs on other machines\n#### Actual behaviour\n\nWhen running `geth -testnet` and opening MIST it tries to open a second node\nThis is because the geth.ipc file is created under Ethereum/testnet and MIST looks under Ehereum\n##### Showing where geth.ipc is created\n\nJohns-MacBook-Pro:Ethereum johnwhitton$ pwd\n/Users/johnwhitton/Library/Ethereum\nJohns-MacBook-Pro:Ethereum johnwhitton$ ls\nchaindata   dapp        keystore    nodekey     nodes       testnet\nJohns-MacBook-Pro:Ethereum johnwhitton$ cd testnet/\nJohns-MacBook-Pro:testnet johnwhitton$ ls\nchaindata   dapp        geth.ipc    nodekey     nodes\nJohns-MacBook-Pro:testnet johnwhitton$\n##### MIST (Election Log)\n\nHere is the log file showing MIST trying to open a second node\n[MIST_Trying_To_Open_A_Second_Node.txt](https://github.com/ethereum/go-ethereum/files/287001/MIST_Trying_To_Open_A_Second_Node.txt)\n\nI believe the key here is _Error: connect ENOENT /Users/johnwhitton/Library/Ethereum/geth.ipc_ once again because geth.ipc is created under Ethereum/testnet (as above)\n[MIST_Trying_To_Open_A_Second_Node.txt](https://github.com/ethereum/go-ethereum/files/286970/MIST_Trying_To_Open_A_Second_Node.txt)\n### Workaround points to the mainnet instead of testnet\n\nThe workaround for this as discussed on gitter with @obscuren is to run geth with an --ipc flag e.g.\n`geth —testnet —ipcpath /Users/johnwhitton/Library/Ethereum/geth.ipc`\n\nThe problem with this is that for some reason **geth then tries synching to mainnet**\nHere is the log file \n[geth_testnet_ipc_issue.txt](https://github.com/ethereum/go-ethereum/files/287008/geth_testnet_ipc_issue.txt)\n\nIf you see the attached file when running `geth -testnet` you see it is synching testnet\n\n`I0527 09:42:25.832796 eth/downloader/downloader.go:299] Block synchronisation started\nI0527 09:42:28.506958 core/blockchain.go:959] imported 1 block(s) (0 queued 0 ignored) including 2 txs in 838.779764ms. #569313 [7354c47c / 7354c47c]`\n\nHowever when running `geth —testnet —ipcpath /Users/johnwhitton/Library/Ethereum/geth.ipc` it is synching to mainnet\n\n`I0527 09:44:33.570664 eth/downloader/downloader.go:299] Block synchronisation started\nI0527 09:44:51.954394 core/blockchain.go:959] imported 25 block(s) (0 queued 0 ignored) including 0 txs in 758.998931ms. #22722 [0d24e4bd / f64f17c2]`\n\nAlso see block 0 returned by `geth attach`\n\nJohns-MacBook-Pro:testnet johnwhitton$ geth attach\ninstance: Geth/v1.4.5-stable-a269a713/darwin/go1.6.2\ncoinbase: 0xa1765fa3e1f455f6b2dbd2dc25b02c95d708eab5\nat block: 22697 (Sun, 02 Aug 2015 09:27:50 PDT)\n datadir: /Users/johnwhitton/Library/Ethereum\n\n> eth.getBlock(0).hash\n> \"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3\"\n#### Steps to reproduce the behaviour\n\nRun geth --testnet\nOpen MIST\n#### Backtrace\n\n```\n[backtrace]\n```\n",
  "closed_by": {
    "login": "bas-vk",
    "id": 4280775,
    "node_id": "MDQ6VXNlcjQyODA3NzU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bas-vk",
    "html_url": "https://github.com/bas-vk",
    "followers_url": "https://api.github.com/users/bas-vk/followers",
    "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
    "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
    "organizations_url": "https://api.github.com/users/bas-vk/orgs",
    "repos_url": "https://api.github.com/users/bas-vk/repos",
    "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bas-vk/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222292522",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-222292522",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 222292522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjI5MjUyMg==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-28T06:11:52Z",
    "updated_at": "2016-05-28T06:13:05Z",
    "author_association": "MEMBER",
    "body": "Any reason why you use the [EM dash](http://www.fileformat.info/info/unicode/char/2014/index.htm) symbol instead of the ordinary '-' character in the command which doesn't work?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222292522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222319172",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-222319172",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 222319172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjMxOTE3Mg==",
    "user": {
      "login": "johnwhitton",
      "id": 1572027,
      "node_id": "MDQ6VXNlcjE1NzIwMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1572027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/johnwhitton",
      "html_url": "https://github.com/johnwhitton",
      "followers_url": "https://api.github.com/users/johnwhitton/followers",
      "following_url": "https://api.github.com/users/johnwhitton/following{/other_user}",
      "gists_url": "https://api.github.com/users/johnwhitton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/johnwhitton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/johnwhitton/subscriptions",
      "organizations_url": "https://api.github.com/users/johnwhitton/orgs",
      "repos_url": "https://api.github.com/users/johnwhitton/repos",
      "events_url": "https://api.github.com/users/johnwhitton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/johnwhitton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-28T17:12:37Z",
    "updated_at": "2016-05-28T17:12:37Z",
    "author_association": "NONE",
    "body": "Thanks @bas-vk I'm not sure where the EM dash came from I manually retyped the command and ran it with the following which then connected to testnet and placed geth.ipc in the Ethereum directory\n`geth --testnet --ipcpath \"/Users/johnwhitton/Library/Ethereum/geth.ipc\"`\n**So I have a workaround**\nIf there is another ticket already opened for the initial problem (i.e. MIST trying to start a second node when running `geth --testnet` I suggest linking this ticket to that (or vice-versa) and closing it.\n\nThanks again for all your help on this.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222319172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222319773",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-222319773",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 222319773,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjMxOTc3Mw==",
    "user": {
      "login": "radfish",
      "id": 17036903,
      "node_id": "MDQ6VXNlcjE3MDM2OTAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17036903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/radfish",
      "html_url": "https://github.com/radfish",
      "followers_url": "https://api.github.com/users/radfish/followers",
      "following_url": "https://api.github.com/users/radfish/following{/other_user}",
      "gists_url": "https://api.github.com/users/radfish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/radfish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/radfish/subscriptions",
      "organizations_url": "https://api.github.com/users/radfish/orgs",
      "repos_url": "https://api.github.com/users/radfish/repos",
      "events_url": "https://api.github.com/users/radfish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/radfish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-28T17:26:31Z",
    "updated_at": "2016-05-28T17:26:31Z",
    "author_association": "NONE",
    "body": "Although unlikely, I wonder if this problem is related to #2634 -- for me, `geth attach` simply ignores its `--ipcpath` argument. So, if you run two nodes, it can get confusing, because `attach` will only attach to the node whose datadir is `$HOME/.ethereum` no matter what you tell it to with `--ipcpath` or `--datadir`. Please ignore if unrelated.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222319773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222510020",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-222510020",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 222510020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjUxMDAyMA==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T15:00:13Z",
    "updated_at": "2016-05-30T15:00:13Z",
    "author_association": "MEMBER",
    "body": "@johnwhitton, the solution to start geth with the `--testnet` and `--ipcpath` flags is not a workaround but currently the way to go if you want mist to connect on a custom started geth instance on the testnet. The reason is that geth (from version 1.4) will open the default ipc endpoint in the testnet datadir where geth 1.3 would open it in the mainnet datadir. This causes mist not to find the endpoint and trying a new instance of geth.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222510020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222554405",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-222554405",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 222554405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjU1NDQwNQ==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-30T21:05:01Z",
    "updated_at": "2016-05-30T21:05:01Z",
    "author_association": "MEMBER",
    "body": "@radfish try the following: `geth attach ipc:/path/to/geth.ipc`\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/222554405/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/257359068",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2629#issuecomment-257359068",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2629",
    "id": 257359068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1NzM1OTA2OA==",
    "user": {
      "login": "coffeethecup",
      "id": 17032235,
      "node_id": "MDQ6VXNlcjE3MDMyMjM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/17032235?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coffeethecup",
      "html_url": "https://github.com/coffeethecup",
      "followers_url": "https://api.github.com/users/coffeethecup/followers",
      "following_url": "https://api.github.com/users/coffeethecup/following{/other_user}",
      "gists_url": "https://api.github.com/users/coffeethecup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coffeethecup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coffeethecup/subscriptions",
      "organizations_url": "https://api.github.com/users/coffeethecup/orgs",
      "repos_url": "https://api.github.com/users/coffeethecup/repos",
      "events_url": "https://api.github.com/users/coffeethecup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coffeethecup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-31T17:22:57Z",
    "updated_at": "2016-10-31T17:22:57Z",
    "author_association": "NONE",
    "body": "Hi, \nFor two days I was playing around with the goal that the geth-client and MIST are using the same Testnet Ethereum chain. \nI tried x times starting the geth before with different --ipcpath definitions. Nothing worked.\nThe following approach worked:\n- No client started before, fresh installation\n  Installation of geth:\n\n```\nsudo apt-get install software-properties-common\nsudo add-apt-repository -y ppa:ethereum/ethereum\nsudo add-apt-repository -y ppa:ethereum/ethereum-dev\nsudo apt-get update\nsudo apt-get install ethereum\n```\n- Start MIST 0.8.4 and end it after some blocks has been synced\n- then start for the first time geth with \n  `geth` --testnet --ipcpath \"/home/youruser/.ethereum/geth.ipc\"\n\nChecked several times starting MIST during geth sync, and MIST is on the same chain.\nI use UBUNTU 16.4.1 on a Virtualbox image.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/257359068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
