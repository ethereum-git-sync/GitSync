{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/3298",
  "id": 190093530,
  "node_id": "MDU6SXNzdWUxOTAwOTM1MzA=",
  "number": 3298,
  "title": "RPC vulnerable?",
  "user": {
    "login": "levino",
    "id": 1150767,
    "node_id": "MDQ6VXNlcjExNTA3Njc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/levino",
    "html_url": "https://github.com/levino",
    "followers_url": "https://api.github.com/users/levino/followers",
    "following_url": "https://api.github.com/users/levino/following{/other_user}",
    "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
    "organizations_url": "https://api.github.com/users/levino/orgs",
    "repos_url": "https://api.github.com/users/levino/repos",
    "events_url": "https://api.github.com/users/levino/events{/privacy}",
    "received_events_url": "https://api.github.com/users/levino/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2016-11-17T16:21:29Z",
  "updated_at": "2017-01-26T09:43:07Z",
  "closed_at": "2017-01-26T09:43:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "This is rather a general question: Can people trigger harmful code execution when they use the RPC interface of a node? Is it dangerous to open the RPC port to the outside world?\r\n\r\nI am not talking about \"stealing funds from unlocked accounts\". But executing arbitrary code and stuff / DOS of the node / crashing the node. Are there tests for this?\r\n",
  "closed_by": {
    "login": "obscuren",
    "id": 6264126,
    "node_id": "MDQ6VXNlcjYyNjQxMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/obscuren",
    "html_url": "https://github.com/obscuren",
    "followers_url": "https://api.github.com/users/obscuren/followers",
    "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
    "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
    "organizations_url": "https://api.github.com/users/obscuren/orgs",
    "repos_url": "https://api.github.com/users/obscuren/repos",
    "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
    "received_events_url": "https://api.github.com/users/obscuren/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261443257",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-261443257",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 261443257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ0MzI1Nw==",
    "user": {
      "login": "ethernomad",
      "id": 161566,
      "node_id": "MDQ6VXNlcjE2MTU2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/161566?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethernomad",
      "html_url": "https://github.com/ethernomad",
      "followers_url": "https://api.github.com/users/ethernomad/followers",
      "following_url": "https://api.github.com/users/ethernomad/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethernomad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethernomad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethernomad/subscriptions",
      "organizations_url": "https://api.github.com/users/ethernomad/orgs",
      "repos_url": "https://api.github.com/users/ethernomad/repos",
      "events_url": "https://api.github.com/users/ethernomad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethernomad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T03:58:23Z",
    "updated_at": "2016-11-18T03:58:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Probably. The light client is coming! ;-)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261443257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261476370",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-261476370",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 261476370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ3NjM3MA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T08:33:01Z",
    "updated_at": "2016-11-18T08:33:01Z",
    "author_association": "MEMBER",
    "body": "Don't expose RPC to the world. It was not designed to be a public facing endpoint, there are many ways to exhaust resources (e.g. just send tons of `estimateGas` calls with large contracts).\n\nIf you need outside access you should do that in a controlled way by placing your own API proxy as a front end, doing all the necessary checks there and if everything checks out, then execute a call against a backend node.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261476370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261478464",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-261478464",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 261478464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ3ODQ2NA==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T08:45:19Z",
    "updated_at": "2016-11-18T08:45:31Z",
    "author_association": "NONE",
    "body": "I think this should be improved. Would be a very easy solution for light wallets with client sided signatures. The goal should be that the rpc is robust.\n\nIn our case I think that someone was able to execute arbitrary code (we got a port scanning abuse message) in the ethereum-go docker container. But this is just an educated guess, as I have no proof for this. I just saw that the thread in the container logged weird errors.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261478464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261485974",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-261485974",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 261485974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ4NTk3NA==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T09:25:19Z",
    "updated_at": "2016-11-18T09:25:19Z",
    "author_association": "MEMBER",
    "body": "What you are asking for is really hard to implement. As @karalabe mentiond, if you expose the RPC interface anyone can simply overload the node with RPC requests. The RPC is robust within its design parameters, that is not publicly accessible.\n\nThere are 2 alternative solution:\n1. Use a firewall/proxy and use ACL and/or throttle the number of requests.\n2. Use a local light client (experimental support since 1.5) with your DApp.\n\n> In our case I think that someone was able to execute arbitrary code (we got a port scanning abuse message) in the ethereum-go docker container. But this is just an educated guess, as I have no proof for this. I just saw that the thread in the container logged weird errors.\n\nGeth doesn't allow execution of arbitrary code, it will allow execution of smart contract code. The EVM has limited support for interacting with the OS (e.g. write storage) but this happens in a controlled way. If you have strong suspicions and preferable clear indications that its possible to exploit the RPC interface and execute arbitrary code please send a bug bounty report.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261485974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261488651",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-261488651",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 261488651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MTQ4ODY1MQ==",
    "user": {
      "login": "levino",
      "id": 1150767,
      "node_id": "MDQ6VXNlcjExNTA3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1150767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/levino",
      "html_url": "https://github.com/levino",
      "followers_url": "https://api.github.com/users/levino/followers",
      "following_url": "https://api.github.com/users/levino/following{/other_user}",
      "gists_url": "https://api.github.com/users/levino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/levino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/levino/subscriptions",
      "organizations_url": "https://api.github.com/users/levino/orgs",
      "repos_url": "https://api.github.com/users/levino/repos",
      "events_url": "https://api.github.com/users/levino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/levino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-18T09:38:18Z",
    "updated_at": "2016-11-18T09:38:18Z",
    "author_association": "NONE",
    "body": "What about writing memory of other processes and stuff? I do not think that it allows this by intend, but maybe there are bugs that can be exploited. I will come back to this if I have a clear lead on what happened but I put the node behind a basic auth proxy now, so I actually do not expect any successful attacks any more.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/261488651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/275346405",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3298#issuecomment-275346405",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3298",
    "id": 275346405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTM0NjQwNQ==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-26T09:43:07Z",
    "updated_at": "2017-01-26T09:43:07Z",
    "author_association": "MEMBER",
    "body": "Closing this down as it's a general question that can't be directly answered or observed. Please re-open if you've a detailed report when there is an issue with the RPC. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/275346405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
