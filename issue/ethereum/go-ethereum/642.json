{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/642",
  "id": 66155592,
  "node_id": "MDU6SXNzdWU2NjE1NTU5Mg==",
  "number": 642,
  "title": "Cpp 0.9.1-60 won't sync with Go 0.9.4-60",
  "user": {
    "login": "cubedro",
    "id": 6094026,
    "node_id": "MDQ6VXNlcjYwOTQwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6094026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cubedro",
    "html_url": "https://github.com/cubedro",
    "followers_url": "https://api.github.com/users/cubedro/followers",
    "following_url": "https://api.github.com/users/cubedro/following{/other_user}",
    "gists_url": "https://api.github.com/users/cubedro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cubedro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cubedro/subscriptions",
    "organizations_url": "https://api.github.com/users/cubedro/orgs",
    "repos_url": "https://api.github.com/users/cubedro/repos",
    "events_url": "https://api.github.com/users/cubedro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cubedro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2015-04-03T14:24:58Z",
  "updated_at": "2015-04-05T19:50:17Z",
  "closed_at": "2015-04-05T19:50:16Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I want to set up a fresh cpp node for [eth-netstats](https://eth-netstats.herokuapp.com/) and when I try to sync I'm getting the following weird behaviours:\n## Case 1: sync with bootstrap node\n\nIf I try syncing it with the bootstrap node 52.16.188.185:\n\n```\neth -x 1 -r 52.16.188.185 -p 30303 -m off -n off -v 8 -i -j\n```\n\nI'm getting:\n\n```\n-N- [ 16:25:04 | p2p |  0 ] Transition! State from Nothing , holding\n*N* [ 16:25:04 | p2p ] p2p.host.peer.register 09fbeec0…\n-N- [ 16:25:04 | p2p |  0 ] Status: 2\n-N- [ 16:25:04 | p2p |  0 ] Status: 60 / 0 / fd4af92a… , TD: 14853656933 = 2bcc99d4…\n-N- [ 16:25:04 | p2p |  0 ] Transition! Nothing from State , holding & needed\n-N- [ 16:25:04 | p2p |  0 ] Transition! Hashes from Nothing , holding & needed\n*** [ 16:25:05 | p2p ] 0x7fed20e02360 : inject: 1428290410 1000000 [403a091a] aaf710bc35390700d4039dfbbb433ceee8412382969cdbcbd4ca67fbde3a41c0044cbc32c2df258f2cd643c1e97e05803368242fbc37ddf9b8103c19f5ddc79680d531698cb49f0e0d5c7cdab673714c5e84aa270b7ca9f9f6979f85233545278a0c1e40d26d4f359ff8b7038021fda2b2c7f14e1a19cbe64997f4e1558a3cc46daa2887f59f55c7c23c68d31fdb16cc47d7f6e0fc5cdc16f346d442eab1c2e5a8b08ade93ed6e82146a521b3c96cf4fefd04b8ad1f5825a16955744f4\n*** [ 16:25:05 | p2p ] 0x7fed20e02360 : inject: 1428290605 1000000 [403a091a] 4933713df79d3c2a10c405c6571b588877a50d67b88b1c1b46575d620d87c43a049183bd7863a7351ef94b34c5d43167d5dd5eee3a3156c8eedebf898bf04075d25ec46e111f0bde44fa019b9773dc23a9b6933bb1fee944a210a24de0b2935a148213d3ae3e7cf796b8102e8823ed1a0629f0384716e216d118fed5b5f588fc560bf679c2fbfb1c98e91ffc18f2c1dcfb8e01e4e9214858575ec06ca9a11c8ad50d8a782e018072df394b20fbba4bcfbed329b8a2d177c6323e8f\n*** [ 16:25:05 | p2p ] 0x7fed20e02360 : inject: 1428290825 1000000 [3672fd03] 31107598e356ddb41cf8efbabafa0bcd7fbd8b0d73cba6326c5349910ff9891604759bbb585579e9925f5d2100579af0ef83fe15accaac416694f3b9db4f9d3e30e9d22e314f792707b82ed1d5b29dbeef9ca9f36a93e5fd7a3ebef0b368d143cc22d1933dcb2dab97bc89cabfadd8eadc1fc5aa273b1fe50edb14d03a69879d603afaa718ba9b227f9882c1312533f5ad62bea44a67b0e5ee1946e33bfd97d5ae9601210b9e06a74aaebefe07d265067227ca0ba6bc3f8958d7d0\n*** [ 16:25:05 | p2p ] 0x7fed20e02360 : inject: 1428290413 1000000 [3672fd03] 739eb5c1990dc98c8159be91d99ef49cfba736f8fbb13c670a4b88c50d712cf6041a113dcdbbf43973eb5f67c17b5352e1be8867c5e0b56cf64acf5ca338d78358b1b48d24f4e823dc1be234c3b7252cde35e6562075daf44049cb7e368df4dd356692c6867e6f1547ed8a4066e93dc10a13a727bc21b77f7bbf2aff7a0c8214b191c7026ba1f5dcd61db2d86b4d357524de0607faec004a434b67056733ec3094e507813fc822fd2c7e08e3d85c7b4c2f7b01cd5d67189cc6bb897cd4\n!!! [ 16:25:36 | <unknown> ] Couldn't find requested block: 00000000…\n(o) [ 16:25:36 | <unknown> ] +++ 0 00000000…\n(o) [ 16:25:36 | <unknown> ] +++ 1 00000000…\n!!! [ 16:25:41 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:25:47 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:25:53 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:25:59 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:26:04 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:26:10 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:26:16 | <unknown> ] Couldn't find requested block: 00000000…\n!!! [ 16:26:22 | <unknown> ] Couldn't find requested block: 00000000…\n!P! [ 16:26:57 | p2p ] Invalid Message hash from 52.16.188.185 : 30303\n```\n\nIt won't sync anything. It will hang at block `#0` forever.\n## Case 2: sync with aws geth nodes\n\nIf I try syncing it with a geth node from my aws instances (having current block `#21556`, IP: `54.174.254.175`):\n\n```\neth -x 1 -r 54.174.254.175 -p 30303 -m off -n off -v 8 -i -j\n```\n\nI'm getting:\n\n```\n=B= [ 14:09:10 | eth ] cc754c1be60ac674b8b544804b8b687aeb86f6320038e5802bb7fc69ede8ac67 : Unknown parent beb1747f973915aeee5bb6888799f26609ca6c73ba9ea8166ad7fe24d06a28c9\n!!! [ 14:09:10 | eth ] Unknown parent of block!!! cc754c1b… /build/buildd/cpp-ethereum-0.9.1+609SNAPSHOT20150402192853trusty/libethereum/BlockChain.cpp(296): Throw in function dev::h256s dev::eth::BlockChain::import(const bytes&, const dev::OverlayDB&)\nDynamic exception type: boost::exception_detail::clone_impl<dev::eth::UnknownParent>\nstd::exception::what: std::exception\n\n[]Q [ 14:09:10 | eth ] Queuing block cc754c1b… for import...\n[]Q [ 14:09:10 | eth ] Already known.\n=B= [ 14:09:10 | eth ] accb408f9f37d29c940501c50e830d13158d16d2aa09098e044b04eb45073e67 : Unknown parent cc754c1be60ac674b8b544804b8b687aeb86f6320038e5802bb7fc69ede8ac67\n!!! [ 14:09:10 | eth ] Unknown parent of block!!! accb408f… /build/buildd/cpp-ethereum-0.9.1+609SNAPSHOT20150402192853trusty/libethereum/BlockChain.cpp(296): Throw in function dev::h256s dev::eth::BlockChain::import(const bytes&, const dev::OverlayDB&)\nDynamic exception type: boost::exception_detail::clone_impl<dev::eth::UnknownParent>\nstd::exception::what: std::exception\n\n[]Q [ 14:09:10 | eth ] Queuing block accb408f… for import...\n[]Q [ 14:09:10 | eth ] Already known.\n!P! [ 14:10:20 | p2p ] Invalid Message hash from 54.174.254.175 : 30303\n```\n\nAnd it will sync only until block `#13476` and remain there forever. This is also the case if I try syncing it with more than one Go node from my aws instances.\n## Case 3: sync with cpp nodes\n\nIf I try syncing it with any cpp node:\n\n```\neth -x 1 -r poc-9.ethdev.com -p 30303 -m off -n off -v 8 -i -j\n```\n\nIt will sync correctly all the way.\n",
  "closed_by": {
    "login": "cubedro",
    "id": 6094026,
    "node_id": "MDQ6VXNlcjYwOTQwMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6094026?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cubedro",
    "html_url": "https://github.com/cubedro",
    "followers_url": "https://api.github.com/users/cubedro/followers",
    "following_url": "https://api.github.com/users/cubedro/following{/other_user}",
    "gists_url": "https://api.github.com/users/cubedro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cubedro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cubedro/subscriptions",
    "organizations_url": "https://api.github.com/users/cubedro/orgs",
    "repos_url": "https://api.github.com/users/cubedro/repos",
    "events_url": "https://api.github.com/users/cubedro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cubedro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89632176",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/642#issuecomment-89632176",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642",
    "id": 89632176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NjMyMTc2",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T18:06:53Z",
    "updated_at": "2015-04-04T18:06:53Z",
    "author_association": "MEMBER",
    "body": "Fixed? :-)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89632176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89632182",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/642#issuecomment-89632182",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642",
    "id": 89632182,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5NjMyMTgy",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-04T18:07:10Z",
    "updated_at": "2015-04-04T18:07:10Z",
    "author_association": "MEMBER",
    "body": "https://eth-netstats.herokuapp.com/ shows a lovely sync :dancer: \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89632182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89839925",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/642#issuecomment-89839925",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/642",
    "id": 89839925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg5ODM5OTI1",
    "user": {
      "login": "cubedro",
      "id": 6094026,
      "node_id": "MDQ6VXNlcjYwOTQwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6094026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cubedro",
      "html_url": "https://github.com/cubedro",
      "followers_url": "https://api.github.com/users/cubedro/followers",
      "following_url": "https://api.github.com/users/cubedro/following{/other_user}",
      "gists_url": "https://api.github.com/users/cubedro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cubedro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cubedro/subscriptions",
      "organizations_url": "https://api.github.com/users/cubedro/orgs",
      "repos_url": "https://api.github.com/users/cubedro/repos",
      "events_url": "https://api.github.com/users/cubedro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cubedro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-05T19:49:56Z",
    "updated_at": "2015-04-05T19:49:56Z",
    "author_association": "MEMBER",
    "body": "Yeap, fixed\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/89839925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
