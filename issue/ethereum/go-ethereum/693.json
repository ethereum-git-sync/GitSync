{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/693",
  "id": 67677640,
  "node_id": "MDU6SXNzdWU2NzY3NzY0MA==",
  "number": 693,
  "title": "looping around invalid block and unable to sync blockchain",
  "user": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2015-04-10T20:36:37Z",
  "updated_at": "2015-04-13T19:18:26Z",
  "closed_at": "2015-04-13T19:18:26Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "develop f047699\n\n```\nWelcome to the FRONTIER\nI0410 13:30:21.010953   32223 backend.go:180] Protocol Version: 60, Network Id: 0\nI0410 13:30:21.012009   32223 chain_manager.go:186] Last block (#67042) fd257c7081307ffe29345eb1a3a779c7e94fc3399f68e2acd7da101f49d74732 TD=103303377364\nI0410 13:30:21.377061   32223 ethash.go:94] Making cache\nI0410 13:30:22.507225   32223 ethash.go:99] Took: 1.130094339s\nI0410 13:30:22.511881   32223 cmd.go:116] Starting  Geth/v0.9.9/linux/go1.4.2\nI0410 13:30:22.511977   32223 server.go:170] Starting Server\nI0410 13:30:23.085759   32223 udp.go:157] Listening, enode://c3bd9a1fc3964a9744ed290e903f4cdf525df8b78396f0e0e07d82bc1c9007a445b5331ab3b78d3d29c2f7ce5423bbc3a1ecdfc08e47d4036972d57edde73901@[::]:30304\nI0410 13:30:23.085994   32223 nat.go:94] mapping error: no devices discovered\nI0410 13:30:23.086029   32223 blockpool.go:269] Blockpool started\nI0410 13:30:23.086040   32223 whisper.go:72] Whisper started\nI0410 13:30:23.086034   32223 nat.go:94] mapping error: no devices discovered\nI0410 13:30:23.086053   32223 backend.go:383] Server started\nI0410 13:30:23.086106   32223 server.go:286] Listening on [::]:30304\nI0410 13:30:46.697359   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:30:46.697386   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:30:46.697401   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:30:46 [Blockpool] invalid block d248a85d3fae0573c0ac021ecb18b13d0279c6539a01de6d54429de42a7ef9cd\n2015/04/10 13:30:46 [Blockpool] penalise peers d5b16a8cb954ce5d (hash), d5b16a8cb954ce5d (block)\nI0410 13:30:53.783222   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:30:53.783264   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:30:53.783278   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:30:53 [Blockpool] invalid block d248a85d3fae0573c0ac021ecb18b13d0279c6539a01de6d54429de42a7ef9cd\n2015/04/10 13:30:53 [Blockpool] penalise peers d5b16a8cb954ce5d (hash), d5b16a8cb954ce5d (block)\nI0410 13:30:59.706763   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:30:59.706798   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:30:59.706814   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:30:59 [Blockpool] invalid block d248a85d3fae0573c0ac021ecb18b13d0279c6539a01de6d54429de42a7ef9cd\n2015/04/10 13:30:59 [Blockpool] penalise peers d5b16a8cb954ce5d (hash), d5b16a8cb954ce5d (block)\nI0410 13:31:05.704960   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:31:05.704996   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:31:05.705010   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:31:05 [Blockpool] invalid block d248a85d3fae0573c0ac021ecb18b13d0279c6539a01de6d54429de42a7ef9cd\n2015/04/10 13:31:05 [Blockpool] penalise peers d5b16a8cb954ce5d (hash), d5b16a8cb954ce5d (block)\nI0410 13:31:51.818546   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:31:51.818583   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:31:51.818610   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:31:51 [Blockpool] invalid block 2ed210fbd72c51c5952f4da3c60c93cb5b298794c46641b0c98e8310edb59f8d\n2015/04/10 13:31:51 [Blockpool] penalise peers 487611428e6c99a1 (hash), 487611428e6c99a1 (block)\nI0410 13:32:23.225143   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:32:23.225187   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:32:23.225200   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:32:23 [Blockpool] invalid block 153faa89af19ee185b6e2c5cc926c9d67cd03b52dcc49ffe108212f38abe8d00\n2015/04/10 13:32:23 [Blockpool] penalise peers bf1d38bbe00f43d3 (hash), bf1d38bbe00f43d3 (block)\nI0410 13:32:37.041239   32223 chain_manager.go:480] INVALID block #67043 (e3b7195c)\nI0410 13:32:37.041284   32223 chain_manager.go:481] gas used error (114540 / 114097)\nI0410 13:32:37.041304   32223 errors.go:82] [Blockpool] Invalid block: [gas used error (114540 / 114097)]\n2015/04/10 13:32:37 [Blockpool] invalid block 153faa89af19ee185b6e2c5cc926c9d67cd03b52dcc49ffe108212f38abe8d00\n2015/04/10 13:32:37 [Blockpool] penalise peers e7746bc09a0bd0b4 (hash), e7746bc09a0bd0b4 (block)\n```\n\nI will delete my blockchain dir, but eventually probably should have some friendlier fix for user.  Sending obscuren my blockchain dir.\n",
  "closed_by": {
    "login": "obscuren",
    "id": 6264126,
    "node_id": "MDQ6VXNlcjYyNjQxMjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/obscuren",
    "html_url": "https://github.com/obscuren",
    "followers_url": "https://api.github.com/users/obscuren/followers",
    "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
    "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
    "organizations_url": "https://api.github.com/users/obscuren/orgs",
    "repos_url": "https://api.github.com/users/obscuren/repos",
    "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
    "received_events_url": "https://api.github.com/users/obscuren/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91689581",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/693#issuecomment-91689581",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693",
    "id": 91689581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNjg5NTgx",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T21:02:45Z",
    "updated_at": "2015-04-10T21:38:56Z",
    "author_association": "MEMBER",
    "body": "killed the chain and resynced and stuck on 70625:\n\n```\nI0410 13:54:30.693268    1302 chain_manager.go:544] imported 256 block(s) 0 queued in 1.099538999s. #70107 [20e30a38 / 0967fd5f]\nI0410 13:54:31.784567    1302 chain_manager.go:544] imported 256 block(s) 0 queued in 1.091084362s. #70363 [209d058b / 24789c37]\nI0410 13:54:32.860330    1302 chain_manager.go:544] imported 257 block(s) 0 queued in 1.075536411s. #70620 [48a75001 / 76b45384]\nI0410 13:54:32.860527    1302 chain_manager.go:480] INVALID block #70625 (dbbe2726)\nI0410 13:54:32.860540    1302 chain_manager.go:481] Block's parent unknown d9302e74374e9bdb5ce0971ad3a4319ec1db3b79c4335965f039239ee9281084\nI0410 13:54:32.860557    1302 errors.go:82] [Blockpool] Invalid block: [Block's parent unknown d9302e74374e9bdb5ce0971ad3a4319ec1db3b79c4335965f039239ee9281084]\n2015/04/10 13:54:32 [Blockpool] invalid block 9116c564e617d57d8e9fb26ebb9ac9fb4e24c9ccb2989b22b98913dcea0321f1\n2015/04/10 13:54:32 [Blockpool] penalise peers d5b16a8cb954ce5d (hash), d5b16a8cb954ce5d (block)\n```\n\nhere's the trace from kill -QUIT:\nhttps://gist.github.com/ethers/30bd2220bb292f3b233b\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91689581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91707103",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/693#issuecomment-91707103",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693",
    "id": 91707103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkxNzA3MTAz",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-10T22:18:53Z",
    "updated_at": "2015-04-10T22:18:53Z",
    "author_association": "MEMBER",
    "body": "The two errors do not relate\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/91707103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/92057107",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/693#issuecomment-92057107",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693",
    "id": 92057107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyMDU3MTA3",
    "user": {
      "login": "zelig",
      "id": 769725,
      "node_id": "MDQ6VXNlcjc2OTcyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/769725?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zelig",
      "html_url": "https://github.com/zelig",
      "followers_url": "https://api.github.com/users/zelig/followers",
      "following_url": "https://api.github.com/users/zelig/following{/other_user}",
      "gists_url": "https://api.github.com/users/zelig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zelig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zelig/subscriptions",
      "organizations_url": "https://api.github.com/users/zelig/orgs",
      "repos_url": "https://api.github.com/users/zelig/repos",
      "events_url": "https://api.github.com/users/zelig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zelig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-12T13:04:34Z",
    "updated_at": "2015-04-12T13:04:34Z",
    "author_association": "MEMBER",
    "body": "ok so the first issue of looping is caused by not disconnecting the offending peer .\nthis is because @obscuren commented out https://github.com/ethereum/go-ethereum/blob/f047699afbf4773cc9ab37e61af7d72564a12008/eth/protocol.go#L386\nthe unknown parent issue is real caused by a stupid forgotten lock, to be fixed in the next PR.\nit's an intermittent datarace issue, so you should be able to restart geth and pray :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/92057107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/92467694",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/693#issuecomment-92467694",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/693",
    "id": 92467694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDkyNDY3Njk0",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-04-13T19:18:25Z",
    "updated_at": "2015-04-13T19:18:25Z",
    "author_association": "MEMBER",
    "body": "Closing. Is fixed in https://github.com/ethereum/go-ethereum/pull/702\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/92467694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
