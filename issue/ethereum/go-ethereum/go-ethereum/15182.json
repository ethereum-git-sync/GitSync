{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15182",
  "id": 259648734,
  "node_id": "MDU6SXNzdWUyNTk2NDg3MzQ=",
  "number": 15182,
  "title": "geth --dev doesn't work with a custom genesis block (geth init ...).",
  "user": {
    "login": "robert-zaremba",
    "id": 811701,
    "node_id": "MDQ6VXNlcjgxMTcwMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/811701?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/robert-zaremba",
    "html_url": "https://github.com/robert-zaremba",
    "followers_url": "https://api.github.com/users/robert-zaremba/followers",
    "following_url": "https://api.github.com/users/robert-zaremba/following{/other_user}",
    "gists_url": "https://api.github.com/users/robert-zaremba/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/robert-zaremba/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/robert-zaremba/subscriptions",
    "organizations_url": "https://api.github.com/users/robert-zaremba/orgs",
    "repos_url": "https://api.github.com/users/robert-zaremba/repos",
    "events_url": "https://api.github.com/users/robert-zaremba/events{/privacy}",
    "received_events_url": "https://api.github.com/users/robert-zaremba/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2017-09-21T22:15:53Z",
  "updated_at": "2019-01-05T09:12:03Z",
  "closed_at": "2018-10-04T07:50:28Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.7.0\r\nOS & Version: Linux -- docker container: ethereum/client-go:v1.7.0\r\n\r\n#### Expected behaviour\r\n\r\n`geth --dev` works with custom genesis block.\r\n\r\n#### Actual behaviour\r\n\r\n`geth --dev` returns error if runs after removing DB and `geth init myGenesis.json`\r\n\r\n    Fatal: Error starting protocol stack: database already contains an incompatible genesis block (have 2a99ba45a8097ae4, new e5be92145a301820)\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\ngethGenesisBlock.json (the `config` is the same as the one logged when running `geth --dev` on a clean storage):\r\n```\r\n{\r\n    \"config\": {\r\n        \"chainId\": 1337,\r\n        \"homesteadBlock\": 0,\r\n        \"byzantiumBlock\": 0,\r\n        \"eip150Block\": 0,\r\n        \"eip155Block\": 0,\r\n        \"eip158Block\": 0\r\n    },\r\n    \"difficulty\": \"0x100\",\r\n    \"gasLimit\": \"20000000\",\r\n    \"alloc\": {}\r\n}\r\n```\r\n\r\nsteps:\r\n```\r\ngeth --dev --datadir ~/.ethereum init gethGenesisBlock.json \r\ngeth --dev --datadir ~/.ethereum \r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\nroot@2969dbe94b30:~> geth --dev --datadir ~/.ethereum init gethGenesisBlock.json \r\nINFO [09-21|09:52:11] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=16 handles=16\r\nINFO [09-21|09:52:11] Writing custom genesis block \r\nINFO [09-21|09:52:11] Successfully wrote genesis state         database=chaindata                      hash=2a99ba…8016cb\r\nINFO [09-21|09:52:11] Allocated cache and file handles         database=/root/.ethereum/geth/lightchaindata cache=16 handles=16\r\nINFO [09-21|09:52:12] Writing custom genesis block \r\nINFO [09-21|09:52:12] Successfully wrote genesis state         database=lightchaindata                      hash=2a99ba…8016cb\r\n\r\nroot@2969dbe94b30:~> geth --dev --datadir ~/.ethereum \r\nINFO [09-21|09:52:21] Starting peer-to-peer node               instance=Geth/v1.7.0-stable/linux-amd64/go1.9\r\nINFO [09-21|09:52:21] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=128 handles=1024\r\nWARN [09-21|09:52:21] Upgrading database to use lookup entries \r\nINFO [09-21|09:52:21] Database deduplication successful        deduped=0\r\nFatal: Error starting protocol stack: database already contains an incompatible genesis block (have 2a99ba45a8097ae4, new e5be92145a301820)\r\n````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182/reactions",
    "total_count": 9,
    "+1": 9,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/338904581",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-338904581",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 338904581,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODkwNDU4MQ==",
    "user": {
      "login": "awgneo",
      "id": 3988798,
      "node_id": "MDQ6VXNlcjM5ODg3OTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3988798?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awgneo",
      "html_url": "https://github.com/awgneo",
      "followers_url": "https://api.github.com/users/awgneo/followers",
      "following_url": "https://api.github.com/users/awgneo/following{/other_user}",
      "gists_url": "https://api.github.com/users/awgneo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awgneo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awgneo/subscriptions",
      "organizations_url": "https://api.github.com/users/awgneo/orgs",
      "repos_url": "https://api.github.com/users/awgneo/repos",
      "events_url": "https://api.github.com/users/awgneo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awgneo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-24T07:49:24Z",
    "updated_at": "2017-10-24T07:49:24Z",
    "author_association": "NONE",
    "body": "This is a huge problem when trying to test code locally. :(",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/338904581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/340080471",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-340080471",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 340080471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MDA4MDQ3MQ==",
    "user": {
      "login": "nulltrope",
      "id": 12895773,
      "node_id": "MDQ6VXNlcjEyODk1Nzcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12895773?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nulltrope",
      "html_url": "https://github.com/nulltrope",
      "followers_url": "https://api.github.com/users/nulltrope/followers",
      "following_url": "https://api.github.com/users/nulltrope/following{/other_user}",
      "gists_url": "https://api.github.com/users/nulltrope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nulltrope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nulltrope/subscriptions",
      "organizations_url": "https://api.github.com/users/nulltrope/orgs",
      "repos_url": "https://api.github.com/users/nulltrope/repos",
      "events_url": "https://api.github.com/users/nulltrope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nulltrope/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-27T20:43:46Z",
    "updated_at": "2017-10-27T20:43:46Z",
    "author_association": "NONE",
    "body": "I'll take a look at this",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/340080471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/342744109",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-342744109",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 342744109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mjc0NDEwOQ==",
    "user": {
      "login": "tundak",
      "id": 5101736,
      "node_id": "MDQ6VXNlcjUxMDE3MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5101736?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tundak",
      "html_url": "https://github.com/tundak",
      "followers_url": "https://api.github.com/users/tundak/followers",
      "following_url": "https://api.github.com/users/tundak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tundak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tundak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tundak/subscriptions",
      "organizations_url": "https://api.github.com/users/tundak/orgs",
      "repos_url": "https://api.github.com/users/tundak/repos",
      "events_url": "https://api.github.com/users/tundak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tundak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-08T08:22:00Z",
    "updated_at": "2017-11-08T08:22:00Z",
    "author_association": "NONE",
    "body": "Getting below issue\r\n\r\n```\r\ngeth --datadir \"/var/www/html/eth/mychain\" --rpc --rpcaddr 127.0.0.1 --rpcport 8545 --dev \r\nWARN [11-08|13:45:13] No etherbase set and no accounts found as default \r\nINFO [11-08|13:45:13] Starting peer-to-peer node               instance=Geth/v1.7.2-stable-1db4ecdc/linux-amd64/go1.9\r\nINFO [11-08|13:45:13] Allocated cache and file handles         database=/var/www/html/eth/mychain/geth/chaindata cache=128 handles=1024\r\nFatal: Error starting protocol stack: database already contains an incompatible genesis block (have d1a12dd8ee31c1b4, new e5be92145a301820)\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/342744109/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344913520",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-344913520",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 344913520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDkxMzUyMA==",
    "user": {
      "login": "4ntoine",
      "id": 846671,
      "node_id": "MDQ6VXNlcjg0NjY3MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/846671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4ntoine",
      "html_url": "https://github.com/4ntoine",
      "followers_url": "https://api.github.com/users/4ntoine/followers",
      "following_url": "https://api.github.com/users/4ntoine/following{/other_user}",
      "gists_url": "https://api.github.com/users/4ntoine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4ntoine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4ntoine/subscriptions",
      "organizations_url": "https://api.github.com/users/4ntoine/orgs",
      "repos_url": "https://api.github.com/users/4ntoine/repos",
      "events_url": "https://api.github.com/users/4ntoine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4ntoine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T12:51:07Z",
    "updated_at": "2017-11-16T12:51:07Z",
    "author_association": "NONE",
    "body": "> $geth version\r\n> Geth\r\n> Version: 1.7.2-stable\r\n> Git Commit: 1db4ecdc0b9e828ff65777fb466fc7c1d04e0de9\r\n> Architecture: amd64\r\n> Protocol Versions: [63 62]\r\n> Network Id: 1\r\n> Go Version: go1.9.2\r\n> Operating System: darwin\r\n> GOPATH=\r\n> GOROOT=/usr/local/Cellar/go/1.9.2/libexec",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/344913520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/348737174",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-348737174",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 348737174,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODczNzE3NA==",
    "user": {
      "login": "slatunje",
      "id": 2518656,
      "node_id": "MDQ6VXNlcjI1MTg2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2518656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slatunje",
      "html_url": "https://github.com/slatunje",
      "followers_url": "https://api.github.com/users/slatunje/followers",
      "following_url": "https://api.github.com/users/slatunje/following{/other_user}",
      "gists_url": "https://api.github.com/users/slatunje/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slatunje/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slatunje/subscriptions",
      "organizations_url": "https://api.github.com/users/slatunje/orgs",
      "repos_url": "https://api.github.com/users/slatunje/repos",
      "events_url": "https://api.github.com/users/slatunje/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slatunje/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-03T03:17:26Z",
    "updated_at": "2017-12-03T03:29:16Z",
    "author_association": "NONE",
    "body": "I am still facing the same issue...has this issue been fixed yet?\r\n\r\n    geth  --datadir=./data init genesis.json\r\n\r\nthen run\r\n\r\n    geth --datadir=./data --dev\r\n\r\nand I get\r\n```\r\nWARN [12-03|03:25:34] Upgrading database to use lookup entries\r\nINFO [12-03|03:25:34] Database deduplication successful        deduped=0\r\nFatal: Error starting protocol stack: database already contains an incompatible genesis block (have 2fb1a756bef56a20, new b8e537153deef718)    \r\n```\r\n\r\nhowever running without initialising with `geth  --datadir=./data init genesis.json` seems to work:\r\n\r\n     geth --datadir=./data --dev\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/348737174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/349419003",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-349419003",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 349419003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTQxOTAwMw==",
    "user": {
      "login": "nulltrope",
      "id": 12895773,
      "node_id": "MDQ6VXNlcjEyODk1Nzcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12895773?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nulltrope",
      "html_url": "https://github.com/nulltrope",
      "followers_url": "https://api.github.com/users/nulltrope/followers",
      "following_url": "https://api.github.com/users/nulltrope/following{/other_user}",
      "gists_url": "https://api.github.com/users/nulltrope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nulltrope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nulltrope/subscriptions",
      "organizations_url": "https://api.github.com/users/nulltrope/orgs",
      "repos_url": "https://api.github.com/users/nulltrope/repos",
      "events_url": "https://api.github.com/users/nulltrope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nulltrope/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-05T19:45:10Z",
    "updated_at": "2017-12-05T19:45:10Z",
    "author_association": "NONE",
    "body": "haven't been able to work on this yet, if somebody else wants to handle they can. Otherwise I can take another look in a week or two. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/349419003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351393424",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-351393424",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 351393424,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTM5MzQyNA==",
    "user": {
      "login": "trenner",
      "id": 6449765,
      "node_id": "MDQ6VXNlcjY0NDk3NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6449765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/trenner",
      "html_url": "https://github.com/trenner",
      "followers_url": "https://api.github.com/users/trenner/followers",
      "following_url": "https://api.github.com/users/trenner/following{/other_user}",
      "gists_url": "https://api.github.com/users/trenner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/trenner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/trenner/subscriptions",
      "organizations_url": "https://api.github.com/users/trenner/orgs",
      "repos_url": "https://api.github.com/users/trenner/repos",
      "events_url": "https://api.github.com/users/trenner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/trenner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T13:38:39Z",
    "updated_at": "2017-12-13T13:38:39Z",
    "author_association": "NONE",
    "body": "I'm facing the same issue. It is really annoying to test locally without --dev and --dev.period.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351393424/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351915577",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-351915577",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 351915577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTkxNTU3Nw==",
    "user": {
      "login": "naddison36",
      "id": 6491112,
      "node_id": "MDQ6VXNlcjY0OTExMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6491112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naddison36",
      "html_url": "https://github.com/naddison36",
      "followers_url": "https://api.github.com/users/naddison36/followers",
      "following_url": "https://api.github.com/users/naddison36/following{/other_user}",
      "gists_url": "https://api.github.com/users/naddison36/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naddison36/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naddison36/subscriptions",
      "organizations_url": "https://api.github.com/users/naddison36/orgs",
      "repos_url": "https://api.github.com/users/naddison36/repos",
      "events_url": "https://api.github.com/users/naddison36/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naddison36/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-15T05:13:34Z",
    "updated_at": "2017-12-15T05:13:34Z",
    "author_association": "NONE",
    "body": "I'm also getting this issue when I use the `--dev` option with a custom genesis file that has been initialised. The problem with not being able to use a custom genesis file is I can't prefund a set of test accounts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351915577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352572222",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-352572222",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 352572222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjU3MjIyMg==",
    "user": {
      "login": "nulltrope",
      "id": 12895773,
      "node_id": "MDQ6VXNlcjEyODk1Nzcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12895773?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nulltrope",
      "html_url": "https://github.com/nulltrope",
      "followers_url": "https://api.github.com/users/nulltrope/followers",
      "following_url": "https://api.github.com/users/nulltrope/following{/other_user}",
      "gists_url": "https://api.github.com/users/nulltrope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nulltrope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nulltrope/subscriptions",
      "organizations_url": "https://api.github.com/users/nulltrope/orgs",
      "repos_url": "https://api.github.com/users/nulltrope/repos",
      "events_url": "https://api.github.com/users/nulltrope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nulltrope/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-18T22:02:49Z",
    "updated_at": "2017-12-18T22:02:49Z",
    "author_association": "NONE",
    "body": "Going through the `core/genesis.go` code you can see [here](https://github.com/ethereum/go-ethereum/blob/9619a610248e9630968ba1d9be8e214b645c9c55/core/genesis.go#L170) that the only reason for this error is because `--dev` is invoking the genesis contrustor with its own genesis block.\r\n\r\nTherefore if you had created a genesis block manually beforehand, for example with `geth  --datadir=./data init genesis.json` , then try to run the node with `geth --datadir=./data --dev` , it will fail because you have an \"incompatible\" genesis block already in the data directory from the first step, and the second step is trying to use its own genesis block.\r\n\r\nFixing this would require changing the functionality of the `--dev` flag to either not create a genesis block and initialize a datadir on its own (i.e. you'd have to run `init` first) or make it so that `--dev` will only create a genesis block if there is none already in the datadir.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352572222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352729389",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-352729389",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 352729389,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjcyOTM4OQ==",
    "user": {
      "login": "slatunje",
      "id": 2518656,
      "node_id": "MDQ6VXNlcjI1MTg2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2518656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/slatunje",
      "html_url": "https://github.com/slatunje",
      "followers_url": "https://api.github.com/users/slatunje/followers",
      "following_url": "https://api.github.com/users/slatunje/following{/other_user}",
      "gists_url": "https://api.github.com/users/slatunje/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/slatunje/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/slatunje/subscriptions",
      "organizations_url": "https://api.github.com/users/slatunje/orgs",
      "repos_url": "https://api.github.com/users/slatunje/repos",
      "events_url": "https://api.github.com/users/slatunje/events{/privacy}",
      "received_events_url": "https://api.github.com/users/slatunje/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T11:59:07Z",
    "updated_at": "2017-12-19T12:00:24Z",
    "author_association": "NONE",
    "body": "How about separate --datadir per environment?\r\n\r\nFor example:\r\n\r\n`geth --datadir=./data init genesis.json` will produce data as normal\r\n\r\n    data/\r\n\r\n`geth --datadir=./data --dev` can then generate data into data/dev child directory \r\n\r\n    data/\r\n    └── dev/\r\n    \r\nThis way `--dev` need not worry about conflicted genesis blocks. It will make the running of the command flags idempotent.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352729389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352745221",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-352745221",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 352745221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mjc0NTIyMQ==",
    "user": {
      "login": "nulltrope",
      "id": 12895773,
      "node_id": "MDQ6VXNlcjEyODk1Nzcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12895773?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nulltrope",
      "html_url": "https://github.com/nulltrope",
      "followers_url": "https://api.github.com/users/nulltrope/followers",
      "following_url": "https://api.github.com/users/nulltrope/following{/other_user}",
      "gists_url": "https://api.github.com/users/nulltrope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nulltrope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nulltrope/subscriptions",
      "organizations_url": "https://api.github.com/users/nulltrope/orgs",
      "repos_url": "https://api.github.com/users/nulltrope/repos",
      "events_url": "https://api.github.com/users/nulltrope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nulltrope/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T13:14:09Z",
    "updated_at": "2017-12-19T13:14:09Z",
    "author_association": "NONE",
    "body": "@slatunje that would make sense, however I think the issue here is that users want to be able to use `--dev` with their own generated data & genesis block so that wallets can be prepopulated, etc.\r\n\r\nBut I see the advantage to having `--dev` generate the data for you, because it is an all-in-one command, so simply removing the data creation step from the dev flag doesn't seem to be the solution either.\r\n\r\nMaybe some others can chime in with their thoughts here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/352745221/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388371455",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-388371455",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 388371455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODM3MTQ1NQ==",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-11T13:57:28Z",
    "updated_at": "2018-05-11T13:57:28Z",
    "author_association": "MEMBER",
    "body": "Any updates on this? It remains a problem, being able to use a custom genesis block together with the functionality of --dev is very useful",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/388371455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398088778",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-398088778",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 398088778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODA4ODc3OA==",
    "user": {
      "login": "robert-zaremba",
      "id": 811701,
      "node_id": "MDQ6VXNlcjgxMTcwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/811701?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robert-zaremba",
      "html_url": "https://github.com/robert-zaremba",
      "followers_url": "https://api.github.com/users/robert-zaremba/followers",
      "following_url": "https://api.github.com/users/robert-zaremba/following{/other_user}",
      "gists_url": "https://api.github.com/users/robert-zaremba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robert-zaremba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robert-zaremba/subscriptions",
      "organizations_url": "https://api.github.com/users/robert-zaremba/orgs",
      "repos_url": "https://api.github.com/users/robert-zaremba/repos",
      "events_url": "https://api.github.com/users/robert-zaremba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robert-zaremba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T15:12:19Z",
    "updated_at": "2018-06-18T15:12:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seams that with new geth (1.8) the behaviour changed. It's not possible any more to use `--dev` with `--datadir`. Can anybody confirm and point a link to the documentation?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398088778/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419797171",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-419797171",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 419797171,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTc5NzE3MQ==",
    "user": {
      "login": "stvenyin",
      "id": 32395964,
      "node_id": "MDQ6VXNlcjMyMzk1OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/32395964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stvenyin",
      "html_url": "https://github.com/stvenyin",
      "followers_url": "https://api.github.com/users/stvenyin/followers",
      "following_url": "https://api.github.com/users/stvenyin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stvenyin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stvenyin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stvenyin/subscriptions",
      "organizations_url": "https://api.github.com/users/stvenyin/orgs",
      "repos_url": "https://api.github.com/users/stvenyin/repos",
      "events_url": "https://api.github.com/users/stvenyin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stvenyin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-10T06:02:20Z",
    "updated_at": "2018-09-10T06:02:20Z",
    "author_association": "NONE",
    "body": "Thank you very much.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/419797171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/426919541",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-426919541",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 426919541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjkxOTU0MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-04T07:50:28Z",
    "updated_at": "2018-10-04T07:50:28Z",
    "author_association": "MEMBER",
    "body": "@robert-zaremba You can still use `dev` with `datadir`. Dev just uses a 0-period clique chain.\r\n\r\nThat said, `--dev` was not meant to be used on custom networks / genesis blocks. If you need a custom setup, you can init a chain of your choosing. Dev will try to be smart and configure a lot of stuff for easy testing, but it's not flexible, it's easy.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/426919541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/451639867",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-451639867",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 451639867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTYzOTg2Nw==",
    "user": {
      "login": "stvenyin",
      "id": 32395964,
      "node_id": "MDQ6VXNlcjMyMzk1OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/32395964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stvenyin",
      "html_url": "https://github.com/stvenyin",
      "followers_url": "https://api.github.com/users/stvenyin/followers",
      "following_url": "https://api.github.com/users/stvenyin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stvenyin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stvenyin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stvenyin/subscriptions",
      "organizations_url": "https://api.github.com/users/stvenyin/orgs",
      "repos_url": "https://api.github.com/users/stvenyin/repos",
      "events_url": "https://api.github.com/users/stvenyin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stvenyin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-05T09:07:59Z",
    "updated_at": "2019-01-05T09:07:59Z",
    "author_association": "NONE",
    "body": "geth --datadir=./data --dev\r\nif use dev mode\r\nsrc\r\ncore/genesis.go\r\n// Check whether the genesis block is already written.\r\n\tif genesis != nil {\r\n\t\tblock, _ := genesis.ToBlock()\r\n\t\thash := block.Hash()\r\n\t\tif hash != stored {\r\n\t\t\treturn genesis.Config, block.Hash(), &GenesisMismatchError{stored, hash}\r\n\t\t}\r\n\t}\r\n\r\nusually people always use this method\r\ngeth  --datadir=./data init genesis.json\r\n geth --datadir=./data --dev\r\nit proof of proof work",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/451639867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/451640060",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15182#issuecomment-451640060",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15182",
    "id": 451640060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY0MDA2MA==",
    "user": {
      "login": "stvenyin",
      "id": 32395964,
      "node_id": "MDQ6VXNlcjMyMzk1OTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/32395964?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stvenyin",
      "html_url": "https://github.com/stvenyin",
      "followers_url": "https://api.github.com/users/stvenyin/followers",
      "following_url": "https://api.github.com/users/stvenyin/following{/other_user}",
      "gists_url": "https://api.github.com/users/stvenyin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stvenyin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stvenyin/subscriptions",
      "organizations_url": "https://api.github.com/users/stvenyin/orgs",
      "repos_url": "https://api.github.com/users/stvenyin/repos",
      "events_url": "https://api.github.com/users/stvenyin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stvenyin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-05T09:12:03Z",
    "updated_at": "2019-01-05T09:12:03Z",
    "author_association": "NONE",
    "body": "cd data\r\ncd ../\r\nsudo rmdir data\r\nI'm using eth --dev init genesis.json\r\ngeth --networkid 123 --dev --datadir data --.......自己加上\r\n@karalabe it's solve this problem\r\nThank you \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/451640060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
