{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2082",
  "id": 122725422,
  "node_id": "MDU6SXNzdWUxMjI3MjU0MjI=",
  "number": 2082,
  "title": "Syncing fails to restart if Windows goes into sleep mode for a long time (e.g.: overnight)",
  "user": {
    "login": "jldinh",
    "id": 12699525,
    "node_id": "MDQ6VXNlcjEyNjk5NTI1",
    "avatar_url": "https://avatars.githubusercontent.com/u/12699525?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jldinh",
    "html_url": "https://github.com/jldinh",
    "followers_url": "https://api.github.com/users/jldinh/followers",
    "following_url": "https://api.github.com/users/jldinh/following{/other_user}",
    "gists_url": "https://api.github.com/users/jldinh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jldinh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jldinh/subscriptions",
    "organizations_url": "https://api.github.com/users/jldinh/orgs",
    "repos_url": "https://api.github.com/users/jldinh/repos",
    "events_url": "https://api.github.com/users/jldinh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jldinh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 164891915,
      "node_id": "MDU6TGFiZWwxNjQ4OTE5MTU=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/os:windows",
      "name": "os:windows",
      "color": "d4c5f9",
      "default": false,
      "description": ""
    },
    {
      "id": 164892077,
      "node_id": "MDU6TGFiZWwxNjQ4OTIwNzc=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:network",
      "name": "area:network",
      "color": "207de5",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2015-12-17T12:27:08Z",
  "updated_at": "2016-03-09T10:39:04Z",
  "closed_at": "2016-03-09T10:39:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Putting the computer into sleep mode and immediately waking it up is fine though.\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167512947",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-167512947",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 167512947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzUxMjk0Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-28T08:37:56Z",
    "updated_at": "2015-12-28T08:37:56Z",
    "author_association": "MEMBER",
    "body": "I also saw something similar, but on Linux, and not after a sleep, but rather after changing my router and adding a new one instead.\n\n@fjl Could UPnP expiration be the cause? It would explain UDP and discovery, but it shouldn't affect the TCP connections, at least not the outbound ones. I'll try to repro my scenario with detailed logging and then see if it could be the same on windows or not.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167512947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167531752",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-167531752",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 167531752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzUzMTc1Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-12-28T09:58:18Z",
    "updated_at": "2015-12-28T09:58:18Z",
    "author_association": "MEMBER",
    "body": "@jldinh Could you try running geth with `--vmodule=downloader=6` next time you leave it sleeping overnight and see what it outputs in the morning? Can't seem to reproduce the error on my Linux setup.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/167531752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/168690999",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-168690999",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 168690999,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODY5MDk5OQ==",
    "user": {
      "login": "obscuren",
      "id": 6264126,
      "node_id": "MDQ6VXNlcjYyNjQxMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6264126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/obscuren",
      "html_url": "https://github.com/obscuren",
      "followers_url": "https://api.github.com/users/obscuren/followers",
      "following_url": "https://api.github.com/users/obscuren/following{/other_user}",
      "gists_url": "https://api.github.com/users/obscuren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/obscuren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/obscuren/subscriptions",
      "organizations_url": "https://api.github.com/users/obscuren/orgs",
      "repos_url": "https://api.github.com/users/obscuren/repos",
      "events_url": "https://api.github.com/users/obscuren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/obscuren/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-04T14:29:04Z",
    "updated_at": "2016-01-04T14:29:04Z",
    "author_association": "MEMBER",
    "body": "@jldinh any update for us?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/168690999/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/168702680",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-168702680",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 168702680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE2ODcwMjY4MA==",
    "user": {
      "login": "jldinh",
      "id": 12699525,
      "node_id": "MDQ6VXNlcjEyNjk5NTI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12699525?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jldinh",
      "html_url": "https://github.com/jldinh",
      "followers_url": "https://api.github.com/users/jldinh/followers",
      "following_url": "https://api.github.com/users/jldinh/following{/other_user}",
      "gists_url": "https://api.github.com/users/jldinh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jldinh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jldinh/subscriptions",
      "organizations_url": "https://api.github.com/users/jldinh/orgs",
      "repos_url": "https://api.github.com/users/jldinh/repos",
      "events_url": "https://api.github.com/users/jldinh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jldinh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-04T15:14:15Z",
    "updated_at": "2016-01-04T15:14:15Z",
    "author_association": "NONE",
    "body": "Sorry I have been away from my node for the past week. I will give you an update later this week.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/168702680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/170049515",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-170049515",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 170049515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3MDA0OTUxNQ==",
    "user": {
      "login": "jldinh",
      "id": 12699525,
      "node_id": "MDQ6VXNlcjEyNjk5NTI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12699525?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jldinh",
      "html_url": "https://github.com/jldinh",
      "followers_url": "https://api.github.com/users/jldinh/followers",
      "following_url": "https://api.github.com/users/jldinh/following{/other_user}",
      "gists_url": "https://api.github.com/users/jldinh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jldinh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jldinh/subscriptions",
      "organizations_url": "https://api.github.com/users/jldinh/orgs",
      "repos_url": "https://api.github.com/users/jldinh/repos",
      "events_url": "https://api.github.com/users/jldinh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jldinh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-08T16:36:33Z",
    "updated_at": "2016-01-08T16:36:33Z",
    "author_association": "NONE",
    "body": "OK, I managed to reproduce the issue (I forgot to mention it does not happen every time).\n\nHere's the output:\n\n```\nI0108 00:23:44.192660   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 3 txs in 5.0044ms. #813963 [f53dc40e / f53dc40e]\nI0108 00:23:52.934912   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 3 txs in 6.0049ms. #813964 [d68d022a / d68d022a]\nI0108 00:23:59.353245   13004 downloader.go:228] Registering peer e7d8ba9ed62018\nad\nI0108 00:24:02.759485   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 2.5026ms. #813965 [39a4eae4 / 39a4eae4]\nI0108 00:24:04.613404   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 3.0027ms. #813965 [26e594b7 / 26e594b7]\nI0108 00:24:19.356868   13004 downloader.go:240] Unregistering peer e7d8ba9ed620\n18ad\nI0108 00:24:24.661555   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 2.0024ms. #813966 [3f79ad0c / 3f79ad0c]\nI0108 00:24:34.525814   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 2 txs in 7.0064ms. #813967 [3966fec1 / 3966fec1]\nI0108 00:24:42.486602   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 3.0029ms. #813968 [92b9741a / 92b9741a]\nI0108 00:24:57.822280   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 3.0026ms. #813969 [2e82202e / 2e82202e]\nI0108 00:25:02.121171   13004 downloader.go:228] Registering peer e7d8ba9ed62018\nad\nI0108 00:25:02.307337   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 2.0023ms. #813970 [eaa11311 / eaa11311]\nI0108 00:25:25.692516   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 0 txs in 2.002ms. #813971 [983edaa1 / 983edaa1]\nI0108 00:25:58.205468   13004 downloader.go:240] Unregistering peer e7d8ba9ed620\n18ad\nI0108 00:26:09.099541   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 13 txs in 14.0132ms. #813972 [108db943 / 108db943]\nI0108 00:26:23.275349   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 1 txs in 5.0053ms. #813973 [fe09f7b8 / fe09f7b8]\nI0108 00:26:55.704623   13004 blockchain.go:1230] imported 1 block(s) (0 queued\n0 ignored) including 1 txs in 3.0029ms. #813974 [50d9b276 / 50d9b276]\nI0108 09:53:20.515572   13004 downloader.go:240] Unregistering peer 37ea20c105ab\nec39\nI0108 09:53:21.111854   13004 downloader.go:240] Unregistering peer bc2bfb25f2ca\n95b4\nI0108 09:53:21.183428   13004 downloader.go:240] Unregistering peer 624fc2892c48\ne258\nI0108 09:53:21.210729   13004 downloader.go:240] Unregistering peer 067cac3170ed\nd6d0\nI0108 09:53:21.224744   13004 downloader.go:240] Unregistering peer d0c11daea38a\nadc3\nI0108 09:53:21.234253   13004 downloader.go:240] Unregistering peer a979fb575495\nb8d6\nI0108 09:53:21.236755   13004 downloader.go:240] Unregistering peer 25155387dc8b\n397a\nI0108 09:53:21.243765   13004 downloader.go:240] Unregistering peer 5a89aef0ea90\nd2a7\nI0108 09:53:21.247769   13004 downloader.go:240] Unregistering peer d9bd2e34afa2\n0e4b\nI0108 09:53:21.260782   13004 downloader.go:240] Unregistering peer de471bccee3d\n0422\nI0108 09:53:21.261782   13004 downloader.go:240] Unregistering peer 1118980bf48b\n0a36\n```\n\nGiven the randomness of the issue, could it be a failure to discover new peers if all the peers known before going into sleep mode are gone when the computer wakes up?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/170049515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/194233163",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2082#issuecomment-194233163",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2082",
    "id": 194233163,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDIzMzE2Mw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-09T10:39:00Z",
    "updated_at": "2016-03-09T10:39:00Z",
    "author_association": "MEMBER",
    "body": "This should be resolved as of geth 1.3.5.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/194233163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
