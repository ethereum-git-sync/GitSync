{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24834",
  "id": 1228936156,
  "node_id": "I_kwDOAOvK985JQBPc",
  "number": 24834,
  "title": "Geth 1.10.16 stable crashes with OOM error",
  "user": {
    "login": "fogmoon",
    "id": 22490781,
    "node_id": "MDQ6VXNlcjIyNDkwNzgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/22490781?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fogmoon",
    "html_url": "https://github.com/fogmoon",
    "followers_url": "https://api.github.com/users/fogmoon/followers",
    "following_url": "https://api.github.com/users/fogmoon/following{/other_user}",
    "gists_url": "https://api.github.com/users/fogmoon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fogmoon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fogmoon/subscriptions",
    "organizations_url": "https://api.github.com/users/fogmoon/orgs",
    "repos_url": "https://api.github.com/users/fogmoon/repos",
    "events_url": "https://api.github.com/users/fogmoon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fogmoon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-08T16:57:37Z",
  "updated_at": "2022-06-18T22:03:36Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\n- Geth version:  **1.10.16-stable**\r\n- OS & Version:  **Ubuntu 20.04.3 LTS**\r\n- Hardware Info: **AWS EC2 Instance**\r\n\r\n| Instance Size | vCPU | Memory (GiB) | Instance Storage (GB) | Network Bandwidth (Gbps) | EBS Bandwidth (Mbps) |\r\n|:-------------:|:----:|:------------:|:---------------------:|:------------------------:|:--------------------:|\r\n|    m5.large   |   2  |       8      |        EBS-Only       |         Up to 10         |      Up to 4,750     |\r\n\r\n#### Expected behaviour\r\nRunning normally as usual.\r\n\r\n#### Actual behaviour\r\nKilled by OOM-killer.\r\n\r\n#### Steps to reproduce the behaviour\r\nRun use the following command with `supervisord`:\r\n```\r\ngeth --syncmode \"snap\" --cache=1024 --http --http.api \"eth,net,web3,personal\" --http.addr 192.168.1.11 --http.port 39511 --maxpeers \"32\"\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\nMay  8 14:33:07 localhost systemd[1]: snapd.service: Watchdog timeout (limit 5min)!\r\nMay  8 14:33:07 localhost systemd[1]: snapd.service: Killing process 286579 (snapd) with signal SIGABRT.\r\nMay  8 14:33:12 localhost snapd[286579]: SIGABRT: abort\r\nMay  8 14:33:13 localhost snapd[286579]: PC=0x55b5746141b1 m=0 sigcode=0\r\nMay  8 14:33:13 localhost snapd[286579]: goroutine 0 [idle]:\r\nMay  8 14:33:13 localhost snapd[286579]: runtime.futex(0x55b576063d88, 0x80, 0x0, 0x0, 0xc000000000, 0x7ffe5f1c4190, 0x55b5745e7a85, 0xc00016f9c8, 0x7ffe5f1c41b0, 0x55b5745bd5a3, ...)\r\nMay  8 14:33:13 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/sys_linux_amd64.s:535 +0x21\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.futexsleep(0x55b576063d88, 0x7ffe00000000, 0xffffffffffffffff)\r\nMay  8 14:33:14 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/os_linux.go:44 +0x46\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.notesleep(0x55b576063d88)\r\nMay  8 14:33:14 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/lock_futex.go:151 +0xa3\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.stoplockedm()\r\nMay  8 14:33:15 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/proc.go:2068 +0x8c\r\nMay  8 14:33:15 localhost snapd[286579]: runtime.schedule()\r\nMay  8 14:33:16 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/proc.go:2469 +0x489\r\nMay  8 14:33:16 localhost snapd[286579]: runtime.park_m(0xc00029b200)\r\nMay  8 14:33:17 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/proc.go:2610 +0xa3\r\nMay  8 14:33:17 localhost snapd[286579]: runtime.mcall(0x0)\r\nMay  8 14:33:17 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/asm_amd64.s:318 +0x53\r\nMay  8 14:33:17 localhost snapd[286579]: goroutine 1 [select, 26530 minutes]:\r\nMay  8 14:33:18 localhost snapd[286579]: main.run(0xc0003d6f60, 0x0, 0x0)\r\nMay  8 14:33:18 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/cmd/snapd/main.go:153 +0x4e5\r\nMay  8 14:33:18 localhost snapd[286579]: main.main()\r\nMay  8 14:33:18 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/cmd/snapd/main.go:64 +0x10e\r\nMay  8 14:33:18 localhost snapd[286579]: goroutine 19 [syscall, 26530 minutes]:\r\nMay  8 14:33:19 localhost snapd[286579]: os/signal.signal_recv(0x0)\r\nMay  8 14:33:19 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/sigqueue.go:147 +0x9e\r\nMay  8 14:33:19 localhost snapd[286579]: os/signal.loop()\r\nMay  8 14:33:19 localhost snapd[286579]: #011/usr/lib/go-1.13/src/os/signal/signal_unix.go:23 +0x24\r\nMay  8 14:33:20 localhost snapd[286579]: created by os/signal.init.0\r\nMay  8 14:33:20 localhost snapd[286579]: #011/usr/lib/go-1.13/src/os/signal/signal_unix.go:29 +0x43\r\nMay  8 14:33:20 localhost snapd[286579]: goroutine 75 [select, 26530 minutes]:\r\nMay  8 14:33:20 localhost snapd[286579]: github.com/snapcore/snapd/overlord/ifacestate/udevmonitor.(*Monitor).Run.func1(0x55b5745b7495, 0xc0003d68a0)\r\nMay  8 14:33:20 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/overlord/ifacestate/udevmonitor/udevmon.go:147 +0x329\r\nMay  8 14:33:20 localhost snapd[286579]: gopkg.in/tomb%2ev2.(*Tomb).run(0xc0005e2480, 0xc000273fc0)\r\nMay  8 14:33:21 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:163 +0x2d\r\nMay  8 14:33:21 localhost snapd[286579]: created by gopkg.in/tomb%2ev2.(*Tomb).Go\r\nMay  8 14:33:21 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:159 +0xc9\r\nMay  8 14:33:21 localhost snapd[286579]: goroutine 54 [runnable]:\r\nMay  8 14:33:21 localhost snapd[286579]: time.startTimer(0xc00045e418)\r\nMay  8 14:33:21 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/time.go:114 +0x2d\r\nMay  8 14:33:21 localhost snapd[286579]: time.(*Timer).Reset(0xc00045e410, 0x4a817c8000, 0x2)\r\nMay  8 14:33:21 localhost snapd[286579]: #011/usr/lib/go-1.13/src/time/sleep.go:126 +0x83\r\nMay  8 14:33:21 localhost snapd[286579]: github.com/snapcore/snapd/overlord/standby.(*StandbyOpinions).Start.func1(0xc0000b6230)\r\nMay  8 14:33:21 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/overlord/standby/standby.go:114 +0x90\r\nMay  8 14:33:22 localhost snapd[286579]: created by github.com/snapcore/snapd/overlord/standby.(*StandbyOpinions).Start\r\nMay  8 14:33:22 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/overlord/standby/standby.go:96 +0xaa\r\nMay  8 14:33:22 localhost snapd[286579]: goroutine 55 [select]:\r\nMay  8 14:33:22 localhost snapd[286579]: github.com/snapcore/snapd/overlord.(*Overlord).Loop.func1(0x55b5745b7495, 0xc000079500)\r\nMay  8 14:33:22 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/overlord/overlord.go:465 +0x17b\r\nMay  8 14:33:22 localhost snapd[286579]: gopkg.in/tomb%2ev2.(*Tomb).run(0xc0000b6320, 0xc0005fcd20)\r\nMay  8 14:33:22 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:163 +0x2d\r\nMay  8 14:33:22 localhost snapd[286579]: created by gopkg.in/tomb%2ev2.(*Tomb).Go\r\nMay  8 14:33:23 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:159 +0xc9\r\nMay  8 14:33:23 localhost snapd[286579]: goroutine 56 [IO wait, 26530 minutes]:\r\nMay  8 14:33:23 localhost snapd[286579]: internal/poll.runtime_pollWait(0x7f64803d2f08, 0x72, 0x0)\r\nMay  8 14:33:23 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/netpoll.go:184 +0x57\r\nMay  8 14:33:23 localhost snapd[286579]: internal/poll.(*pollDesc).wait(0xc0000f8318, 0x72, 0x0, 0x0, 0x55b57501972a)\r\nMay  8 14:33:24 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:87 +0x47\r\nMay  8 14:33:24 localhost snapd[286579]: internal/poll.(*pollDesc).waitRead(...)\r\nMay  8 14:33:24 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:92\r\nMay  8 14:33:24 localhost snapd[286579]: internal/poll.(*FD).Accept(0xc0000f8300, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\nMay  8 14:33:24 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_unix.go:384 +0x1fa\r\nMay  8 14:33:24 localhost snapd[286579]: net.(*netFD).accept(0xc0000f8300, 0x55b5758346e0, 0x30, 0x30)\r\nMay  8 14:33:25 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/fd_unix.go:238 +0x44\r\nMay  8 14:33:25 localhost snapd[286579]: net.(*UnixListener).accept(0xc00036f560, 0xc0003b4840, 0x30, 0x30)\r\nMay  8 14:33:25 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock_posix.go:162 +0x34\r\nMay  8 14:33:26 localhost snapd[286579]: net.(*UnixListener).Accept(0xc00036f560, 0xc0003b4840, 0x55b5758fff78, 0xc000061d28, 0xc000054e00)\r\nMay  8 14:33:26 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock.go:260 +0x49\r\nMay  8 14:33:26 localhost snapd[286579]: github.com/snapcore/snapd/daemon.(*ucrednetListener).Accept(0xc00036f5c0, 0x55b575864ea0, 0xc0003b4840, 0x55b575798de0, 0x55b576000f30)\r\nMay  8 14:33:27 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/daemon/ucrednet.go:112 +0x4a\r\nMay  8 14:33:27 localhost snapd[286579]: net/http.(*Server).Serve(0xc000136000, 0x55b575939c00, 0xc00036f5c0, 0x0, 0x0)\r\nMay  8 14:33:27 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/http/server.go:2896 +0x282\r\nMay  8 14:33:27 localhost snapd[286579]: github.com/snapcore/snapd/daemon.(*Daemon).Start.func1(0x0, 0x0)\r\nMay  8 14:33:27 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/daemon/daemon.go:378 +0x56\r\nMay  8 14:33:28 localhost snapd[286579]: gopkg.in/tomb%2ev2.(*Tomb).run(0xc000432050, 0xc0000955e0)\r\nMay  8 14:33:28 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:163 +0x2d\r\nMay  8 14:33:28 localhost snapd[286579]: created by gopkg.in/tomb%2ev2.(*Tomb).Go\r\nMay  8 14:33:28 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:159 +0xc9\r\nMay  8 14:33:28 localhost snapd[286579]: goroutine 57 [runnable]:\r\nMay  8 14:33:28 localhost snapd[286579]: net.DialUnix(0x55b57501b933, 0x8, 0x0, 0xc000316060, 0x1, 0x0, 0x0)\r\nMay  8 14:33:28 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock.go:203 +0x55c\r\nMay  8 14:33:29 localhost snapd[286579]: github.com/snapcore/snapd/systemd.SdNotify(0x55b57501d892, 0xa, 0x0, 0x0)\r\nMay  8 14:33:29 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/systemd/sdnotify.go:51 +0x136\r\nMay  8 14:33:29 localhost snapd[286579]: main.runWatchdog.func1(0xc0000b6370, 0xc000432000)\r\nMay  8 14:33:29 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/cmd/snapd/main.go:98 +0x4c\r\nMay  8 14:33:29 localhost snapd[286579]: created by main.runWatchdog\r\nMay  8 14:33:30 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/cmd/snapd/main.go:91 +0x1e2\r\nMay  8 14:33:30 localhost snapd[286579]: goroutine 58 [IO wait, 26530 minutes]:\r\nMay  8 14:33:30 localhost snapd[286579]: internal/poll.runtime_pollWait(0x7f64803d2e38, 0x72, 0x0)\r\nMay  8 14:33:31 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/netpoll.go:184 +0x57\r\nMay  8 14:33:31 localhost snapd[286579]: internal/poll.(*pollDesc).wait(0xc0000f8418, 0x72, 0x0, 0x0, 0x55b57501972a)\r\nMay  8 14:33:31 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:87 +0x47\r\nMay  8 14:33:31 localhost snapd[286579]: internal/poll.(*pollDesc).waitRead(...)\r\nMay  8 14:33:32 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:92\r\nMay  8 14:33:32 localhost snapd[286579]: internal/poll.(*FD).Accept(0xc0000f8400, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\r\nMay  8 14:33:32 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_unix.go:384 +0x1fa\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*netFD).accept(0xc0000f8400, 0x203000, 0x0, 0x0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/fd_unix.go:238 +0x44\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*UnixListener).accept(0xc00036f590, 0xc0003b48a0, 0x30, 0x30)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock_posix.go:162 +0x34\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*UnixListener).Accept(0xc00036f590, 0xc0003b48a0, 0x55b5758fff78, 0xc00042c528, 0xc000054e00)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock.go:260 +0x49\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/snapcore/snapd/daemon.(*ucrednetListener).Accept(0xc00036f5f0, 0x55b575864ea0, 0xc0003b48a0, 0x55b575798de0, 0x55b576000f30)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/daemon/ucrednet.go:112 +0x4a\r\nMay  8 14:33:33 localhost snapd[286579]: net/http.(*Server).Serve(0xc000136000, 0x55b575939c00, 0xc00036f5f0, 0x0, 0x0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/http/server.go:2896 +0x282\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/snapcore/snapd/daemon.(*Daemon).Start.func1.1(0x0, 0x0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/daemon/daemon.go:370 +0x4b\r\nMay  8 14:33:33 localhost snapd[286579]: gopkg.in/tomb%2ev2.(*Tomb).run(0xc000432050, 0xc0000955f0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:163 +0x2d\r\nMay  8 14:33:33 localhost snapd[286579]: created by gopkg.in/tomb%2ev2.(*Tomb).Go\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/gopkg.in/tomb.v2/tomb.go:159 +0xc9\r\nMay  8 14:33:33 localhost snapd[286579]: goroutine 59 [IO wait, 26530 minutes]:\r\nMay  8 14:33:33 localhost snapd[286579]: internal/poll.runtime_pollWait(0x7f64803d2bc8, 0x72, 0x1000)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/netpoll.go:184 +0x57\r\nMay  8 14:33:33 localhost snapd[286579]: internal/poll.(*pollDesc).wait(0xc00025e218, 0x72, 0x0, 0x10, 0xc000499920)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:87 +0x47\r\nMay  8 14:33:33 localhost snapd[286579]: internal/poll.(*pollDesc).waitRead(...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_poll_runtime.go:92\r\nMay  8 14:33:33 localhost snapd[286579]: internal/poll.(*FD).ReadMsg(0xc00025e200, 0xc0005cf350, 0x10, 0x10, 0xc000499920, 0x1000, 0x1000, 0x0, 0x0, 0x0, ...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/internal/poll/fd_unix.go:243 +0x230\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*netFD).readMsg(0xc00025e200, 0xc0005cf350, 0x10, 0x10, 0xc000499920, 0x1000, 0x1000, 0xc00044bd50, 0x55b576027196, 0x1, ...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/fd_unix.go:214 +0x92\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*UnixConn).readMsg(0xc0000ae210, 0xc0005cf350, 0x10, 0x10, 0xc000499920, 0x1000, 0x1000, 0xc0005cf220, 0xc0005cf21c, 0xc0004cdea0, ...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock_posix.go:115 +0x93\r\nMay  8 14:33:33 localhost snapd[286579]: net.(*UnixConn).ReadMsgUnix(0xc0000ae210, 0xc0005cf350, 0x10, 0x10, 0xc000499920, 0x1000, 0x1000, 0xc0003e22c0, 0x20, 0x18, ...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/net/unixsock.go:143 +0x9a\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/godbus/dbus.(*oobReader).Read(0xc000499900, 0xc0005cf350, 0x10, 0x10, 0xc00044bdf0, 0x55b5745bf32a, 0x20)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/github.com/godbus/dbus/transport_unix.go:21 +0x8f\r\nMay  8 14:33:33 localhost snapd[286579]: io.ReadAtLeast(0x55b575920320, 0xc000499900, 0xc0005cf350, 0x10, 0x10, 0x10, 0xc0002b21d0, 0x0, 0x0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/io/io.go:310 +0x89\r\nMay  8 14:33:33 localhost snapd[286579]: io.ReadFull(...)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/io/io.go:329\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/godbus/dbus.(*unixTransport).ReadMessage(0xc0004cd9a0, 0xc000000002, 0x2, 0xc0003b9201)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/github.com/godbus/dbus/transport_unix.go:91 +0x11a\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/godbus/dbus.(*Conn).inWorker(0xc0003d3dd0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/github.com/godbus/dbus/conn.go:294 +0x42\r\nMay  8 14:33:33 localhost snapd[286579]: created by github.com/godbus/dbus.(*Conn).Auth\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/vendor/github.com/godbus/dbus/auth.go:118 +0x623\r\nMay  8 14:33:33 localhost snapd[286579]: goroutine 74 [syscall, 16385 minutes]:\r\nMay  8 14:33:33 localhost snapd[286579]: syscall.Syscall6(0x17, 0xb, 0xc000457e28, 0x0, 0x0, 0x0, 0x0, 0xc000494180, 0x200000003, 0xc000494180)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/syscall/asm_linux_amd64.s:44 +0x5\r\nMay  8 14:33:33 localhost snapd[286579]: syscall.Select(0xb, 0xc000457e28, 0x0, 0x0, 0x0, 0x55b5745e1313, 0x55b5758ff498, 0xc000457e48)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/usr/lib/go-1.13/src/syscall/zsyscall_linux_amd64.go:1320 +0xa2\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/snapcore/snapd/osutil/udev/netlink.stopperSelectReadable(0x9, 0xa, 0x0, 0xc0007f0c20, 0x1c)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/osutil/udev/netlink/rawsockstop.go:57 +0x16c\r\nMay  8 14:33:33 localhost systemd[1]: snapd.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/snapcore/snapd/osutil/udev/netlink.RawSockStopper.func1(0xc00000f580, 0xc000480620, 0x6)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/osutil/udev/netlink/rawsockstop.go:31 +0x4e\r\nMay  8 14:33:33 localhost snapd[286579]: github.com/snapcore/snapd/osutil/udev/netlink.(*UEventConn).Monitor.func4(0xc00000f5c0, 0xc000085500, 0xc000085560, 0xc0000855c0, 0xc0004e4740, 0x55b5759429c0, 0xc00000f580, 0xc0000854a0)\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/osutil/udev/netlink/conn.go:139 +0x46\r\nMay  8 14:33:33 localhost snapd[286579]: created by github.com/snapcore/snapd/osutil/udev/netlink.(*UEventConn).Monitor\r\nMay  8 14:33:33 localhost snapd[286579]: #011/build/snapd/parts/snapd-deb/build/osutil/udev/netlink/conn.go:136 +0x247\r\nMay  8 14:33:33 localhost snapd[286579]: rax    0xca\r\nMay  8 14:33:33 localhost snapd[286579]: rbx    0x55b576063c40\r\nMay  8 14:33:33 localhost snapd[286579]: rcx    0x55b5746141b3\r\nMay  8 14:33:33 localhost snapd[286579]: rdx    0x0\r\nMay  8 14:33:33 localhost snapd[286579]: rdi    0x55b576063d88\r\nMay  8 14:33:33 localhost snapd[286579]: rsi    0x80\r\nMay  8 14:33:33 localhost snapd[286579]: rbp    0x7ffe5f1c4178\r\nMay  8 14:33:33 localhost snapd[286579]: rsp    0x7ffe5f1c4130\r\nMay  8 14:33:33 localhost snapd[286579]: r8     0x0\r\nMay  8 14:33:33 localhost snapd[286579]: r9     0x0\r\nMay  8 14:33:33 localhost snapd[286579]: r10    0x0\r\nMay  8 14:33:33 localhost snapd[286579]: r11    0x286\r\nMay  8 14:33:33 localhost snapd[286579]: r12    0x0\r\nMay  8 14:33:33 localhost snapd[286579]: r13    0x1\r\nMay  8 14:33:33 localhost snapd[286579]: r14    0xc0003c8780\r\nMay  8 14:33:33 localhost snapd[286579]: r15    0x0\r\nMay  8 14:33:33 localhost snapd[286579]: rip    0x55b5746141b1\r\nMay  8 14:33:33 localhost snapd[286579]: rflags 0x286\r\nMay  8 14:33:33 localhost snapd[286579]: cs     0x33\r\nMay  8 14:33:33 localhost snapd[286579]: fs     0x0\r\nMay  8 14:33:33 localhost snapd[286579]: gs     0x0\r\nMay  8 14:33:33 localhost systemd[1]: snapd.service: Failed with result 'watchdog'.\r\nMay  8 14:33:34 localhost systemd[1]: snapd.service: Scheduled restart job, restart counter is at 5.\r\nMay  8 14:33:34 localhost systemd[1]: Stopped Snap Daemon.\r\nMay  8 14:33:34 localhost systemd[1]: Starting Snap Daemon...\r\nMay  8 14:34:19 localhost snapd[369904]: AppArmor status: apparmor is enabled and all features are available\r\nMay  8 14:35:04 localhost systemd[1]: snapd.service: start operation timed out. Terminating.\r\nMay  8 14:35:04 localhost systemd[1]: snapd.service: Failed with result 'timeout'.\r\nMay  8 14:35:04 localhost systemd[1]: Failed to start Snap Daemon.\r\nMay  8 14:35:04 localhost systemd[1]: snapd.service: Scheduled restart job, restart counter is at 6.\r\nMay  8 14:35:04 localhost systemd[1]: Stopped Snap Daemon.\r\nMay  8 14:35:04 localhost systemd[1]: Starting Snap Daemon...\r\nMay  8 14:35:38 localhost snapd[369924]: AppArmor status: apparmor is enabled and all features are available\r\nMay  8 14:36:35 localhost systemd[1]: snapd.service: start operation timed out. Terminating.\r\nMay  8 14:36:35 localhost systemd[1]: snapd.service: Failed with result 'timeout'.\r\nMay  8 14:36:35 localhost systemd[1]: Failed to start Snap Daemon.\r\nMay  8 14:36:35 localhost systemd[1]: snapd.service: Scheduled restart job, restart counter is at 7.\r\nMay  8 14:36:35 localhost systemd[1]: Stopped Snap Daemon.\r\nMay  8 14:36:35 localhost systemd[1]: Starting Snap Daemon...\r\nMay  8 14:37:21 localhost snapd[369942]: AppArmor status: apparmor is enabled and all features are available\r\nMay  8 14:37:37 localhost kernel: [7276107.190749] supervisord invoked oom-killer: gfp_mask=0x100cca(GFP_HIGHUSER_MOVABLE), order=0, oom_score_adj=0\r\nMay  8 14:37:37 localhost kernel: [7276107.190758] CPU: 0 PID: 1262 Comm: supervisord Not tainted 5.11.0-1028-aws #31~20.04.1-Ubuntu\r\nMay  8 14:37:37 localhost kernel: [7276107.190762] Hardware name: Amazon EC2 m5.large/, BIOS 1.0 10/16/2017\r\nMay  8 14:37:37 localhost kernel: [7276107.190764] Call Trace:\r\nMay  8 14:37:37 localhost kernel: [7276107.190768]  dump_stack+0x74/0x92\r\nMay  8 14:37:37 localhost kernel: [7276107.190776]  dump_header+0x4f/0x1f6\r\nMay  8 14:37:37 localhost kernel: [7276107.190780]  oom_kill_process.cold+0xb/0x10\r\nMay  8 14:37:37 localhost kernel: [7276107.190784]  out_of_memory+0x1cf/0x510\r\nMay  8 14:37:37 localhost kernel: [7276107.190788]  __alloc_pages_slowpath.constprop.0+0xc4d/0xd20\r\nMay  8 14:37:37 localhost kernel: [7276107.190795]  __alloc_pages_nodemask+0x2a0/0x300\r\nMay  8 14:37:37 localhost kernel: [7276107.190799]  alloc_pages_current+0x87/0xe0\r\nMay  8 14:37:37 localhost kernel: [7276107.190804]  __page_cache_alloc+0x89/0xb0\r\nMay  8 14:37:37 localhost kernel: [7276107.190809]  pagecache_get_page+0xf1/0x350\r\nMay  8 14:37:37 localhost kernel: [7276107.190811]  filemap_fault+0x9f3/0xfc0\r\nMay  8 14:37:37 localhost kernel: [7276107.190814]  ? poll_select_finish+0x220/0x220\r\nMay  8 14:37:37 localhost kernel: [7276107.190819]  ? poll_select_finish+0x220/0x220\r\nMay  8 14:37:37 localhost kernel: [7276107.190822]  ? filemap_map_pages+0x218/0x3f0\r\nMay  8 14:37:37 localhost kernel: [7276107.190826]  ext4_filemap_fault+0x32/0x50\r\nMay  8 14:37:37 localhost kernel: [7276107.190830]  __do_fault+0x3c/0xe0\r\nMay  8 14:37:37 localhost kernel: [7276107.190835]  do_fault+0x276/0x4f0\r\nMay  8 14:37:37 localhost kernel: [7276107.190838]  __handle_mm_fault+0x677/0x920\r\nMay  8 14:37:37 localhost kernel: [7276107.190843]  handle_mm_fault+0xd7/0x2b0\r\nMay  8 14:37:37 localhost kernel: [7276107.190847]  do_user_addr_fault+0x1a0/0x450\r\nMay  8 14:37:37 localhost kernel: [7276107.190854]  exc_page_fault+0x69/0x150\r\nMay  8 14:37:37 localhost kernel: [7276107.190858]  ? asm_exc_page_fault+0x8/0x30\r\nMay  8 14:37:37 localhost kernel: [7276107.190862]  asm_exc_page_fault+0x1e/0x30\r\nMay  8 14:37:37 localhost kernel: [7276107.190866] RIP: 0033:0x63764f\r\nMay  8 14:37:37 localhost kernel: [7276107.190873] Code: Unable to access opcode bytes at RIP 0x637625.\r\nMay  8 14:37:37 localhost kernel: [7276107.190874] RSP: 002b:00007ffe689fcb10 EFLAGS: 00010207\r\nMay  8 14:37:37 localhost kernel: [7276107.190877] RAX: 0000000000000000 RBX: 00007fcc59e896f0 RCX: 00007fcc5ac16ac7\r\nMay  8 14:37:37 localhost kernel: [7276107.190879] RDX: 00000000000003e8 RSI: 0000000000000002 RDI: 00007fcc5a235e60\r\nMay  8 14:37:37 localhost kernel: [7276107.190881] RBP: 0000000000000004 R08: 0000000000000000 R09: 0000000000000003\r\nMay  8 14:37:37 localhost kernel: [7276107.190882] R10: 00007fcc5977fdd0 R11: 0000000000000246 R12: 0000000000000000\r\nMay  8 14:37:37 localhost kernel: [7276107.190884] R13: 00000000000003e8 R14: 0000000001695750 R15: 00007fcc5a9356c0\r\nMay  8 14:37:37 localhost kernel: [7276107.190888] Mem-Info:\r\nMay  8 14:37:37 localhost kernel: [7276107.190890] active_anon:192 inactive_anon:1725670 isolated_anon:0\r\nMay  8 14:37:37 localhost kernel: [7276107.190890]  active_file:151 inactive_file:141 isolated_file:8\r\nMay  8 14:37:37 localhost kernel: [7276107.190890]  unevictable:5750 dirty:0 writeback:0\r\nMay  8 14:37:37 localhost kernel: [7276107.190890]  slab_reclaimable:154909 slab_unreclaimable:32007\r\nMay  8 14:37:37 localhost kernel: [7276107.190890]  mapped:2090 shmem:204 pagetables:4267 bounce:0\r\nMay  8 14:37:37 localhost kernel: [7276107.190890]  free:25016 free_pcp:476 free_cma:0\r\nMay  8 14:37:37 localhost kernel: [7276107.190895] Node 0 active_anon:768kB inactive_anon:6902680kB active_file:604kB inactive_file:564kB unevictable:23000kB isolated(anon):0kB isolated(file):32kB mapped:8360kB dirty:0kB writeback:0kB shmem:816kB shmem_thp: 0kB shmem_pmdmapped: 0kB anon_thp: 442368kB writeback_tmp:0kB kernel_stack:3344kB pagetables:17068kB all_unreclaimable? yes\r\nMay  8 14:37:37 localhost kernel: [7276107.190901] Node 0 DMA free:14884kB min:136kB low:168kB high:200kB reserved_highatomic:0KB active_anon:0kB inactive_anon:0kB active_file:0kB inactive_file:0kB unevictable:0kB writepending:0kB present:15992kB managed:15908kB mlocked:0kB bounce:0kB free_pcp:0kB local_pcp:0kB free_cma:0kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190908] lowmem_reserve[]: 0 2987 7628 7628 7628\r\nMay  8 14:37:37 localhost kernel: [7276107.190913] Node 0 DMA32 free:44576kB min:26412kB low:33012kB high:39612kB reserved_highatomic:0KB active_anon:36kB inactive_anon:2682876kB active_file:12kB inactive_file:92kB unevictable:0kB writepending:0kB present:3129256kB managed:3063720kB mlocked:0kB bounce:0kB free_pcp:156kB local_pcp:0kB free_cma:0kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190927] lowmem_reserve[]: 0 0 4640 4640 4640\r\nMay  8 14:37:37 localhost kernel: [7276107.190932] Node 0 Normal free:40604kB min:41032kB low:51288kB high:61544kB reserved_highatomic:0KB active_anon:732kB inactive_anon:4219804kB active_file:504kB inactive_file:428kB unevictable:23000kB writepending:0kB present:4935680kB managed:4760972kB mlocked:18464kB bounce:0kB free_pcp:1748kB local_pcp:1308kB free_cma:0kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190938] lowmem_reserve[]: 0 0 0 0 0\r\nMay  8 14:37:37 localhost kernel: [7276107.190943] Node 0 DMA: 1*4kB (U) 0*8kB 0*16kB 1*32kB (U) 2*64kB (U) 1*128kB (U) 1*256kB (U) 0*512kB 0*1024kB 1*2048kB (M) 3*4096kB (M) = 14884kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190962] Node 0 DMA32: 1356*4kB (UME) 4595*8kB (UME) 163*16kB (UE) 21*32kB (U) 0*64kB 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 45464kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190978] Node 0 Normal: 2614*4kB (UE) 2779*8kB (UME) 353*16kB (UME) 67*32kB (UME) 4*64kB (M) 0*128kB 0*256kB 0*512kB 0*1024kB 0*2048kB 0*4096kB = 40736kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190996] Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=1048576kB\r\nMay  8 14:37:37 localhost kernel: [7276107.190998] Node 0 hugepages_total=0 hugepages_free=0 hugepages_surp=0 hugepages_size=2048kB\r\nMay  8 14:37:37 localhost kernel: [7276107.191000] 3718 total pagecache pages\r\nMay  8 14:37:37 localhost kernel: [7276107.191001] 0 pages in swap cache\r\nMay  8 14:37:37 localhost kernel: [7276107.191003] Swap cache stats: add 0, delete 0, find 0/0\r\nMay  8 14:37:37 localhost kernel: [7276107.191004] Free swap  = 0kB\r\nMay  8 14:37:37 localhost kernel: [7276107.191005] Total swap = 0kB\r\nMay  8 14:37:37 localhost kernel: [7276107.191006] 2020232 pages RAM\r\nMay  8 14:37:37 localhost kernel: [7276107.191007] 0 pages HighMem/MovableOnly\r\nMay  8 14:37:37 localhost kernel: [7276107.191008] 60082 pages reserved\r\nMay  8 14:37:37 localhost kernel: [7276107.191009] 0 pages hwpoisoned\r\nMay  8 14:37:37 localhost kernel: [7276107.191010] Tasks state (memory values in pages):\r\nMay  8 14:37:37 localhost kernel: [7276107.191011] [  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\r\nMay  8 14:37:37 localhost kernel: [7276107.191015] [    164]     0   164    17121      999   143360        0          -250 systemd-journal\r\nMay  8 14:37:37 localhost kernel: [7276107.191019] [    195]     0   195     2157      851    65536        0         -1000 systemd-udevd\r\nMay  8 14:37:37 localhost kernel: [7276107.191023] [    285]     0   285    70036     4486    90112        0         -1000 multipathd\r\nMay  8 14:37:37 localhost kernel: [7276107.191026] [    338]   102   338    22503      875    73728        0             0 systemd-timesyn\r\nMay  8 14:37:37 localhost kernel: [7276107.191030] [    398]   100   398     6688      757    73728        0             0 systemd-network\r\nMay  8 14:37:37 localhost kernel: [7276107.191032] [    401]   101   401     6803     2358    94208        0             0 systemd-resolve\r\nMay  8 14:37:37 localhost kernel: [7276107.191035] [    435]     0   435    60283      554   106496        0             0 accounts-daemon\r\nMay  8 14:37:37 localhost kernel: [7276107.191039] [    436]     0   436      637      168    36864        0             0 acpid\r\nMay  8 14:37:37 localhost kernel: [7276107.191042] [    440]     0   440     2136      560    53248        0             0 cron\r\nMay  8 14:37:37 localhost kernel: [7276107.191044] [    441]   103   441     1986      774    49152        0          -900 dbus-daemon\r\nMay  8 14:37:37 localhost kernel: [7276107.191047] [    450]     0   450    20459      707    61440        0             0 irqbalance\r\nMay  8 14:37:37 localhost kernel: [7276107.191050] [    459]     0   459     4185      724    65536        0             0 systemd-logind\r\nMay  8 14:37:37 localhost kernel: [7276107.191053] [    461]     0   461    98704     1248   131072        0             0 udisksd\r\nMay  8 14:37:37 localhost kernel: [7276107.191056] [    462]     0   462      950      514    40960        0             0 atd\r\nMay  8 14:37:37 localhost kernel: [7276107.191059] [    478]     0   478     1840      436    53248        0             0 agetty\r\nMay  8 14:37:37 localhost kernel: [7276107.191061] [    489]     0   489     1459      370    49152        0             0 agetty\r\nMay  8 14:37:37 localhost kernel: [7276107.191064] [    569]     0   569    27029     2703   110592        0             0 unattended-upgr\r\nMay  8 14:37:37 localhost kernel: [7276107.191067] [    694]     0   694     3046      777    61440        0         -1000 sshd\r\nMay  8 14:37:37 localhost kernel: [7276107.191070] [   1262]     0  1262     7938     4231   102400        0             0 supervisord\r\nMay  8 14:37:37 localhost kernel: [7276107.191073] [  37007]  1000 37007  2444694  1703015 15257600        0             0 geth\r\nMay  8 14:37:37 localhost kernel: [7276107.191076] [  41126]     0 41126   345696     1756   204800        0             0 amazon-ssm-agen\r\nMay  8 14:37:37 localhost kernel: [7276107.191079] [  41148]     0 41148   348748     2780   229376        0             0 ssm-agent-worke\r\nMay  8 14:37:37 localhost kernel: [7276107.191082] [  67707]     0 67707    59108      549    94208        0             0 polkitd\r\nMay  8 14:37:37 localhost kernel: [7276107.191085] [ 360849]     0 360849     7468     2163    94208        0             0 networkd-dispat\r\nMay  8 14:37:37 localhost kernel: [7276107.191088] [ 364927]   104 364927    56088      172    81920        0             0 rsyslogd\r\nMay  8 14:37:37 localhost kernel: [7276107.191092] [ 369942]     0 369942   125747     3061   176128        0          -900 snapd\r\nMay  8 14:37:37 localhost kernel: [7276107.191095] [ 369956]     0 369956     1579       63    57344        0          -900 systemctl\r\nMay  8 14:37:37 localhost kernel: [7276107.191098] oom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/supervisor.service,task=geth,pid=37007,uid=1000\r\nMay  8 14:37:37 localhost kernel: [7276107.191202] Out of memory: Killed process 37007 (geth) total-vm:9778776kB, anon-rss:6812060kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:14900kB oom_score_adj:0\r\nMay  8 14:37:38 localhost kernel: [7276107.926071] oom_reaper: reaped process 37007 (geth), now anon-rss:0kB, file-rss:0kB, shmem-rss:0kB\r\nMay  8 14:37:39 localhost snapd[369942]: AppArmor status: apparmor is enabled and all features are available\r\nMay  8 14:37:39 localhost snapd[369942]: overlord.go:263: Acquiring state lock file\r\nMay  8 14:37:39 localhost snapd[369942]: overlord.go:268: Acquired state lock file\r\nMay  8 14:37:39 localhost snapd[369942]: daemon.go:247: started snapd/2.55.3 (series 16; classic) ubuntu/20.04 (amd64) linux/5.11.0-1028-aws.\r\nMay  8 14:37:39 localhost kernel: [7276109.097458] loop11: detected capacity change from 0 to 8\r\nMay  8 14:37:39 localhost systemd[1]: tmp-sanity\\x2dmountpoint\\x2d363409771.mount: Succeeded.\r\nMay  8 14:37:39 localhost snapd[369942]: daemon.go:340: adjusting startup timeout by 55s (pessimistic estimate of 30s plus 5s per snap)\r\nMay  8 14:37:39 localhost systemd[1]: Started Snap Daemon.\r\nMay  8 14:37:39 localhost dbus-daemon[441]: [system] Activating via systemd: service name='org.freedesktop.timedate1' unit='dbus-org.freedesktop.timedate1.service' requested by ':1.1155' (uid=0 pid=369942 comm=\"/usr/lib/snapd/snapd \" label=\"unconfined\")\r\nMay  8 14:37:39 localhost systemd[1]: Starting Time & Date Service...\r\nMay  8 14:37:39 localhost dbus-daemon[441]: [system] Successfully activated service 'org.freedesktop.timedate1'\r\nMay  8 14:37:39 localhost systemd[1]: Started Time & Date Service.\r\nMay  8 14:37:40 localhost supervisord[1262]: 2022-05-08 14:37:40,192 INFO exited: geth_mainnet (terminated by SIGKILL; not expected)\r\nMay  8 14:37:40 localhost snapd[369942]: storehelpers.go:721: cannot refresh: snap has no updates available: \"amazon-ssm-agent\", \"core18\", \"core20\", \"lxd\", \"snapd\"\r\nMay  8 14:37:40 localhost snapd[369942]: autorefresh.go:539: auto-refresh: all snaps are up-to-date\r\nMay  8 14:37:41 localhost supervisord[1262]: 2022-05-08 14:37:41,205 INFO spawned: 'geth_mainnet' with pid 370007\r\nMay  8 14:37:51 localhost supervisord[1262]: 2022-05-08 14:37:51,763 INFO success: geth_mainnet entered RUNNING state, process has stayed up for > than 10 seconds (startsecs)\r\nMay  8 14:38:09 localhost systemd[1]: systemd-timedated.service: Succeeded.\r\n````\r\n\r\nThanks for your check.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1123808467",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24834#issuecomment-1123808467",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24834",
    "id": 1123808467,
    "node_id": "IC_kwDOAOvK985C-_TT",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-11T14:05:40Z",
    "updated_at": "2022-05-12T08:27:05Z",
    "author_association": "MEMBER",
    "body": "The logs here are a bit strange. First off, \r\n```\r\nMay  8 14:33:07 localhost systemd[1]: snapd.service: Killing process 286579 (snapd) with signal SIGABRT.\r\nMay  8 14:33:12 localhost snapd[286579]: SIGABRT: abort\r\nMay  8 14:33:13 localhost snapd[286579]: PC=0x55b5746141b1 m=0 sigcode=0\r\nMay  8 14:33:13 localhost snapd[286579]: goroutine 0 [idle]:\r\nMay  8 14:33:13 localhost snapd[286579]: runtime.futex(0x55b576063d88, 0x80, 0x0, 0x0, 0xc000000000, 0x7ffe5f1c4190, 0x55b5745e7a85, 0xc00016f9c8, 0x7ffe5f1c41b0, 0x55b5745bd5a3, ...)\r\nMay  8 14:33:13 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/sys_linux_amd64.s:535 +0x21\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.futexsleep(0x55b576063d88, 0x7ffe00000000, 0xffffffffffffffff)\r\nMay  8 14:33:14 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/os_linux.go:44 +0x46\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.notesleep(0x55b576063d88)\r\nMay  8 14:33:14 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/lock_futex.go:151 +0xa3\r\nMay  8 14:33:14 localhost snapd[286579]: runtime.stoplockedm()\r\nMay  8 14:33:15 localhost snapd[286579]: #011/usr/lib/go-1.13/src/runtime/proc.go:2068 +0x8c\r\n```\r\nThis is, IIUC, `snapd` crashing, for some reason. \r\nBut yes, then there's geth too\r\n```\r\n[  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\r\n[  37007]  1000 37007  2444694  1703015 15257600        0             0 geth\r\n```\r\n2444694 pages a'la 4K\r\n```\r\n>>> 4*1024*2444694/1024/1024/1024\r\n9.325767517089844\r\n```\r\n`9.3 GB` \r\n\r\n\r\n```\r\noom-kill:constraint=CONSTRAINT_NONE,nodemask=(null),cpuset=/,mems_allowed=0,global_oom,task_memcg=/system.slice/supervisor.service,task=geth,pid=37007,uid=1000\r\nOut of memory: Killed process 37007 (geth) total-vm:9778776kB, anon-rss:6812060kB, file-rss:0kB, shmem-rss:0kB, UID:1000 pgtables:14900kB oom_score_adj:0\r\noom_reaper: reaped process 37007 (geth), now anon-rss:0kB, file-rss:0kB, shmem-rss:0kB\r\n```\r\nThe oom_reaper kills geth at `9.7GB` mem usage, which is clearly above and beyond the `--cache 1024` setting. \r\nIt would be interesting to know what geth was doing at that time ( was it syncing? Was someone bruteforcing addresses over rpc?) Do you have any geth-log from the crash?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1123808467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
