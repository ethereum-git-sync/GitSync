{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10191/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10191/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10191/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10191",
  "id": 735414311,
  "node_id": "MDU6SXNzdWU3MzU0MTQzMTE=",
  "number": 10191,
  "title": "[isoltest] Change isoltest to execute tests with each valid evmVersion unless specified",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 717596767,
      "node_id": "MDU6TGFiZWw3MTc1OTY3Njc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": ""
    },
    {
      "id": 1012613901,
      "node_id": "MDU6TGFiZWwxMDEyNjEzOTAx",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/easy%20difficulty",
      "name": "easy difficulty",
      "color": "0b3f89",
      "default": false,
      "description": ""
    },
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-11-03T15:25:45Z",
  "updated_at": "2022-08-17T13:48:46Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Currently isoltest only runs with the latest evmVersion and would ignore a given file if the version rule specified within rejects it.\r\n\r\nI think it would make life much easier if isoltest would execute tests with each valid evmVersion which satisfies the optionally present rule.  If however the `--evm-version` argument is present that overrides the selection and only runs it for that version.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10191/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10191/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721199246",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-721199246",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 721199246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTE5OTI0Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T15:28:47Z",
    "updated_at": "2020-11-03T15:28:47Z",
    "author_association": "MEMBER",
    "body": "Can you describe what the use-case would be? How would you use the feature when run locally and how would you use it when run in CI?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721199246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721238637",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-721238637",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 721238637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTIzODYzNw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T16:33:28Z",
    "updated_at": "2020-11-03T16:33:28Z",
    "author_association": "MEMBER",
    "body": "You would use the same way both locally and on CI: `isoltest`. It runs each file for every evm version (adhering to the `evmVersion:` rules in the files). That's it. Could also extend to do it with optim vs no-optim, unless a setting is specified on cli.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721238637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721269107",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-721269107",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 721269107,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI2OTEwNw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T17:24:07Z",
    "updated_at": "2020-11-03T17:24:07Z",
    "author_association": "MEMBER",
    "body": "Maybe something like `--evm-version all`? It could also be the default.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721269107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721270506",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-721270506",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 721270506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI3MDUwNg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T17:26:49Z",
    "updated_at": "2020-11-03T17:26:49Z",
    "author_association": "MEMBER",
    "body": "I think the main difference compared to today would be that the different version/optim configurations are run in succession on each file as opposed to rerunning the entire tool with each config.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721270506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/989129128",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-989129128",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 989129128,
    "node_id": "IC_kwDOAm_5kc469Omo",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-08T19:28:00Z",
    "updated_at": "2021-12-08T19:47:49Z",
    "author_association": "MEMBER",
    "body": "I think we should implement this. Especially for the `--optimize` option. Currently you have to run isoltest twice (with and without the option) to fully update the gas costs. It would be much more convenient if you could do it in one run.\r\n\r\nIt might also let us parallelize soltest better. Currently we manually split it into runs with various options in `soltest_all.sh`. The split is not even and we also cannot easily be more granular than one full run. There was an idea to be able to tell it to split tests into N batches and tell it to run i-th batch (#12388). The split would be more uniform if we could have just one call with all option combinations and let it freely distribute the cases among batches.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/989129128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/989143590",
    "html_url": "https://github.com/ethereum/solidity/issues/10191#issuecomment-989143590",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10191",
    "id": 989143590,
    "node_id": "IC_kwDOAm_5kc469SIm",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-08T19:49:20Z",
    "updated_at": "2021-12-08T20:25:28Z",
    "author_association": "MEMBER",
    "body": "By the way, if we do this, we will actually need some way not to rerun specific tests on multiple EVM versions For example there's no point in re-running the `@nooptions` tests on every EVM.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/989143590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
