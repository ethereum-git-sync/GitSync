{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11184/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11184/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11184/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11184",
  "id": 842623773,
  "node_id": "MDU6SXNzdWU4NDI2MjM3NzM=",
  "number": 11184,
  "title": "[Docs] The ABI spec doesn't mention how tuples are encoded when computing a function's selector",
  "user": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 838064207,
      "node_id": "MDU6TGFiZWw4MzgwNjQyMDc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/annoys%20users%20:cry:",
      "name": "annoys users :cry:",
      "color": "ea2cab",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2021-03-27T23:34:34Z",
  "updated_at": "2021-05-31T19:17:27Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Hi,\r\n\r\nJust some quick feedback. I'm implementing an ABI encoder/decoder and I'm having a bit of trouble.\r\n\r\nThe canonical name is in general not very well defined. I'd expect a section explaining precisely what it is and how it is computed for each type. I guess you can grasp it from examples for anything except for tuples. I had to read an ABI encoder to understand what to do.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11184/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11184/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809448618",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-809448618",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 809448618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTQ0ODYxOA==",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T14:57:29Z",
    "updated_at": "2021-03-29T14:57:29Z",
    "author_association": "MEMBER",
    "body": "@cameel mentioned adding more documentation to ABI encoding sometime back. Perhaps there is another issue about it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809448618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809530812",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-809530812",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 809530812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTUzMDgxMg==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T16:38:06Z",
    "updated_at": "2021-03-29T16:38:34Z",
    "author_association": "MEMBER",
    "body": "Thanks for the reminder, I should finally create one :) But I think this one is a separate thing. \r\n\r\nThis issue is about a different part of the ABI spec - the one that describes how to compute the selector, not how to encode the parameters.\r\n\r\nThe part I thought needed rewriting was the dense [Formal Specification of the Encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#formal-specification-of-the-encoding). I think it really needs a diagram because the matter isn't really that complicated, it's just not visualized well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809530812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809554711",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-809554711",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 809554711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTU1NDcxMQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T17:14:16Z",
    "updated_at": "2021-03-29T17:14:16Z",
    "author_association": "MEMBER",
    "body": "Here's the issue for simplifying the encoding spec #11191.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/809554711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/848947786",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-848947786",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 848947786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODk0Nzc4Ng==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-26T17:00:06Z",
    "updated_at": "2021-05-26T17:00:06Z",
    "author_association": "MEMBER",
    "body": "One thing that I just ran into (https://github.com/ethereum/solidity/pull/11050#discussion_r639926610) that should also be mentioned in the docs too: parameters of an external function type are not a part of the signature. So all of these have the identical signature:\r\n\r\n```solidity\r\nfunction foo(function() external) public {}\r\nfunction foo(function(uint) external) public {}\r\nfunction foo(function(S memory) external) public {}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/848947786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851544865",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-851544865",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 851544865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MTU0NDg2NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-31T14:59:45Z",
    "updated_at": "2021-05-31T14:59:45Z",
    "author_association": "MEMBER",
    "body": "@alcuadrado are you saying it is not clear which string is hashed when computing the selector of a solidity function that takes a struct as argument?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851544865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851587898",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-851587898",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 851587898,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MTU4Nzg5OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-31T16:29:41Z",
    "updated_at": "2021-05-31T16:29:41Z",
    "author_association": "MEMBER",
    "body": "So as a summary: For the non-obvious Solidity types, we should mention how they map to the ABI types. Note that this is Solidity specific, so it might be outside of the linked page.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851587898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851643552",
    "html_url": "https://github.com/ethereum/solidity/issues/11184#issuecomment-851643552",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11184",
    "id": 851643552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MTY0MzU1Mg==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-31T19:17:26Z",
    "updated_at": "2021-05-31T19:17:26Z",
    "author_association": "MEMBER",
    "body": "> @alcuadrado are you saying it is not clear which string is hashed when computing the selector of a solidity function that takes a struct as argument?\r\n\r\nYes, I meant that it's not clear which string to hash. A solidity function that takes a struct is an example, but I meant this as a general ABI question.\r\n\r\n> So as a summary: For the non-obvious Solidity types, we should mention how they map to the ABI types. Note that this is Solidity specific, so it might be outside of the linked page.\r\n\r\nYep, agreed. How those map into abi types is Solidity specific and should be kept independent from the abi spec imo.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/851643552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
