{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11413",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11413/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11413/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11413/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11413",
  "id": 894940478,
  "node_id": "MDU6SXNzdWU4OTQ5NDA0Nzg=",
  "number": 11413,
  "title": "Better path-related error messages (path spec v3)",
  "user": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438155599,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjhTw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20impact",
      "name": "medium impact",
      "color": "314aff",
      "default": false,
      "description": "Default level of impact"
    },
    {
      "id": 4438490842,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3-2g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/should%20have",
      "name": "should have",
      "color": "ffbe6c",
      "default": false,
      "description": "We like the idea but itâ€™s not important enough to be a part of the roadmap."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-05-19T02:58:25Z",
  "updated_at": "2022-09-26T23:57:01Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Related to #11042.\r\nPart of a set of issues that replaces #11138.\r\n\r\n## Abstract\r\nProvide clearer error messages when the compiler fails to load a file. The current ones can be cryptic and hard to make sense of without knowing how the compiler internally handles paths and imports.\r\n\r\n## Motivation\r\nThe best example of a confusing error message is probably `Cannot import url (\"test.sol\"): File import callback not supported`. The message simply means that the compiler did not find the file in its virtual filesystem and that it could not invoke the file loader callback to look for it because one was not provided. To the user it suggests that there's a problem with the callback rather than with the file and also the user usually is not even aware what callback it's referring to. There are many instances of this problem in Truffle's and Hardhat's bug trackers: https://github.com/nomiclabs/hardhat/issues/916, https://github.com/nomiclabs/hardhat/issues/689, https://github.com/trufflesuite/truffle/issues/3579, https://github.com/trufflesuite/truffle/issues/593, https://github.com/trufflesuite/truffle/issues/402, https://github.com/ethereum/solc-js/issues/522\r\n\r\nAnother one is the error you get when the file is not in `--allowed-paths`: `Source \"test.sol\" not found: File outside of allowed directories.`. It suggests that the file does not exist which may or may not be true.\r\n\r\n## Specification\r\n- Reword the \"callback not supported\" message so that it's clear that the cause of the problem is a missing file. Only mention the missing callback as an extra detail.\r\n- When the path is outside of the allowed directories, say just that. Make it clear that the actual filesystem has not really been checked.\r\n- In general when a file is missing, make it clear where the compiler was looking for it (only in the VFS or also on disk; if on disk then under which paths).\r\n- When the file loader fails to find a file and the path it received looks like an URL (starts with a protocol name followed by `://`), say that the CLI interface does not support downloading files from the internet.\r\n\r\nThose are just the ones I found so far. There may be more cases that can be improved.\r\n\r\n## Backwards Compatibility\r\nFully backwards-compatible. Only wording of the error messages changes.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11413/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11413/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/849739830",
    "html_url": "https://github.com/ethereum/solidity/issues/11413#issuecomment-849739830",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11413",
    "id": 849739830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTczOTgzMA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-27T15:43:05Z",
    "updated_at": "2021-05-27T15:43:05Z",
    "author_association": "MEMBER",
    "body": "We decided to put off work on this for now. We want to deal with #11408, #11409 and #11410 first and go back to this once that's done and working.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/849739830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/849742767",
    "html_url": "https://github.com/ethereum/solidity/issues/11413#issuecomment-849742767",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11413",
    "id": 849742767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0OTc0Mjc2Nw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-27T15:47:02Z",
    "updated_at": "2021-05-27T15:47:02Z",
    "author_association": "MEMBER",
    "body": "Actually, there's nothing to discuss in this one - it's just a straightforward cleanup of error messages (@chriseth even said it looked good earlier on gitter) so I think I'll keep this one in the implementation backlog.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/849742767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
