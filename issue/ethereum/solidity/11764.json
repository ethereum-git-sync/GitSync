{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11764/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11764/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11764/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11764",
  "id": 964087038,
  "node_id": "MDU6SXNzdWU5NjQwODcwMzg=",
  "number": 11764,
  "title": "What is the naming convention in terms of leading/trailing underscore?",
  "user": {
    "login": "Ahmed-Ali",
    "id": 5157350,
    "node_id": "MDQ6VXNlcjUxNTczNTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5157350?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Ahmed-Ali",
    "html_url": "https://github.com/Ahmed-Ali",
    "followers_url": "https://api.github.com/users/Ahmed-Ali/followers",
    "following_url": "https://api.github.com/users/Ahmed-Ali/following{/other_user}",
    "gists_url": "https://api.github.com/users/Ahmed-Ali/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Ahmed-Ali/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Ahmed-Ali/subscriptions",
    "organizations_url": "https://api.github.com/users/Ahmed-Ali/orgs",
    "repos_url": "https://api.github.com/users/Ahmed-Ali/repos",
    "events_url": "https://api.github.com/users/Ahmed-Ali/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Ahmed-Ali/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 3840016178,
      "node_id": "LA_kwDOAm_5kc7k4f8y",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/style%20guide",
      "name": "style guide",
      "color": "0088bb",
      "default": false,
      "description": "Modification of the Solidity Style Guide"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-08-09T15:00:24Z",
  "updated_at": "2022-02-16T19:52:26Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Page\r\n\r\nhttps://docs.soliditylang.org/en/latest/solidity-by-example.html\r\n\r\n## Abstract\r\nI am a bit confused about solidity naming convention when it comes to leading/trailing underscores.\r\nWhere and how they should be used?\r\nI saw contract members with and without trailing underscore, parameters with and without trailing underscore, in other examples parameters with and without leading underscore.\r\n\r\nIs this a consistency issue, or there is a convention that I just don't know yet?\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11764/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11764/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895794014",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895794014",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895794014,
    "node_id": "IC_kwDOAm_5kc41ZLte",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T07:23:10Z",
    "updated_at": "2021-08-10T07:23:10Z",
    "author_association": "MEMBER",
    "body": "There is a style guide https://docs.soliditylang.org/en/latest/style-guide.html which doesn't seem to mention anything about leading underscores in the name.\r\n\r\nTo be fair, I think the leading underscore for function parameters comes from the style guide of the solidity compiler, written in c++. \r\n\r\n> I saw contract members with and without trailing underscore\r\n\r\nCan you point out such an example?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895794014/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895805111",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895805111",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895805111,
    "node_id": "IC_kwDOAm_5kc41ZOa3",
    "user": {
      "login": "Ahmed-Ali",
      "id": 5157350,
      "node_id": "MDQ6VXNlcjUxNTczNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5157350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ahmed-Ali",
      "html_url": "https://github.com/Ahmed-Ali",
      "followers_url": "https://api.github.com/users/Ahmed-Ali/followers",
      "following_url": "https://api.github.com/users/Ahmed-Ali/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ahmed-Ali/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ahmed-Ali/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ahmed-Ali/subscriptions",
      "organizations_url": "https://api.github.com/users/Ahmed-Ali/orgs",
      "repos_url": "https://api.github.com/users/Ahmed-Ali/repos",
      "events_url": "https://api.github.com/users/Ahmed-Ali/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ahmed-Ali/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T07:42:15Z",
    "updated_at": "2021-08-10T07:42:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Can you point out such an example?\r\n\r\nI am actually wrong. Seems like I mixed the constructor parameters (with leading underscore) and the member without trailing underscore.\r\n\r\nHowever, the parameters themselves does have two variations without underscores, with leading underscore. Here are few examples\r\n\r\nWithout underscore\r\n```\r\n/// Create a new ballot to choose one of `proposalNames`.\r\n    constructor(bytes32[] memory proposalNames) {\r\n        chairperson = msg.sender;\r\n        voters[chairperson].weight = 1;\r\n\r\n        // For each of the provided proposal names,\r\n        // create a new proposal object and add it\r\n        // to the end of the array.\r\n        for (uint i = 0; i < proposalNames.length; i++) {\r\n            // `Proposal({...})` creates a temporary\r\n            // Proposal object and `proposals.push(...)`\r\n            // appends it to the end of `proposals`.\r\n            proposals.push(Proposal({\r\n                name: proposalNames[i],\r\n                voteCount: 0\r\n            }));\r\n        }\r\n    }\r\n\r\n    // Give `voter` the right to vote on this ballot.\r\n    // May only be called by `chairperson`.\r\n    function giveRightToVote(address voter) public {\r\n        // If the first argument of `require` evaluates\r\n        // to `false`, execution terminates and all\r\n        // changes to the state and to Ether balances\r\n        // are reverted.\r\n        // This used to consume all gas in old EVM versions, but\r\n        // not anymore.\r\n        // It is often a good idea to use `require` to check if\r\n        // functions are called correctly.\r\n        // As a second argument, you can also provide an\r\n        // explanation about what went wrong.\r\n        require(\r\n            msg.sender == chairperson,\r\n            \"Only chairperson can give right to vote.\"\r\n        );\r\n        require(\r\n            !voters[voter].voted,\r\n            \"The voter already voted.\"\r\n        );\r\n        require(voters[voter].weight == 0);\r\n        voters[voter].weight = 1;\r\n    }\r\n```\r\n\r\nWith leading underscore\r\n```\r\n function reveal(\r\n        uint[] memory _values,\r\n        bool[] memory _fake,\r\n        bytes32[] memory _secret\r\n    )\r\n        public\r\n        onlyAfter(biddingEnd)\r\n        onlyBefore(revealEnd)\r\n    {\r\n        uint length = bids[msg.sender].length;\r\n        require(_values.length == length);\r\n        require(_fake.length == length);\r\n        require(_secret.length == length);\r\n\r\n        uint refund;\r\n        for (uint i = 0; i < length; i++) {\r\n            Bid storage bidToCheck = bids[msg.sender][i];\r\n            (uint value, bool fake, bytes32 secret) =\r\n                    (_values[i], _fake[i], _secret[i]);\r\n            if (bidToCheck.blindedBid != keccak256(abi.encodePacked(value, fake, secret))) {\r\n                // Bid was not actually revealed.\r\n                // Do not refund deposit.\r\n                continue;\r\n            }\r\n            refund += bidToCheck.deposit;\r\n            if (!fake && bidToCheck.deposit >= value) {\r\n                if (placeBid(msg.sender, value))\r\n                    refund -= value;\r\n            }\r\n            // Make it impossible for the sender to re-claim\r\n            // the same deposit.\r\n            bidToCheck.blindedBid = bytes32(0);\r\n        }\r\n        payable(msg.sender).transfer(refund);\r\n    }\r\n```\r\n\r\nSimilarly for local scope variables. Sometime without underscore and sometime with trailing underscore\r\n\r\nHere is a snippet with trailing underscore \r\n```\r\nsender.voted = true;\r\n        sender.delegate = to;\r\n        Voter storage delegate_ = voters[to];\r\n        if (delegate_.voted) {\r\n            // If the delegate already voted,\r\n            // directly add to the number of votes\r\n            proposals[delegate_.vote].voteCount += sender.weight;\r\n        } else {\r\n            // If the delegate did not vote yet,\r\n            // add to her weight.\r\n            delegate_.weight += sender.weight;\r\n        }\r\n```\r\n\r\nAnd here is a snippet where there is no trailing underscore\r\n```\r\nfunction reveal(\r\n        uint[] memory _values,\r\n        bool[] memory _fake,\r\n        bytes32[] memory _secret\r\n    )\r\n        public\r\n        onlyAfter(biddingEnd)\r\n        onlyBefore(revealEnd)\r\n    {\r\n        uint length = bids[msg.sender].length;\r\n        require(_values.length == length);\r\n        require(_fake.length == length);\r\n        require(_secret.length == length);\r\n\r\n        uint refund;\r\n        for (uint i = 0; i < length; i++) {\r\n            Bid storage bidToCheck = bids[msg.sender][i];\r\n            (uint value, bool fake, bytes32 secret) =\r\n                    (_values[i], _fake[i], _secret[i]);\r\n            if (bidToCheck.blindedBid != keccak256(abi.encodePacked(value, fake, secret))) {\r\n                // Bid was not actually revealed.\r\n                // Do not refund deposit.\r\n                continue;\r\n            }\r\n            refund += bidToCheck.deposit;\r\n            if (!fake && bidToCheck.deposit >= value) {\r\n                if (placeBid(msg.sender, value))\r\n                    refund -= value;\r\n            }\r\n            // Make it impossible for the sender to re-claim\r\n            // the same deposit.\r\n            bidToCheck.blindedBid = bytes32(0);\r\n        }\r\n        payable(msg.sender).transfer(refund);\r\n    }\r\n```\r\n\r\nIt seems to just make it difficult to stay consistent with all these variations.\r\n\r\nSo I guess the important question here is: are these the actual convention (I still need to go thoroughly through the style guide to see if it answers it) or this is just inconsistency in the referenced documentation?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895805111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895813808",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895813808",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895813808,
    "node_id": "IC_kwDOAm_5kc41ZQiw",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T07:55:57Z",
    "updated_at": "2021-08-10T07:55:57Z",
    "author_association": "MEMBER",
    "body": "For `delegate_`, the trailing underscore is simply there to avaoid a shadowing warning (the name delegate is already taken in that context).\r\n\r\nFor\r\n```solidity\r\nfunction reveal(\r\n        uint[] memory _values,\r\n        bool[] memory _fake,\r\n        bytes32[] memory _secret\r\n    )\r\n```\r\n\r\nthere is no problem removing `_`. Maybe we could even update that contract? Would you like to submit a PR for that?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895813808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895815790",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895815790",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895815790,
    "node_id": "IC_kwDOAm_5kc41ZRBu",
    "user": {
      "login": "Ahmed-Ali",
      "id": 5157350,
      "node_id": "MDQ6VXNlcjUxNTczNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5157350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ahmed-Ali",
      "html_url": "https://github.com/Ahmed-Ali",
      "followers_url": "https://api.github.com/users/Ahmed-Ali/followers",
      "following_url": "https://api.github.com/users/Ahmed-Ali/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ahmed-Ali/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ahmed-Ali/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ahmed-Ali/subscriptions",
      "organizations_url": "https://api.github.com/users/Ahmed-Ali/orgs",
      "repos_url": "https://api.github.com/users/Ahmed-Ali/repos",
      "events_url": "https://api.github.com/users/Ahmed-Ali/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ahmed-Ali/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T07:59:04Z",
    "updated_at": "2021-08-10T07:59:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "> there is no problem removing _. Maybe we could even update that contract? Would you like to submit a PR for that?\r\n\r\nSure, happy to do so. Just to make sure I understand correctly so I can do the right change.\r\nThe underscore in the parameters or local variables isnâ€™t needed unless there is a reason (like shadowing a contract member), did I get that right?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895815790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895822032",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895822032",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895822032,
    "node_id": "IC_kwDOAm_5kc41ZSjQ",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T08:08:04Z",
    "updated_at": "2021-08-10T08:08:04Z",
    "author_association": "MEMBER",
    "body": "To summarize, one could say that the official style guide is https://docs.soliditylang.org/en/latest/style-guide.html. It doesn't talk about leading underscores. (It's still worthwhile to go through it to check if I missed something.)\r\n\r\nI have seen some contracts naming internal functions starting with underscore. Perhaps to improve visibility. \r\n\r\nI think it would be useful to change `contract BlindAuction` https://docs.soliditylang.org/en/latest/style-guide.html, removing the argument names that start with `_`. Simply to make the contract more consistent with the rest of the examples. If you would like to fix this, then https://github.com/ethereum/solidity/blob/develop/docs/solidity-by-example.rst is the file that needs updating (I think the github preview is broken for that rst file)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895822032/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895822765",
    "html_url": "https://github.com/ethereum/solidity/issues/11764#issuecomment-895822765",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11764",
    "id": 895822765,
    "node_id": "IC_kwDOAm_5kc41ZSut",
    "user": {
      "login": "Ahmed-Ali",
      "id": 5157350,
      "node_id": "MDQ6VXNlcjUxNTczNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5157350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ahmed-Ali",
      "html_url": "https://github.com/Ahmed-Ali",
      "followers_url": "https://api.github.com/users/Ahmed-Ali/followers",
      "following_url": "https://api.github.com/users/Ahmed-Ali/following{/other_user}",
      "gists_url": "https://api.github.com/users/Ahmed-Ali/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Ahmed-Ali/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Ahmed-Ali/subscriptions",
      "organizations_url": "https://api.github.com/users/Ahmed-Ali/orgs",
      "repos_url": "https://api.github.com/users/Ahmed-Ali/repos",
      "events_url": "https://api.github.com/users/Ahmed-Ali/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Ahmed-Ali/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-10T08:09:09Z",
    "updated_at": "2021-08-10T08:09:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Awesome, thanks for the pointers. Will go through the style guide and then do the suggested changes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/895822765/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
