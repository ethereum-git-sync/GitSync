{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11889/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11889/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11889/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11889",
  "id": 987605750,
  "node_id": "MDU6SXNzdWU5ODc2MDU3NTA=",
  "number": 11889,
  "title": "Should private functions really clash ?",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074438,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0Mzg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true,
      "description": null
    },
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 916255102,
      "node_id": "MDU6TGFiZWw5MTYyNTUxMDI=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bounty%20worthy%20:moneybag:",
      "name": "bounty worthy :moneybag:",
      "color": "f9d0c4",
      "default": false,
      "description": ""
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "5d71ff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438492402,
      "node_id": "LA_kwDOAm_5kc8AAAABCI4E8g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/nice%20to%20have",
      "name": "nice to have",
      "color": "ffdeb3",
      "default": false,
      "description": "We don’t see a good reason not to have it but won’t go out of our way to implement it."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2021-09-03T09:53:39Z",
  "updated_at": "2022-09-26T20:29:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Let consider the following code:\r\n\r\n```\r\ncontract A {\r\n    function __myPrivateFunction() private {\r\n        // Does something usefull\r\n    }\r\n    \r\n    function callA() public {\r\n        __myPrivateFunction();\r\n    }\r\n}\r\n\r\ncontract B {\r\n    function __myPrivateFunction() private {\r\n        // Does something usefull\r\n    }\r\n    \r\n    function callB() public {\r\n        __myPrivateFunction();\r\n    }\r\n}\r\n\r\ncontract AB is A, B {}\r\n```\r\n\r\n## What I am expecting\r\n\r\nimplementation of `__myPrivateFunction` are private, and they only make sense in the context of the contract that they are part of (`A` and `B`). They are not accessible from `AB`, so it is not like if a call from a function within `AB` wouldn't be resolvable.\r\n\r\nIMO, this should compile, possibly with a warning, but not with an error.\r\n\r\n## What happens\r\n\r\nI get an error:\r\n\r\n```TypeError: Derived contract must override function \"__myPrivateFunction\". Two or more base classes define function with same name and parameter types.```\r\n\r\n## Question/Request\r\n\r\nIs that behaviour wanted? needed? Whould it be possible to accept this kind of ghost-conflicts?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11889/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11889/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913654023",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-913654023",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 913654023,
    "node_id": "IC_kwDOAm_5kc42dUEH",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T13:31:35Z",
    "updated_at": "2021-09-06T13:31:35Z",
    "author_association": "MEMBER",
    "body": "The error message is of course bad because you cannot override the functions.\r\n\r\nI'm fine with allowing it, but then without a warning.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913654023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913662094",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-913662094",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 913662094,
    "node_id": "IC_kwDOAm_5kc42dWCO",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T13:44:27Z",
    "updated_at": "2021-09-06T13:44:27Z",
    "author_association": "MEMBER",
    "body": "I also think that such functions should be allowed and without a warning. If `private` functions cannot even be referenced from inherited contracts, they should not clash.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913662094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913675374",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-913675374",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 913675374,
    "node_id": "IC_kwDOAm_5kc42dZRu",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T14:05:03Z",
    "updated_at": "2021-09-06T14:05:03Z",
    "author_association": "MEMBER",
    "body": "We should be careful if non-private can be changed to private in inheritance.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913675374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913685586",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-913685586",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 913685586,
    "node_id": "IC_kwDOAm_5kc42dbxS",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T14:18:42Z",
    "updated_at": "2021-09-06T14:18:42Z",
    "author_association": "MEMBER",
    "body": "Looks like it can't:\r\n```solidity\r\ncontract C {\r\n    function f() internal virtual {}\r\n}\r\n\r\ncontract D is C {\r\n    function f() private override {}\r\n}\r\n```\r\n```\r\nError: Overriding function visibility differs.\r\n --> test.sol:6:5:\r\n  |\r\n6 |     function f() private override {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nNote: Overridden function is here:\r\n --> test.sol:2:5:\r\n  |\r\n2 |     function f() internal virtual {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913685586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913688735",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-913688735",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 913688735,
    "node_id": "IC_kwDOAm_5kc42dcif",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-06T14:23:25Z",
    "updated_at": "2021-09-06T14:23:25Z",
    "author_association": "MEMBER",
    "body": "Also:\r\n```solidity\r\ncontract C {\r\n    function x() external virtual returns (uint) {}\r\n    function y() public virtual returns (uint) {}\r\n    function z() internal virtual returns (uint) {}\r\n}\r\n\r\ncontract D is C {\r\n    uint private override x;\r\n    uint private override y;\r\n    uint private override z;\r\n}\r\n```\r\n```\r\nError: Identifier already declared.\r\n --> test.sol:9:5:\r\n  |\r\n9 |     uint private override y;\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^\r\nNote: The previous declaration is here:\r\n --> test.sol:3:5:\r\n  |\r\n3 |     function y() public virtual returns (uint) {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nError: Identifier already declared.\r\n  --> test.sol:10:5:\r\n   |\r\n10 |     uint private override z;\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^\r\nNote: The previous declaration is here:\r\n --> test.sol:4:5:\r\n  |\r\n4 |     function z() internal virtual returns (uint) {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nError: Override can only be used with public state variables.\r\n --> test.sol:8:5:\r\n  |\r\n8 |     uint private override x;\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nError: Override can only be used with public state variables.\r\n --> test.sol:9:5:\r\n  |\r\n9 |     uint private override y;\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^\r\n\r\nError: Override can only be used with public state variables.\r\n  --> test.sol:10:5:\r\n   |\r\n10 |     uint private override z;\r\n   |     ^^^^^^^^^^^^^^^^^^^^^^^\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/913688735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915181132",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-915181132",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 915181132,
    "node_id": "IC_kwDOAm_5kc42jI5M",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-08T12:14:13Z",
    "updated_at": "2021-09-08T12:14:13Z",
    "author_association": "MEMBER",
    "body": "Shadowing makes no sense considering inaccessible functions (i.e. private), so in essence allowing this makes sense.\r\n\r\nHowever it definitely opens up the possibility for crafting/hiding confusing code, given contracts can have many internal and private functions, combining that with inheritance sometimes it is really hard to decipher what is the actual code used for the contract. The virtual/override specifiers help with that.\r\n\r\nWhile I do not think it is a good idea to try \"saving people from mistakes\" with weird rules like this, but I would put the question on the table: should this change be made in a breaking release, just in order to trigger a more thorough review from people using the language? Users tend to review their contracts more carefully when they bump a breaking release.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915181132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915205693",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-915205693",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 915205693,
    "node_id": "IC_kwDOAm_5kc42jO49",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-08T12:43:44Z",
    "updated_at": "2021-09-08T12:43:44Z",
    "author_association": "MEMBER",
    "body": "@Amxx can you provide more cases that would benefit from this feature? I actually think @axic 's point is very valid here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915205693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915255754",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-915255754",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 915255754,
    "node_id": "IC_kwDOAm_5kc42jbHK",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-08T13:48:35Z",
    "updated_at": "2021-09-08T13:48:35Z",
    "author_association": "NONE",
    "body": "My use-case is a bit complex, and one might argue that it comes from bad design on our end.\r\n\r\n---\r\n\r\nOpenZeppelin provides a lot of functionalities in its different contracts and library. We also offer a framework for upgradeable contracts. This framework includes solidity code, and javascript tooling to help use deploy and update their contracts.\r\n\r\nThis tooling, in particular, checks dangerous behaviour, such a selfdestruct (see parity bug) and delegate calls (which can lead to self destruct). We want to protect users from using these in upgradeable contracts.\r\n\r\nWe have an `Address` library, which includes functions such as `isContract`, `sendValue`, `functionStaticCall` and `functionDelegateCall`. While most are safe, this last one can be dangerous. In our plugin we don't have the ability to filter that effectively, and whenever a user import the library, we do check the entire library for potential vulnerabilities.\r\n\r\nTo limit false positives, we decided to:\r\n- Remove the `functionDelegateCall` for the Address library (in the upgradeable repo)\r\n- In the very rare places where we internally use it (in a safe way), inline a private copy with natspec comment to locally disable our security check.\r\n\r\nThe result is that we have this private function in some of our upgradeable contracts:\r\n- https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable/blob/master/contracts/utils/MulticallUpgradeable.sol#L37-L43\r\n- https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable/blob/master/contracts/proxy/ERC1967/ERC1967UpgradeUpgradeable.sol#L207-L213\r\n\r\nNow if I want to build a UUPSUpgradeable contract (inherits from ERC1967UpgradeUpgradeable) with  the multicall feature ... I get my private function defined twice.\r\n\r\nI'm sure we can rework our transpilling workflow, and the way our checks are performed ... but you asked me for my usecase so here it is. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/915255754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/921001699",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-921001699",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 921001699,
    "node_id": "IC_kwDOAm_5kc425V7j",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T15:24:47Z",
    "updated_at": "2021-09-16T15:24:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think the concern that @axic shared is a significant one. Private functions are the easiest to trace back to their definition because it just requires a search in the contract where it is used.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/921001699/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028191668",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1028191668",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1028191668,
    "node_id": "IC_kwDOAm_5kc49SPW0",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T17:44:35Z",
    "updated_at": "2022-02-02T17:44:35Z",
    "author_association": "NONE",
    "body": "Had the same issue in the mid 2020: https://github.com/ethereum/solidity/issues/9610",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028191668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028685692",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1028685692",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1028685692,
    "node_id": "IC_kwDOAm_5kc49UH98",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T07:36:39Z",
    "updated_at": "2022-02-03T07:36:39Z",
    "author_association": "NONE",
    "body": "Now `private` works as hypothetical `final`/`nonoverride`, but I wish `private` methods produce no side effects outside of the contracts/libraries.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028685692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034082362",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1034082362",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1034082362,
    "node_id": "IC_kwDOAm_5kc49otg6",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-09T18:46:16Z",
    "updated_at": "2022-02-09T18:46:16Z",
    "author_association": "MEMBER",
    "body": "We discussed this today on the call. Overall there were some concerns about safety of allowing this but no one was strongly against so we're fine with changing the behavior. This is however very low priority right now because we have other important tasks on the roadmap. It may take some time before we get to implementing this ourselves, but we'd accept a PR if someone badly wanted to have it right now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034082362/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034857704",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1034857704",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1034857704,
    "node_id": "IC_kwDOAm_5kc49rqzo",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-10T12:20:26Z",
    "updated_at": "2022-02-10T12:26:12Z",
    "author_association": "NONE",
    "body": "We can use GitCoin to boost this change :) Moreover, this could attract more contributors to the repo.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034857704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034955996",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1034955996",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1034955996,
    "node_id": "IC_kwDOAm_5kc49sCzc",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-10T14:00:44Z",
    "updated_at": "2022-02-10T14:00:44Z",
    "author_association": "MEMBER",
    "body": "Sure, why not.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1034955996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1146677604",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1146677604",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1146677604,
    "node_id": "IC_kwDOAm_5kc5EWOlk",
    "user": {
      "login": "Rushanksavant",
      "id": 50732558,
      "node_id": "MDQ6VXNlcjUwNzMyNTU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/50732558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Rushanksavant",
      "html_url": "https://github.com/Rushanksavant",
      "followers_url": "https://api.github.com/users/Rushanksavant/followers",
      "following_url": "https://api.github.com/users/Rushanksavant/following{/other_user}",
      "gists_url": "https://api.github.com/users/Rushanksavant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Rushanksavant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Rushanksavant/subscriptions",
      "organizations_url": "https://api.github.com/users/Rushanksavant/orgs",
      "repos_url": "https://api.github.com/users/Rushanksavant/repos",
      "events_url": "https://api.github.com/users/Rushanksavant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Rushanksavant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-04T20:03:04Z",
    "updated_at": "2022-06-04T20:03:04Z",
    "author_association": "NONE",
    "body": "Hello @Amxx, I thought of an approach but not sure if this solves the exact problem. Please have a look: \r\n```\r\ncontract A {\r\n    uint x; \r\n    function __myPrivateFunction(uint _num) private { // some state change\r\n        x=_num;\r\n    }\r\n    \r\n    function callA() public {\r\n        __myPrivateFunction(1);\r\n    }\r\n}\r\n\r\ncontract B {\r\n    uint x;\r\n    function __myPrivateFunction(uint _num) private { // some state change\r\n        x=_num;\r\n    }\r\n    \r\n    function callB() public {\r\n        __myPrivateFunction(2);\r\n    }\r\n}\r\n```\r\n\r\nNow since we are not able to inherit A and B together, we creat contracts that delegate calls to A and B:\r\n```\r\ncontract A_caller{\r\n    uint public x_A;\r\n    A contractA;\r\n\r\n    function set_contractA(address _A) external {\r\n        contractA = A(_A);\r\n    }\r\n\r\n    function call_contractA() public {\r\n        (bool success,) = address(contractA).delegatecall(abi.encodeWithSignature(\"callA()\"));\r\n        require(success);\r\n    }\r\n}\r\n\r\ncontract B_caller{\r\n    uint public x_B;\r\n    B contractB;\r\n\r\n    function set_contractB(address _B) external {\r\n        contractB = B(_B);\r\n    }\r\n\r\n    function call_contractB() public {\r\n        (bool success,) = address(contractB).delegatecall(abi.encodeWithSignature(\"callB()\"));\r\n        require(success);\r\n    }\r\n}\r\n```\r\n\r\nAnd inherit these contracts together\r\n```\r\ncontract AB is A_caller, B_caller{  }\r\n```\r\nThis will allow us to access all the functions of A and B using the state of A_caller and B_caller.\r\n\r\nBest regards!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1146677604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1146680662",
    "html_url": "https://github.com/ethereum/solidity/issues/11889#issuecomment-1146680662",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11889",
    "id": 1146680662,
    "node_id": "IC_kwDOAm_5kc5EWPVW",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-04T20:26:20Z",
    "updated_at": "2022-06-06T08:47:02Z",
    "author_association": "NONE",
    "body": "In that you have to worry about storage compatibility of A and B, you can't call internal functions, you possibly have to do many checks...\r\n\r\nBasically, you are arguing that doing something like a diamond proxy is a solution to the private function conflict.\r\n\r\nWhile it is technically true, I really don't think it's a reasonable/acceptable solution.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1146680662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
