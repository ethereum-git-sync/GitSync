{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12104",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12104/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12104/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12104/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12104",
  "id": 1019899221,
  "node_id": "I_kwDOAm_5kc48ym1V",
  "number": 12104,
  "title": "No way to reference struct members from assembly",
  "user": {
    "login": "drortirosh",
    "id": 40341007,
    "node_id": "MDQ6VXNlcjQwMzQxMDA3",
    "avatar_url": "https://avatars.githubusercontent.com/u/40341007?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/drortirosh",
    "html_url": "https://github.com/drortirosh",
    "followers_url": "https://api.github.com/users/drortirosh/followers",
    "following_url": "https://api.github.com/users/drortirosh/following{/other_user}",
    "gists_url": "https://api.github.com/users/drortirosh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/drortirosh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/drortirosh/subscriptions",
    "organizations_url": "https://api.github.com/users/drortirosh/orgs",
    "repos_url": "https://api.github.com/users/drortirosh/repos",
    "events_url": "https://api.github.com/users/drortirosh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/drortirosh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-10-07T10:51:11Z",
  "updated_at": "2022-08-17T13:48:54Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "If I have a struct variable, assembly code can only find the offset of the struct itself, and not of its members.\r\n\r\n(This issue was found when trying to workaround the [excessive gas usage to access calldata](https://github.com/ethereum/solidity/issues/12103))\r\n\r\ne.g.\r\nthe code below is doable, but error-prone.\r\n```solidity\r\nstruct Struct {\r\n   address a;\r\n   uint xyz;\r\n}\r\n\r\nStruct calldata s;\r\nassembly {\r\n  let sender := calldataload(s) //first item\r\n  let xyz := calldataload(add(s,32))\r\n}\r\n\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12104/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12104/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937734851",
    "html_url": "https://github.com/ethereum/solidity/issues/12104#issuecomment-937734851",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12104",
    "id": 937734851,
    "node_id": "IC_kwDOAm_5kc435LLD",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T12:15:05Z",
    "updated_at": "2021-10-07T12:15:05Z",
    "author_association": "MEMBER",
    "body": "Do you have an idea about how to solve it? Note that if we do that, we should provide a similar mechanism for memory and storage.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937734851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937793729",
    "html_url": "https://github.com/ethereum/solidity/issues/12104#issuecomment-937793729",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12104",
    "id": 937793729,
    "node_id": "IC_kwDOAm_5kc435ZjB",
    "user": {
      "login": "drortirosh",
      "id": 40341007,
      "node_id": "MDQ6VXNlcjQwMzQxMDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/40341007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/drortirosh",
      "html_url": "https://github.com/drortirosh",
      "followers_url": "https://api.github.com/users/drortirosh/followers",
      "following_url": "https://api.github.com/users/drortirosh/following{/other_user}",
      "gists_url": "https://api.github.com/users/drortirosh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/drortirosh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/drortirosh/subscriptions",
      "organizations_url": "https://api.github.com/users/drortirosh/orgs",
      "repos_url": "https://api.github.com/users/drortirosh/repos",
      "events_url": "https://api.github.com/users/drortirosh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/drortirosh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T13:28:49Z",
    "updated_at": "2021-10-07T13:28:49Z",
    "author_association": "NONE",
    "body": "you do have `name.offset`. need something like `name.field.offset`. its merely a naming issue...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937793729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/940364691",
    "html_url": "https://github.com/ethereum/solidity/issues/12104#issuecomment-940364691",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12104",
    "id": 940364691,
    "node_id": "IC_kwDOAm_5kc44DNOT",
    "user": {
      "login": "haltman-at",
      "id": 35589221,
      "node_id": "MDQ6VXNlcjM1NTg5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35589221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haltman-at",
      "html_url": "https://github.com/haltman-at",
      "followers_url": "https://api.github.com/users/haltman-at/followers",
      "following_url": "https://api.github.com/users/haltman-at/following{/other_user}",
      "gists_url": "https://api.github.com/users/haltman-at/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haltman-at/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haltman-at/subscriptions",
      "organizations_url": "https://api.github.com/users/haltman-at/orgs",
      "repos_url": "https://api.github.com/users/haltman-at/repos",
      "events_url": "https://api.github.com/users/haltman-at/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haltman-at/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-11T18:59:42Z",
    "updated_at": "2021-10-11T18:59:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thought: If you're going to do this, then in addition to providing the *actual* offsets (or for storage, offsets and slots), it might make sense to also offer the *relative* offsets (or for storage, relative slots), which could be accessible via the type itself.\r\n\r\n(Or perhaps that should be \"instead\"?  In the context of state variables, it seems to me that both make sense; but in the calldata context, it might make more sense to just provide the relative information, as calldata variables actually live on the stack, after all, and therefore can't have precomputed actual offsets like state variables can.)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/940364691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
