{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12554/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12554/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12554/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12554",
  "id": 1107089607,
  "node_id": "I_kwDOAm_5kc5B_NjH",
  "number": 12554,
  "title": "Don't require `override(A, B)` when inherited contracts already inherit from each other",
  "user": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438155599,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjhTw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20impact",
      "name": "medium impact",
      "color": "314aff",
      "default": false,
      "description": "Default level of impact"
    },
    {
      "id": 4438488423,
      "node_id": "LA_kwDOAm_5kc8AAAABCI31Zw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/must%20have",
      "name": "must have",
      "color": "ffa12a",
      "default": false,
      "description": "Something we consider an essential part of Solidity 1.0."
    },
    {
      "id": 4525128519,
      "node_id": "LA_kwDOAm_5kc8AAAABDbf7Rw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/needs%20design",
      "name": "needs design",
      "color": "18F737",
      "default": false,
      "description": "The proposal is too vague to be implemented right away"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-01-18T16:08:54Z",
  "updated_at": "2022-09-14T16:20:13Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\nLet's consider a situation where we have a contract `C` that inherits from `A` and `B` where `B` already inherits from `A`. `A` provides a function that `B` overrides:\r\n\r\n```solidity\r\ncontract A {\r\n    function foo() public virtual {}\r\n}\r\ncontract B is A {\r\n    function foo() public virtual override {}\r\n}\r\ncontract C is A, B {}\r\n```\r\nCurrently the compiler reports an error if `C` does not define `function foo() public virtual override(A, B)`:\r\n```\r\nError: Derived contract must override function \"foo\". Two or more base classes define function with same name and parameter types.\r\n --> test.sol:7:1:\r\n  |\r\n7 | contract C is A, B {}\r\n  | ^^^^^^^^^^^^^^^^^^^^^\r\nNote: Definition in \"A\":\r\n --> test.sol:2:5:\r\n  |\r\n2 |     function foo() public virtual {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nNote: Definition in \"B\":\r\n --> test.sol:5:5:\r\n  |\r\n5 |     function foo() public virtual override {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\nTechnically, the compiler is right because both `A` and `B` provide conflicting definitions for `foo()` (the original one and an overridden one). In practice though, due to how multiple inheritance works in Solidity, the user will expect the explicitly inherited `A` and the one inside `B` to be the same thing so it would make sense to spare the user the error and just choose `B.foo()` automatically.\r\n\r\n## Context\r\nThis originally came up in this thread on OZ forum: [// The following functions are overrides required by Solidity](https://forum.openzeppelin.com/t/the-following-functions-are-overrides-required-by-solidity).\r\n\r\nWhile the case I'm showing above may look like an obscure corner case, such code is actually something users encounter often because [OpenZeppelin's Contract Wizard](https://docs.openzeppelin.com/contracts/4.x/wizard) generates code where contracts inherit from other contracts that are already inherited by one of base contracts. I have also often seen this pattern in real-life contracts - users often inherit `ERC20` explicitly even if one of the other contracts they inherit already does.\r\n\r\nHere's an example you get from the wizard when you just select the `Votes` checkbox:\r\n```solidity\r\n// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.2;\r\n\r\nimport \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\r\nimport \"@openzeppelin/contracts/token/ERC20/extensions/draft-ERC20Permit.sol\";\r\nimport \"@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol\";\r\n\r\ncontract MyToken is ERC20, ERC20Permit, ERC20Votes {\r\n    constructor() ERC20(\"MyToken\", \"MTK\") ERC20Permit(\"MyToken\") {}\r\n\r\n    // The following functions are overrides required by Solidity.\r\n\r\n    function _afterTokenTransfer(address from, address to, uint256 amount)\r\n        internal\r\n        override(ERC20, ERC20Votes)\r\n    {\r\n        super._afterTokenTransfer(from, to, amount);\r\n    }\r\n\r\n    function _mint(address to, uint256 amount)\r\n        internal\r\n        override(ERC20, ERC20Votes)\r\n    {\r\n        super._mint(to, amount);\r\n    }\r\n\r\n    function _burn(address account, uint256 amount)\r\n        internal\r\n        override(ERC20, ERC20Votes)\r\n    {\r\n        super._burn(account, amount);\r\n    }\r\n}\r\n```\r\n\r\nThe only reason for including the overridden functions is the problem described in this issue. Without it the contract would have been as short as\r\n```solidity\r\ncontract MyToken is ERC20, ERC20Permit, ERC20Votes {\r\n    constructor() ERC20(\"MyToken\", \"MTK\") ERC20Permit(\"MyToken\") {}\r\n}\r\n```\r\n\r\nThe same effect could be achieved by removing `ERC20` and `ERC20Permit` from the inheritance list but, like I already mentioned, that's not something people do in practice.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12554/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12554/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1015586366",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1015586366",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1015586366,
    "node_id": "IC_kwDOAm_5kc48iJ4-",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-18T16:31:54Z",
    "updated_at": "2022-01-18T16:31:54Z",
    "author_association": "MEMBER",
    "body": "After discussing this with @ekpyron, we think that instead of relaxing the check it might be better to just discourage this inheritance pattern. After all, the fact that it may not be entirely clear to users that despite `B` inheriting from `A` there still exist two different versions of `foo()` in the hierarchy is a good reason to clarify the behavior with an explicit override.\r\n\r\nInstead we could issue an `INFO` message saying that this kind of inheritance is entirely superfluous. I.e.\r\n- if you have something like `A is X`, `B is X` and `C is A, B` then virtual inheritance is justified and can't be avoided without redesigning the contract (no message).\r\n- In `B is A`, `C is A, B` it can be avoided easily by having `C` not inherit from `A` (we should inform about it).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1015586366/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1027912179",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1027912179",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1027912179,
    "node_id": "IC_kwDOAm_5kc49RLHz",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T12:53:42Z",
    "updated_at": "2022-02-02T12:53:42Z",
    "author_association": "MEMBER",
    "body": "Sounds good to warn about the weird pattern!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1027912179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028026825",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1028026825",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1028026825,
    "node_id": "IC_kwDOAm_5kc49RnHJ",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T14:59:40Z",
    "updated_at": "2022-02-02T14:59:40Z",
    "author_association": "MEMBER",
    "body": "We actually use that pattern ourselves in the inheritance documentation: https://docs.soliditylang.org/en/v0.8.11/contracts.html#inheritance - we should probably change that...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028026825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028314777",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1028314777",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1028314777,
    "node_id": "IC_kwDOAm_5kc49StaZ",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T20:08:56Z",
    "updated_at": "2022-02-02T20:08:56Z",
    "author_association": "MEMBER",
    "body": "Yeah, adjusting the docs should be relatively easy though given that the pattern is really superfluous.\r\n\r\nI'm adding this to implementation backlog in that case.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028314777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028341000",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1028341000",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1028341000,
    "node_id": "IC_kwDOAm_5kc49Sz0I",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T20:43:26Z",
    "updated_at": "2022-02-02T20:43:26Z",
    "author_association": "MEMBER",
    "body": "The problem is that if we remove the superfluous bases in the docs example, then it's no longer an example that actually shows of ``override(...)`` :-). So we'll need another example in which that's *actually* required...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028341000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028376256",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1028376256",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1028376256,
    "node_id": "IC_kwDOAm_5kc49S8bA",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-02T21:30:50Z",
    "updated_at": "2022-02-02T21:30:50Z",
    "author_association": "MEMBER",
    "body": "We can introduce some additional contract so that `PriceFeed.destroy()` still needs `override(...)`. For example `contract Pausable is Destructible` that overrides both `get()` and `destroy()` so that they revert if you try to use them when it's paused.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1028376256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1247007546",
    "html_url": "https://github.com/ethereum/solidity/issues/12554#issuecomment-1247007546",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12554",
    "id": 1247007546,
    "node_id": "IC_kwDOAm_5kc5KU9M6",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-14T16:20:13Z",
    "updated_at": "2022-09-14T16:20:13Z",
    "author_association": "MEMBER",
    "body": "Related to catch-all issue for inheritance overhaul: #12665",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1247007546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
