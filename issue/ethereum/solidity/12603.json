{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12603/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12603/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12603/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12603",
  "id": 1119572640,
  "node_id": "I_kwDOAm_5kc5Cu1Kg",
  "number": 12603,
  "title": "Support remappings.txt in LSP",
  "user": {
    "login": "christianparpart",
    "id": 56763,
    "node_id": "MDQ6VXNlcjU2NzYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/christianparpart",
    "html_url": "https://github.com/christianparpart",
    "followers_url": "https://api.github.com/users/christianparpart/followers",
    "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
    "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
    "organizations_url": "https://api.github.com/users/christianparpart/orgs",
    "repos_url": "https://api.github.com/users/christianparpart/repos",
    "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
    "received_events_url": "https://api.github.com/users/christianparpart/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3784569283,
      "node_id": "LA_kwDOAm_5kc7hk_HD",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20server",
      "name": "language server",
      "color": "FEF2C0",
      "default": false,
      "description": ""
    },
    {
      "id": 4372329032,
      "node_id": "LA_kwDOAm_5kc8AAAABBJxySA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/roadmap",
      "name": "roadmap",
      "color": "ff8e00",
      "default": false,
      "description": "It's on our short-term roadmap"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-01-31T15:22:23Z",
  "updated_at": "2022-09-05T11:05:32Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Seems like vscode-solidity supports the remappings.txt format of dapptools now, too. It would make sense to adopt it then for our LSP server.\r\n\r\nSee: https://github.com/gakonst/dapptools-template/blob/master/remappings.txt",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12603/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12603/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1025905713",
    "html_url": "https://github.com/ethereum/solidity/issues/12603#issuecomment-1025905713",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
    "id": 1025905713,
    "node_id": "IC_kwDOAm_5kc49JhQx",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T15:35:28Z",
    "updated_at": "2022-01-31T15:35:28Z",
    "author_association": "MEMBER",
    "body": "My proposal would be to make it a general feature (not just for LSP). We could add a CLI option for specifying remappings in a file, e.g. `--remappings=<path>` or (`--remappings-file=<path>` as proposed by @christianparpart on gitter). The file would have the same simple structure as `remappings.txt` (i.e. just a plain list of remappings, one per line). Since `remappings.txt` is getting some traction, we could make make it the default value for the LSP to reduce the amount of configuration needed (but IMO there should still be a setting to override it). For plain CLI I'd always require it to be specified explicitly and without it only accept remappings on the CLI as we do now.\r\n\r\nThis would not even be the first place where we support something like this. The `--libraries` option also accepts a file.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1025905713/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1025924674",
    "html_url": "https://github.com/ethereum/solidity/issues/12603#issuecomment-1025924674",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
    "id": 1025924674,
    "node_id": "IC_kwDOAm_5kc49Jl5C",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T15:49:32Z",
    "updated_at": "2022-01-31T15:49:32Z",
    "author_association": "MEMBER",
    "body": "We should be careful here. We have to avoid that the LSP behaves differently than the compiler itself. In addition to that, remappings should be less and less common now that we have include paths.\r\n\r\nFor now, I think it would be better to handle this mechanism inside the plugins instead of the LSP, at least until we have some more generic project configuration file that can be read by both the lsp and the compiler itself.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1025924674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026033430",
    "html_url": "https://github.com/ethereum/solidity/issues/12603#issuecomment-1026033430",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
    "id": 1026033430,
    "node_id": "IC_kwDOAm_5kc49KAcW",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T17:35:14Z",
    "updated_at": "2022-01-31T17:36:34Z",
    "author_association": "MEMBER",
    "body": "Foundry also uses `remappings.txt`. https://github.com/gakonst/foundry. A common template (https://github.com/ZeframLou/foundry-template) uses it, so I think `remappings.txt` will be prevalent.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026033430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026964090",
    "html_url": "https://github.com/ethereum/solidity/issues/12603#issuecomment-1026964090",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
    "id": 1026964090,
    "node_id": "IC_kwDOAm_5kc49Njp6",
    "user": {
      "login": "stevennevins",
      "id": 12021290,
      "node_id": "MDQ6VXNlcjEyMDIxMjkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12021290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevennevins",
      "html_url": "https://github.com/stevennevins",
      "followers_url": "https://api.github.com/users/stevennevins/followers",
      "following_url": "https://api.github.com/users/stevennevins/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevennevins/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevennevins/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevennevins/subscriptions",
      "organizations_url": "https://api.github.com/users/stevennevins/orgs",
      "repos_url": "https://api.github.com/users/stevennevins/repos",
      "events_url": "https://api.github.com/users/stevennevins/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevennevins/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-01T15:24:13Z",
    "updated_at": "2022-02-01T15:24:13Z",
    "author_association": "NONE",
    "body": "It's worth mentioning that while the remappings.txt is still there in ZeframLou's repo, that I think foundry is moving away from it in favor of the foundry.toml file also in the repo: https://github.com/ZeframLou/foundry-template/blob/main/foundry.toml",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026964090/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026994731",
    "html_url": "https://github.com/ethereum/solidity/issues/12603#issuecomment-1026994731",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12603",
    "id": 1026994731,
    "node_id": "IC_kwDOAm_5kc49NrIr",
    "user": {
      "login": "gakonst",
      "id": 17802178,
      "node_id": "MDQ6VXNlcjE3ODAyMTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17802178?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gakonst",
      "html_url": "https://github.com/gakonst",
      "followers_url": "https://api.github.com/users/gakonst/followers",
      "following_url": "https://api.github.com/users/gakonst/following{/other_user}",
      "gists_url": "https://api.github.com/users/gakonst/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gakonst/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gakonst/subscriptions",
      "organizations_url": "https://api.github.com/users/gakonst/orgs",
      "repos_url": "https://api.github.com/users/gakonst/repos",
      "events_url": "https://api.github.com/users/gakonst/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gakonst/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-01T15:52:19Z",
    "updated_at": "2022-02-01T15:52:52Z",
    "author_association": "NONE",
    "body": "> My proposal would be to make it a general feature (not just for LSP). We could add a CLI option for specifying remappings in a file, e.g. `--remappings=<path>` or (`--remappings-file=<path>` as proposed by @christianparpart on gitter). The file would have the same simple structure as `remappings.txt` (i.e. just a plain list of remappings, one per line). Since `remappings.txt` is getting some traction, we could make make it the default value for the LSP to reduce the amount of configuration needed (but IMO there should still be a setting to override it). For plain CLI I'd always require it to be specified explicitly and without it only accept remappings on the CLI as we do now.\r\n> \r\n> This would not even be the first place where we support something like this. The `--libraries` option also accepts a file.\r\n\r\nFoundry maintainer here, I'd support this over a remappings txt given that it'd might be too specific / restrictive (and yeah we might not use the txt file as much in the future). We're OK with passing in remappings over CLI.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1026994731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
