{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12889",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12889/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12889/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12889/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12889",
  "id": 1190459259,
  "node_id": "I_kwDOAm_5kc5G9Pd7",
  "number": 12889,
  "title": "The bytecode of the compiled output of truffle and solc is different.",
  "user": {
    "login": "tanhuiya",
    "id": 10923091,
    "node_id": "MDQ6VXNlcjEwOTIzMDkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10923091?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tanhuiya",
    "html_url": "https://github.com/tanhuiya",
    "followers_url": "https://api.github.com/users/tanhuiya/followers",
    "following_url": "https://api.github.com/users/tanhuiya/following{/other_user}",
    "gists_url": "https://api.github.com/users/tanhuiya/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tanhuiya/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tanhuiya/subscriptions",
    "organizations_url": "https://api.github.com/users/tanhuiya/orgs",
    "repos_url": "https://api.github.com/users/tanhuiya/repos",
    "events_url": "https://api.github.com/users/tanhuiya/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tanhuiya/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-04-02T01:51:10Z",
  "updated_at": "2022-04-02T06:24:11Z",
  "closed_at": "2022-04-02T06:24:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I use same version of solc compiler (v0.8.13)\r\n\r\nWhen I compile a single contract, their bytecode output is the same.\r\n\r\nBut, When I compile a contract with inheritance, their bytecode output is not the same. The bytecode output by solc is much larger.\r\n\r\n```\r\ncontract:\r\n//SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.0;\r\nimport \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\r\n\r\ncontract Greeter is ERC20 {\r\n    string private greeting;\r\n\r\n    constructor() ERC20(\"AAA\", \"bbb\") {\r\n\r\n    }\r\n\r\n    function initiate(string memory _greeting) public {\r\n        greeting = _greeting;\r\n    }\r\n\r\n    function greet() public view returns (string memory) {\r\n        return greeting;\r\n    }\r\n\r\n    function setGreeting(string memory _greeting) public {\r\n        greeting = _greeting;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n> output of truffle (truffle compile)\r\n```\r\nTruffle:\r\n0x608060405234801561001057600080fd5b5060408051808201825260038082526241414160e81b602080840191825284518086019095528285526231313160e91b908501528251929392610054929190610070565b508051610068906004906020840190610070565b505050610143565b82805461007c90610109565b90600052602060002090601f01602090048101928261009e57600085556100e4565b82601f106100b757805160ff19168380011785556100e4565b828001600101855582156100e4579182015b828111156100e45782518255916020019190600101906100c9565b506100f09291506100f4565b5090565b5b808211156100f057600081556001016100f5565b600181811c9082168061011d57607f821691505b60208210810361013d57634e487b7160e01b600052602260045260246000fd5b50919050565b610ab1806101526000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c806395d89b411161008c578063a9059cbb11610066578063a9059cbb146101d0578063cfae3217146101e3578063dd62ed3e146101eb578063ee824d66146101a857600080fd5b806395d89b41146101a0578063a4136862146101a8578063a457c2d7146101bd57600080fd5b806323b872dd116100c857806323b872dd14610142578063313ce56714610155578063395093511461016457806370a082311461017757600080fd5b806306fdde03146100ef578063095ea7b31461010d57806318160ddd14610130575b600080fd5b6100f7610224565b6040516101049190610828565b60405180910390f35b61012061011b366004610899565b6102b6565b6040519015158152602001610104565b6002545b604051908152602001610104565b6101206101503660046108c3565b6102ce565b60405160128152602001610104565b610120610172366004610899565b6102f2565b6101346101853660046108ff565b6001600160a01b031660009081526020819052604090205490565b6100f7610331565b6101bb6101b6366004610937565b610340565b005b6101206101cb366004610899565b610357565b6101206101de366004610899565b6103ee565b6100f76103fc565b6101346101f93660046109e8565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b60606003805461023390610a1b565b80601f016020809104026020016040519081016040528092919081815260200182805461025f90610a1b565b80156102ac5780601f10610281576101008083540402835291602001916102ac565b820191906000526020600020905b81548152906001019060200180831161028f57829003601f168201915b5050505050905090565b6000336102c481858561040b565b5060019392505050565b6000336102dc85828561052f565b6102e78585856105c1565b506001949350505050565b3360008181526001602090815260408083206001600160a01b03871684529091528120549091906102c4908290869061032c908790610a55565b61040b565b60606004805461023390610a1b565b805161035390600590602084019061078f565b5050565b3360008181526001602090815260408083206001600160a01b0387168452909152812054909190838110156103e15760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084015b60405180910390fd5b6102e7828686840361040b565b6000336102c48185856105c1565b60606005805461023390610a1b565b6001600160a01b03831661046d5760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016103d8565b6001600160a01b0382166104ce5760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016103d8565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b6001600160a01b0383811660009081526001602090815260408083209386168352929052205460001981146105bb57818110156105ae5760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016103d8565b6105bb848484840361040b565b50505050565b6001600160a01b0383166106255760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016103d8565b6001600160a01b0382166106875760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016103d8565b6001600160a01b038316600090815260208190526040902054818110156106ff5760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016103d8565b6001600160a01b03808516600090815260208190526040808220858503905591851681529081208054849290610736908490610a55565b92505081905550826001600160a01b0316846001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8460405161078291815260200190565b60405180910390a36105bb565b82805461079b90610a1b565b90600052602060002090601f0160209004810192826107bd5760008555610803565b82601f106107d657805160ff1916838001178555610803565b82800160010185558215610803579182015b828111156108035782518255916020019190600101906107e8565b5061080f929150610813565b5090565b5b8082111561080f5760008155600101610814565b600060208083528351808285015260005b8181101561085557858101830151858201604001528201610839565b81811115610867576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b038116811461089457600080fd5b919050565b600080604083850312156108ac57600080fd5b6108b58361087d565b946020939093013593505050565b6000806000606084860312156108d857600080fd5b6108e18461087d565b92506108ef6020850161087d565b9150604084013590509250925092565b60006020828403121561091157600080fd5b61091a8261087d565b9392505050565b634e487b7160e01b600052604160045260246000fd5b60006020828403121561094957600080fd5b813567ffffffffffffffff8082111561096157600080fd5b818401915084601f83011261097557600080fd5b81358181111561098757610987610921565b604051601f8201601f19908116603f011681019083821181831017156109af576109af610921565b816040528281528760208487010111156109c857600080fd5b826020860160208301376000928101602001929092525095945050505050565b600080604083850312156109fb57600080fd5b610a048361087d565b9150610a126020840161087d565b90509250929050565b600181811c90821680610a2f57607f821691505b602082108103610a4f57634e487b7160e01b600052602260045260246000fd5b50919050565b60008219821115610a7657634e487b7160e01b600052601160045260246000fd5b50019056fea264697066735822122042d8612e6214c586aaacf351c378dc7e685739a157ffdf354f2bc126832d7e5464736f6c634300080d0033\r\n\r\nSolc:  \r\n0x60806040523480156200001157600080fd5b506040518060400160405280600381526020017f41414100000000000000000000000000000000000000000000000000000000008152506040518060400160405280600381526020017f6262620000000000000000000000000000000000000000000000000000000000815250816003908051906020019062000096929190620000b8565b508060049080519060200190620000af929190620000b8565b505050620001cc565b828054620000c69062000197565b90600052602060002090601f016020900481019282620000ea576000855562000136565b82601f106200010557805160ff191683800117855562000136565b8280016001018555821562000136579182015b828111156200013557825182559160200191906001019062000118565b5b50905062000145919062000149565b5090565b5b80821115620001645760008160009055506001016200014a565b5090565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620001b057607f821691505b602082108103620001c657620001c562000168565b5b50919050565b6116d680620001dc6000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c806395d89b411161008c578063a9059cbb11610066578063a9059cbb14610273578063cfae3217146102a3578063dd62ed3e146102c1578063ee824d66146102f1576100ea565b806395d89b4114610209578063a413686214610227578063a457c2d714610243576100ea565b806323b872dd116100c857806323b872dd1461015b578063313ce5671461018b57806339509351146101a957806370a08231146101d9576100ea565b806306fdde03146100ef578063095ea7b31461010d57806318160ddd1461013d575b600080fd5b6100f761030d565b6040516101049190610e04565b60405180910390f35b61012760048036038101906101229190610ece565b61039f565b6040516101349190610f29565b60405180910390f35b6101456103c2565b6040516101529190610f53565b60405180910390f35b61017560048036038101906101709190610f6e565b6103cc565b6040516101829190610f29565b60405180910390f35b6101936103fb565b6040516101a09190610fdd565b60405180910390f35b6101c360048036038101906101be9190610ece565b610404565b6040516101d09190610f29565b60405180910390f35b6101f360048036038101906101ee9190610ff8565b6104ae565b6040516102009190610f53565b60405180910390f35b6102116104f6565b60405161021e9190610e04565b60405180910390f35b610241600480360381019061023c919061115a565b610588565b005b61025d60048036038101906102589190610ece565b6105a2565b60405161026a9190610f29565b60405180910390f35b61028d60048036038101906102889190610ece565b61068c565b60405161029a9190610f29565b60405180910390f35b6102ab6106af565b6040516102b89190610e04565b60405180910390f35b6102db60048036038101906102d691906111a3565b610741565b6040516102e89190610f53565b60405180910390f35b61030b6004803603810190610306919061115a565b6107c8565b005b60606003805461031c90611212565b80601f016020809104026020016040519081016040528092919081815260200182805461034890611212565b80156103955780601f1061036a57610100808354040283529160200191610395565b820191906000526020600020905b81548152906001019060200180831161037857829003601f168201915b5050505050905090565b6000806103aa6107e2565b90506103b78185856107ea565b600191505092915050565b6000600254905090565b6000806103d76107e2565b90506103e48582856109b3565b6103ef858585610a3f565b60019150509392505050565b60006012905090565b60008061040f6107e2565b90506104a3818585600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461049e9190611272565b6107ea565b600191505092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60606004805461050590611212565b80601f016020809104026020016040519081016040528092919081815260200182805461053190611212565b801561057e5780601f106105535761010080835404028352916020019161057e565b820191906000526020600020905b81548152906001019060200180831161056157829003601f168201915b5050505050905090565b806005908051906020019061059e929190610cc8565b5050565b6000806105ad6107e2565b90506000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905083811015610673576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066a9061133a565b60405180910390fd5b61068082868684036107ea565b60019250505092915050565b6000806106976107e2565b90506106a4818585610a3f565b600191505092915050565b6060600580546106be90611212565b80601f01602080910402602001604051908101604052809291908181526020018280546106ea90611212565b80156107375780601f1061070c57610100808354040283529160200191610737565b820191906000526020600020905b81548152906001019060200180831161071a57829003601f168201915b5050505050905090565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b80600590805190602001906107de929190610cc8565b5050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610859576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610850906113cc565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036108c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108bf9061145e565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516109a69190610f53565b60405180910390a3505050565b60006109bf8484610741565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610a395781811015610a2b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a22906114ca565b60405180910390fd5b610a3884848484036107ea565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610aae576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa59061155c565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610b1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b14906115ee565b60405180910390fd5b610b28838383610cbe565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610bae576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba590611680565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610c419190611272565b925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610ca59190610f53565b60405180910390a3610cb8848484610cc3565b50505050565b505050565b505050565b828054610cd490611212565b90600052602060002090601f016020900481019282610cf65760008555610d3d565b82601f10610d0f57805160ff1916838001178555610d3d565b82800160010185558215610d3d579182015b82811115610d3c578251825591602001919060010190610d21565b5b509050610d4a9190610d4e565b5090565b5b80821115610d67576000816000905550600101610d4f565b5090565b600081519050919050565b600082825260208201905092915050565b60005b83811015610da5578082015181840152602081019050610d8a565b83811115610db4576000848401525b50505050565b6000601f19601f8301169050919050565b6000610dd682610d6b565b610de08185610d76565b9350610df0818560208601610d87565b610df981610dba565b840191505092915050565b60006020820190508181036000830152610e1e8184610dcb565b905092915050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610e6582610e3a565b9050919050565b610e7581610e5a565b8114610e8057600080fd5b50565b600081359050610e9281610e6c565b92915050565b6000819050919050565b610eab81610e98565b8114610eb657600080fd5b50565b600081359050610ec881610ea2565b92915050565b60008060408385031215610ee557610ee4610e30565b5b6000610ef385828601610e83565b9250506020610f0485828601610eb9565b9150509250929050565b60008115159050919050565b610f2381610f0e565b82525050565b6000602082019050610f3e6000830184610f1a565b92915050565b610f4d81610e98565b82525050565b6000602082019050610f686000830184610f44565b92915050565b600080600060608486031215610f8757610f86610e30565b5b6000610f9586828701610e83565b9350506020610fa686828701610e83565b9250506040610fb786828701610eb9565b9150509250925092565b600060ff82169050919050565b610fd781610fc1565b82525050565b6000602082019050610ff26000830184610fce565b92915050565b60006020828403121561100e5761100d610e30565b5b600061101c84828501610e83565b91505092915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61106782610dba565b810181811067ffffffffffffffff821117156110865761108561102f565b5b80604052505050565b6000611099610e26565b90506110a5828261105e565b919050565b600067ffffffffffffffff8211156110c5576110c461102f565b5b6110ce82610dba565b9050602081019050919050565b82818337600083830152505050565b60006110fd6110f8846110aa565b61108f565b9050828152602081018484840111156111195761111861102a565b5b6111248482856110db565b509392505050565b600082601f83011261114157611140611025565b5b81356111518482602086016110ea565b91505092915050565b6000602082840312156111705761116f610e30565b5b600082013567ffffffffffffffff81111561118e5761118d610e35565b5b61119a8482850161112c565b91505092915050565b600080604083850312156111ba576111b9610e30565b5b60006111c885828601610e83565b92505060206111d985828601610e83565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061122a57607f821691505b60208210810361123d5761123c6111e3565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061127d82610e98565b915061128883610e98565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156112bd576112bc611243565b5b828201905092915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611324602583610d76565b915061132f826112c8565b604082019050919050565b6000602082019050818103600083015261135381611317565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006113b6602483610d76565b91506113c18261135a565b604082019050919050565b600060208201905081810360008301526113e5816113a9565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000611448602283610d76565b9150611453826113ec565b604082019050919050565b600060208201905081810360008301526114778161143b565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b60006114b4601d83610d76565b91506114bf8261147e565b602082019050919050565b600060208201905081810360008301526114e3816114a7565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611546602583610d76565b9150611551826114ea565b604082019050919050565b6000602082019050818103600083015261157581611539565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b60006115d8602383610d76565b91506115e38261157c565b604082019050919050565b60006020820190508181036000830152611607816115cb565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b600061166a602683610d76565b91506116758261160e565b604082019050919050565b600060208201905081810360008301526116998161165d565b905091905056fea264697066735822122082f5ae38cdacc5b2e2e77edd2bc846b4b3e9463bc7df945e7a3be2572477d43c64736f6c634300080d0033\r\n```",
  "closed_by": {
    "login": "tanhuiya",
    "id": 10923091,
    "node_id": "MDQ6VXNlcjEwOTIzMDkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10923091?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tanhuiya",
    "html_url": "https://github.com/tanhuiya",
    "followers_url": "https://api.github.com/users/tanhuiya/followers",
    "following_url": "https://api.github.com/users/tanhuiya/following{/other_user}",
    "gists_url": "https://api.github.com/users/tanhuiya/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tanhuiya/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tanhuiya/subscriptions",
    "organizations_url": "https://api.github.com/users/tanhuiya/orgs",
    "repos_url": "https://api.github.com/users/tanhuiya/repos",
    "events_url": "https://api.github.com/users/tanhuiya/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tanhuiya/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12889/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12889/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
