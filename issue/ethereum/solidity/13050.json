{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13050/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13050/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13050/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13050",
  "id": 1244365998,
  "node_id": "I_kwDOAm_5kc5KK4Su",
  "number": 13050,
  "title": "Seaport compile time in `--via-ir`",
  "user": {
    "login": "hrkrshnn",
    "id": 13174375,
    "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hrkrshnn",
    "html_url": "https://github.com/hrkrshnn",
    "followers_url": "https://api.github.com/users/hrkrshnn/followers",
    "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
    "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
    "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
    "repos_url": "https://api.github.com/users/hrkrshnn/repos",
    "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 682993385,
      "node_id": "MDU6TGFiZWw2ODI5OTMzODU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/performance%20:racehorse:",
      "name": "performance :racehorse:",
      "color": "c5def5",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-05-22T21:03:44Z",
  "updated_at": "2022-05-23T12:37:43Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "https://github.com/ProjectOpenSea/seaport uses `--via-ir`\r\n\r\nThe compile times are rather disappointing at ~10 minutes. Need to use it as a benchmark and tune performance of `solc`.\r\n\r\nThis is particularly about foundry. `forge build`.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13050/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13050/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1133997880",
    "html_url": "https://github.com/ethereum/solidity/issues/13050#issuecomment-1133997880",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
    "id": 1133997880,
    "node_id": "IC_kwDOAm_5kc5Dl284",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-22T22:13:13Z",
    "updated_at": "2022-05-22T22:13:13Z",
    "author_association": "MEMBER",
    "body": "This is not a problem on my side. With Hardhat it takes ~15 seconds with legacy pipeline and ~60 seconds with `--via-ir`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1133997880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1133998375",
    "html_url": "https://github.com/ethereum/solidity/issues/13050#issuecomment-1133998375",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
    "id": 1133998375,
    "node_id": "IC_kwDOAm_5kc5Dl3En",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-22T22:14:51Z",
    "updated_at": "2022-05-22T22:14:51Z",
    "author_association": "MEMBER",
    "body": "@axic Was mainly about foundry. Updated the issue. Hardhat is fine on my end as well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1133998375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134027028",
    "html_url": "https://github.com/ethereum/solidity/issues/13050#issuecomment-1134027028",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
    "id": 1134027028,
    "node_id": "IC_kwDOAm_5kc5Dl-EU",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T00:07:09Z",
    "updated_at": "2022-05-23T00:07:47Z",
    "author_association": "MEMBER",
    "body": "@hrkrshnn That sounds like something you'd get in a debug build. Is that on a M1 Mac or a Linux ARM system? If so, where is Foundry getting the binary from?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134027028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134558766",
    "html_url": "https://github.com/ethereum/solidity/issues/13050#issuecomment-1134558766",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
    "id": 1134558766,
    "node_id": "IC_kwDOAm_5kc5Dn_4u",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T11:33:27Z",
    "updated_at": "2022-05-23T12:13:48Z",
    "author_association": "MEMBER",
    "body": "@cameel This is on x86 linux. Note that foundry can find dependencies and compile things in parallel. This was running on 16 threads on my machine. \r\n\r\nI think foundry uses https://github.com/roynalnaruto/svm-rs to fetch solidity.\r\n\r\n```bash\r\ncargo install svm-rs\r\nsvm install 0.8.13\r\nobjdump -h ~/.cargo/bin/solc | grep debug\r\n```\r\n\r\ngives me\r\n```\r\n 30 .debug_aranges 000007e0  0000000000000000  0000000000000000  00065570  2**4\r\n 31 .debug_info   00032cf0  0000000000000000  0000000000000000  00065d50  2**0\r\n 32 .debug_abbrev 00001e29  0000000000000000  0000000000000000  00098a40  2**0\r\n 33 .debug_line   00021221  0000000000000000  0000000000000000  0009a869  2**0\r\n 34 .debug_str    000080f6  0000000000000000  0000000000000000  000bba8a  2**0\r\n 35 .debug_line_str 000007bd  0000000000000000  0000000000000000  000c3b80  2**0\r\n 36 .debug_loclists 0006c37d  0000000000000000  0000000000000000  000c433d  2**0\r\n 37 .debug_macro  00002a56  0000000000000000  0000000000000000  001306ba  2**0\r\n 38 .debug_rnglists 0000af55  0000000000000000  0000000000000000  00133110  2**0\r\n```\r\nI'm worried if the shipped binaries are debug builds now :(\r\n\r\nSeems like `.cargo/bin/solc` is the wrapper for solc from https://github.com/roynalnaruto/svm-rs/tree/master/src/solc The debug symbols seems to be for the rust binary?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134558766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134622431",
    "html_url": "https://github.com/ethereum/solidity/issues/13050#issuecomment-1134622431",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13050",
    "id": 1134622431,
    "node_id": "IC_kwDOAm_5kc5DoPbf",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T12:36:59Z",
    "updated_at": "2022-05-23T12:37:43Z",
    "author_association": "MEMBER",
    "body": "> The debug symbols seems to be for the rust binary?\r\n\r\nSeems so. I just ran `objdump -h` in a loop on all Linux binaries from solc-bin and there are no debug symbols in any of them.\r\n\r\n> Note that foundry can find dependencies and compile things in parallel. This was running on 16 threads on my machine.\r\n\r\nThat explains why it was so fast :P I more often get compilation times like 20-30 min on complex projects on debug builds. That's why I'm usually using release binaries rather than my local builds when working with ext tests.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134622431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
