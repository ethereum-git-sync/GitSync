{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13596",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13596/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13596/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13596/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13596",
  "id": 1393519493,
  "node_id": "I_kwDOAm_5kc5TD2uF",
  "number": 13596,
  "title": "Pretty Format Opcode Output",
  "user": {
    "login": "mileyseo",
    "id": 60459873,
    "node_id": "MDQ6VXNlcjYwNDU5ODcz",
    "avatar_url": "https://avatars.githubusercontent.com/u/60459873?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mileyseo",
    "html_url": "https://github.com/mileyseo",
    "followers_url": "https://api.github.com/users/mileyseo/followers",
    "following_url": "https://api.github.com/users/mileyseo/following{/other_user}",
    "gists_url": "https://api.github.com/users/mileyseo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mileyseo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mileyseo/subscriptions",
    "organizations_url": "https://api.github.com/users/mileyseo/orgs",
    "repos_url": "https://api.github.com/users/mileyseo/repos",
    "events_url": "https://api.github.com/users/mileyseo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mileyseo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-10-01T19:09:03Z",
  "updated_at": "2022-10-01T19:20:00Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "As of now, solidity compiler produces the output for the opcode file as one line (shown below)\r\n<img width=\"816\" alt=\"Screen Shot 2022-10-01 at 2 02 46 PM\" src=\"https://user-images.githubusercontent.com/60459873/193424378-ee836d1e-e629-4cab-ab64-e76c1a923a96.png\">\r\n\r\nIs there any way the opcode file could be formatted or have an option to be prettified before it's produced?\r\n\r\nAn example of what I'm desiring is shown below:\r\n<img width=\"682\" alt=\"Screen Shot 2022-10-01 at 2 06 40 PM\" src=\"https://user-images.githubusercontent.com/60459873/193424500-69294e95-e9e5-4754-a67d-43941aa0e299.png\">\r\n\r\nI'm trying to solve this manually by writing an additional function to go through the produced output file and add a newline delimiter every time an operand is seen, but I think it could be beneficial if there was an option to prettify it before it's produced.\r\n\r\nAny help will be appreciated, thank you!",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13596/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13596/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1264458735",
    "html_url": "https://github.com/ethereum/solidity/issues/13596#issuecomment-1264458735",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13596",
    "id": 1264458735,
    "node_id": "IC_kwDOAm_5kc5LXhvv",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-01T19:19:43Z",
    "updated_at": "2022-10-01T19:20:00Z",
    "author_association": "MEMBER",
    "body": "What is your use case?\r\n\r\nIf you want to see the bytecode in a more readable form, you can request the assembly with `solc --asm --debug-info none`:\r\n```\r\nEVM assembly:\r\n  mstore(0x40, 0x80)\r\n  callvalue\r\n  dup1\r\n  iszero\r\n  tag_1\r\n  jumpi\r\n  0x00\r\n  dup1\r\n  revert\r\ntag_1:\r\n  pop\r\n  dataSize(sub_0)\r\n  dup1\r\n  dataOffset(sub_0)\r\n  0x00\r\n  codecopy\r\n  0x00\r\n  return\r\nstop\r\n\r\nsub_0: assembly {\r\n      mstore(0x40, 0x80)\r\n      0x00\r\n      dup1\r\n      revert\r\n\r\n    auxdata: 0xa2646970667358221220b55687d4d26f9dab01409070b173f89f77de637640bdd40dfce98e96c5559d8d64736f6c63430008100033\r\n}\r\n```\r\n\r\nThis is is not identical to what you're requesting but might be close enough. As you can see above, it will also correctly distinguish between code and data and will also show separation between subassemblies. On the opcode list all of these look like opcodes:\r\n```\r\nPUSH1 0x80 PUSH1 0x40 MSTORE CALLVALUE DUP1 ISZERO PUSH1 0xF JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH1 0x3F DUP1 PUSH1 0x1D PUSH1 0x0 CODECOPY PUSH1 0x0 RETURN INVALID PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x0 DUP1 REVERT INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0xB5 JUMP DUP8 0xD4 0xD2 PUSH16 0x9DAB01409070B173F89F77DE637640BD 0xD4 0xD 0xFC 0xE9 DUP15 SWAP7 0xC5 SSTORE SWAP14 DUP14 PUSH5 0x736F6C6343 STOP ADDMOD LT STOP CALLER\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1264458735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
