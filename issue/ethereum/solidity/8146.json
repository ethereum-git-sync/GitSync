{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8146/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8146/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8146/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8146",
  "id": 550203787,
  "node_id": "MDU6SXNzdWU1NTAyMDM3ODc=",
  "number": 8146,
  "title": "static_assert and static_require",
  "user": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438153180,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjX3A",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/high%20impact",
      "name": "high impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are very prominent and affect users or the project in a major way."
    },
    {
      "id": 4438481746,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3bUg",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/must%20have%20eventually",
      "name": "must have eventually",
      "color": "ffb04d",
      "default": false,
      "description": "Something we consider essential but not enough to prevent us from releasing Solidity 1.0 without it."
    },
    {
      "id": 4525128519,
      "node_id": "LA_kwDOAm_5kc8AAAABDbf7Rw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/needs%20design",
      "name": "needs design",
      "color": "18F737",
      "default": false,
      "description": "The proposal is too vague to be implemented right away"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2020-01-15T14:00:29Z",
  "updated_at": "2022-09-20T14:19:04Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "`require` and `assert` can be used to write formal specs into Solidity, but many people don't because they automatically lead to extra bytecode increasing gas costs.\r\n`static_require` and `static_assert` could be logical only, without code generation.\r\nOne variation would to also generate code if compiled in debug mode (or similar).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8146/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8146/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574688370",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-574688370",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 574688370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY4ODM3MA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T14:39:10Z",
    "updated_at": "2020-01-15T14:39:10Z",
    "author_association": "MEMBER",
    "body": "I think for it to be useful though we'd need `constexpr` as well",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574688370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574690461",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-574690461",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 574690461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY5MDQ2MQ==",
    "user": {
      "login": "christianparpart",
      "id": 56763,
      "node_id": "MDQ6VXNlcjU2NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianparpart",
      "html_url": "https://github.com/christianparpart",
      "followers_url": "https://api.github.com/users/christianparpart/followers",
      "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
      "organizations_url": "https://api.github.com/users/christianparpart/orgs",
      "repos_url": "https://api.github.com/users/christianparpart/repos",
      "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianparpart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T14:43:56Z",
    "updated_at": "2020-01-15T14:43:56Z",
    "author_association": "MEMBER",
    "body": "> I think for it to be useful though we'd need `constexpr` as well\r\n\r\nI'd not make it another syntax element but a compiler flag to not codegen on assert/require. This way in constexpr context (future) we could still use assert/require. What do you think?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574690461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/575088911",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-575088911",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 575088911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTA4ODkxMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-16T10:33:07Z",
    "updated_at": "2020-01-16T10:33:07Z",
    "author_association": "MEMBER",
    "body": "We need to ensure that the conditions do not have side-effects.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/575088911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/576692117",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-576692117",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 576692117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NjY5MjExNw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-21T13:54:53Z",
    "updated_at": "2020-01-21T13:54:53Z",
    "author_association": "MEMBER",
    "body": "Current proposal:\r\nAdd a debug flag to not codegen assert/require.\r\nReturn error if flag is active but assert/require has side-effects.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/576692117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/578237431",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-578237431",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 578237431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3ODIzNzQzMQ==",
    "user": {
      "login": "dddejan",
      "id": 1482564,
      "node_id": "MDQ6VXNlcjE0ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dddejan",
      "html_url": "https://github.com/dddejan",
      "followers_url": "https://api.github.com/users/dddejan/followers",
      "following_url": "https://api.github.com/users/dddejan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dddejan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dddejan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dddejan/subscriptions",
      "organizations_url": "https://api.github.com/users/dddejan/orgs",
      "repos_url": "https://api.github.com/users/dddejan/repos",
      "events_url": "https://api.github.com/users/dddejan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dddejan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-24T18:04:33Z",
    "updated_at": "2020-01-24T18:04:33Z",
    "author_association": "NONE",
    "body": "Not generating code is scary. \r\n\r\nWe do this all the time in C and works as follows: add asserts, compile release without asserts, release to customer, wait, customer reports segfault, debug with assertions, fix code, repeat. I feel that this doesn't really fit on blockchain unless you trust formal methods ðŸ’¯% (which I don't).\r\n\r\nThe danger is that if you allow people to save gas with a flag, they probably will. Also, doesn't `require` need to generate anyhow because it's used for argument checking.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/578237431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/609501940",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-609501940",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 609501940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTUwMTk0MA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-05T23:20:37Z",
    "updated_at": "2020-04-05T23:20:37Z",
    "author_association": "MEMBER",
    "body": "I think C++-style `static_assert` as a new feature makes sense, but as @christianparpart mentioned we need #3157 to be fully useful.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/609501940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/619855900",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-619855900",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 619855900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTg1NTkwMA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T09:29:20Z",
    "updated_at": "2020-04-27T09:29:20Z",
    "author_association": "MEMBER",
    "body": "@dddejan people already actively remove `assert`s from their code to save gas, so I don't think the flag would make it more dangerous there, and I agree with the workflow you described.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/619855900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/619856561",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-619856561",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 619856561,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTg1NjU2MQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T09:30:28Z",
    "updated_at": "2020-04-27T09:30:28Z",
    "author_association": "MEMBER",
    "body": "@axic it can be done without #3157 if side effects are not allowed",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/619856561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/621975944",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-621975944",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 621975944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTk3NTk0NA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T16:54:36Z",
    "updated_at": "2020-04-30T17:54:08Z",
    "author_association": "MEMBER",
    "body": "This was discussed during the Solidity Summit and the following options were proposed:\r\n\r\n1. static_assert\r\n\r\n```solidity\r\n// This does NOT become part of the bytecode, by default.\r\nstatic_assert(f(x+2 == g(x-3)))\r\n```\r\n\r\n2. special comments with proper Solidity expressions\r\n\r\n```solidity\r\n/// @assert f(x+2) == g(x-3)\r\n```\r\n\r\n3. non-comment annotations\r\n\r\n```solidity\r\n@assert(f(x+2 == g(x-3)))\r\n[[assert f(x+2 == g(x-3))]]\r\n```\r\n\r\nAnd introduce a compiler flag, which includes them in the generated bytecode.\r\n\r\nThanks for @hajduakos and @montyly for feedback.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/621975944/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/621997250",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-621997250",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 621997250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTk5NzI1MA==",
    "user": {
      "login": "muellerberndt",
      "id": 5194767,
      "node_id": "MDQ6VXNlcjUxOTQ3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5194767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muellerberndt",
      "html_url": "https://github.com/muellerberndt",
      "followers_url": "https://api.github.com/users/muellerberndt/followers",
      "following_url": "https://api.github.com/users/muellerberndt/following{/other_user}",
      "gists_url": "https://api.github.com/users/muellerberndt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muellerberndt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muellerberndt/subscriptions",
      "organizations_url": "https://api.github.com/users/muellerberndt/orgs",
      "repos_url": "https://api.github.com/users/muellerberndt/repos",
      "events_url": "https://api.github.com/users/muellerberndt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muellerberndt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T17:33:09Z",
    "updated_at": "2020-04-30T17:33:09Z",
    "author_association": "NONE",
    "body": "> And introduce a compiler flag, which includes them in the generated bytecode.\r\n\r\n+1",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/621997250/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622021817",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-622021817",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 622021817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjAyMTgxNw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T18:22:21Z",
    "updated_at": "2020-04-30T18:22:21Z",
    "author_association": "MEMBER",
    "body": "I like option 3:\r\n`[[assert f(x+2 == g(x-3))]]`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622021817/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622024217",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-622024217",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 622024217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjAyNDIxNw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T18:27:20Z",
    "updated_at": "2020-04-30T18:31:57Z",
    "author_association": "MEMBER",
    "body": "Regardless of which option, I think the main question left is:\r\nCompiler flag for bytecode generation or not?\r\nIn case no, how would tools that target bytecode know about those properties?\r\n\r\nI am personally in favor of compiler flag",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622024217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622043509",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-622043509",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 622043509,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMjA0MzUwOQ==",
    "user": {
      "login": "hajduakos",
      "id": 1536315,
      "node_id": "MDQ6VXNlcjE1MzYzMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1536315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hajduakos",
      "html_url": "https://github.com/hajduakos",
      "followers_url": "https://api.github.com/users/hajduakos/followers",
      "following_url": "https://api.github.com/users/hajduakos/following{/other_user}",
      "gists_url": "https://api.github.com/users/hajduakos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hajduakos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hajduakos/subscriptions",
      "organizations_url": "https://api.github.com/users/hajduakos/orgs",
      "repos_url": "https://api.github.com/users/hajduakos/repos",
      "events_url": "https://api.github.com/users/hajduakos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hajduakos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T19:03:41Z",
    "updated_at": "2020-04-30T19:03:41Z",
    "author_association": "NONE",
    "body": "+1 for option 3, that could also be generalized to further specs. For example\r\n```solidity\r\n[[invariant x == y]]\r\ncontract C {\r\n  int x; int y;\r\n  // ...\r\n}\r\n```\r\n(or `@invariant(x == y)`).\r\n\r\nThis approach can also have better flexibility if verifiers want to have tool specific extensions. For example they could define custom annotations (or functions to be used in annotations). Similarly as Java or C# allows custom annotations/attributes. E.g., the former example could be expressed with some syntax saying \"I want to define an annotation with name `invariant` that can be attached to nodes of type `contract` and would have an `expression` as argument.\".",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/622043509/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/623497926",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-623497926",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 623497926,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzQ5NzkyNg==",
    "user": {
      "login": "montyly",
      "id": 13798342,
      "node_id": "MDQ6VXNlcjEzNzk4MzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13798342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/montyly",
      "html_url": "https://github.com/montyly",
      "followers_url": "https://api.github.com/users/montyly/followers",
      "following_url": "https://api.github.com/users/montyly/following{/other_user}",
      "gists_url": "https://api.github.com/users/montyly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/montyly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/montyly/subscriptions",
      "organizations_url": "https://api.github.com/users/montyly/orgs",
      "repos_url": "https://api.github.com/users/montyly/repos",
      "events_url": "https://api.github.com/users/montyly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/montyly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-04T14:28:22Z",
    "updated_at": "2020-05-04T14:28:22Z",
    "author_association": "NONE",
    "body": "As discussed during the Solidity summit, I like the general idea.\r\n\r\nSome comments\r\n- If we add invariants at the contract/function level, we should define what it means; Is it going to be always-true invariant or invariant that must hold at the beginning/end of transactions, or something else? I think @leonardoalt mentioned that invariants would hold at the beginning/end of transactions during the summit.\r\n- We should be careful with the wording and documentation on this feature. I like `assert`, but as `assert()` is already used by developers to do input filtering, we must be careful that no one will use it thinking that code will be generated.  I think this is particularly true for `static_assert`, the options 2 and 3 are likely to be less confusing, but it's probably worth asking more people about it. \r\n- I definitely think the compiler should be able to generate bytecode with an extra flag. Ideally, the compiler could take an optional flag to define the opcode used to trigger the invalid states. As `0xfe` is already used for /0, out-of-bound access etc, it would help dynamic tools to be able to focus on another opcode.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/623497926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/623895026",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-623895026",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 623895026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzg5NTAyNg==",
    "user": {
      "login": "wuestholz",
      "id": 51156,
      "node_id": "MDQ6VXNlcjUxMTU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/51156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wuestholz",
      "html_url": "https://github.com/wuestholz",
      "followers_url": "https://api.github.com/users/wuestholz/followers",
      "following_url": "https://api.github.com/users/wuestholz/following{/other_user}",
      "gists_url": "https://api.github.com/users/wuestholz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wuestholz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wuestholz/subscriptions",
      "organizations_url": "https://api.github.com/users/wuestholz/orgs",
      "repos_url": "https://api.github.com/users/wuestholz/repos",
      "events_url": "https://api.github.com/users/wuestholz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wuestholz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T07:21:03Z",
    "updated_at": "2020-05-05T07:21:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "I also like option 3.\r\n\r\nAbout contract invariants: I think it's worth thinking carefully about where the checks should happen. In the literature on class/object invariants there are many different methodologies for checking invariants and not all of them are sound or easy to check at runtime. At MythX/Diligence, we are currently experimenting with an option that should be sound and quite easy to check at runtime (@cd1m0):\r\n\r\n- Check at the end of the constructor.\r\n- Check before external calls. (Shouldn't lead to many \"false positives\", since external calls should happen after state changes anyways to avoid reentrancy issues.)\r\n- Check at the end of public/external functions.\r\n\r\nAll these check use assert-statements and no require-statements are used; when performing modular checking, one might want to assume/require the invariant at the beginning of functions to simplify the reasoning, but I think this should be optional.\r\n\r\nCurrently, we also disallow invariants that refer to the state of other contracts (that is, multi-contract invariants) since they are notoriously hard to check soundly and efficiently at runtime.\r\n\r\nAs mentioned earlier, we use regular assert for these check, but we also emit a special event (see https://medium.com/consensys-diligence/checking-custom-correctness-properties-of-smart-contracts-using-mythx-25cbac5d7852 for more details) to distinguish them from implicit assertions that are emitted by the compiler. I also like the option of using a separate opcode as suggested by @montyly.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/623895026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/680870614",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-680870614",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 680870614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDg3MDYxNA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T13:12:55Z",
    "updated_at": "2020-08-26T13:13:33Z",
    "author_association": "MEMBER",
    "body": "Some notes from today's design call.\r\n\r\nRust has two kinds assertions:\r\n- [`assert!`](https://doc.rust-lang.org/std/macro.assert.html)\r\n- [`debug_assert!`](https://doc.rust-lang.org/std/macro.debug_assert.html)\r\n\r\nWe were trying to identify the use cases addressed by this topic:\r\n1. People add many assertions to code during development, but remove many of them at deploy time to save gas.\r\n2. Analysis tools could benefit from detecting these assertions.\r\n\r\nSentiment from the call:\r\n1. Having a compiler flag to remove all asserts is a bad idea. There needs to be a way to select which ones to keep.\r\n2. Introducing `static_assert` would be confusing if it is not compile-time evaluated. It should only be introduced for constant expressions.\r\n3. Could follow Rust and have a `debug_assert` as well, which is not included in the code based on a compiler flag.\r\n4. Could also implement this as a user defined function: `function debug_assert(bool){assert(bool);}`. Just change the body be empty for the release build.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/680870614/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718890495",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-718890495",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 718890495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODg5MDQ5NQ==",
    "user": {
      "login": "moodysalem",
      "id": 7897876,
      "node_id": "MDQ6VXNlcjc4OTc4NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7897876?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/moodysalem",
      "html_url": "https://github.com/moodysalem",
      "followers_url": "https://api.github.com/users/moodysalem/followers",
      "following_url": "https://api.github.com/users/moodysalem/following{/other_user}",
      "gists_url": "https://api.github.com/users/moodysalem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/moodysalem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/moodysalem/subscriptions",
      "organizations_url": "https://api.github.com/users/moodysalem/orgs",
      "repos_url": "https://api.github.com/users/moodysalem/repos",
      "events_url": "https://api.github.com/users/moodysalem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/moodysalem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T17:02:18Z",
    "updated_at": "2020-10-29T17:02:18Z",
    "author_association": "NONE",
    "body": "> * Having a compiler flag to remove all asserts is a bad idea. There needs to be a way to select which ones to keep.\r\n\r\nWhy though? The user chooses to turn that flag on. And anything that is expected to happen at runtime should be a require.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718890495/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/841718844",
    "html_url": "https://github.com/ethereum/solidity/issues/8146#issuecomment-841718844",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8146",
    "id": 841718844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MTcxODg0NA==",
    "user": {
      "login": "hacker-DOM",
      "id": 18601956,
      "node_id": "MDQ6VXNlcjE4NjAxOTU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/18601956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hacker-DOM",
      "html_url": "https://github.com/hacker-DOM",
      "followers_url": "https://api.github.com/users/hacker-DOM/followers",
      "following_url": "https://api.github.com/users/hacker-DOM/following{/other_user}",
      "gists_url": "https://api.github.com/users/hacker-DOM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hacker-DOM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hacker-DOM/subscriptions",
      "organizations_url": "https://api.github.com/users/hacker-DOM/orgs",
      "repos_url": "https://api.github.com/users/hacker-DOM/repos",
      "events_url": "https://api.github.com/users/hacker-DOM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hacker-DOM/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-15T20:16:28Z",
    "updated_at": "2021-05-15T20:17:23Z",
    "author_association": "NONE",
    "body": "I made a simple utility that aspires to be a temporary solution for this issue https://github.com/hacker-DOM/sol-env",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/841718844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
