{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9237/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9237/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9237/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9237",
  "id": 642083320,
  "node_id": "MDU6SXNzdWU2NDIwODMzMjA=",
  "number": 9237,
  "title": "Incorporating devtools' tests suites as part of the integration tests",
  "user": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 838064207,
      "node_id": "MDU6TGFiZWw4MzgwNjQyMDc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/annoys%20users%20:cry:",
      "name": "annoys users :cry:",
      "color": "ea2cab",
      "default": false,
      "description": ""
    },
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2020-06-19T16:15:17Z",
  "updated_at": "2022-08-17T13:48:59Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Hi,\r\n\r\nI'm creating this issue to propose incorporating parts of the different devtools' test suites as integration tests for solc. We believe this would make the devtools ecosystem much more stable.\r\n\r\nHere's the rationale behind this idea.\r\n\r\nThe current situation has multiple problems:\r\n\r\n- Small changes in the compilation output break the devtools without any previous notice\r\n    - This is due to changes in the AST format\r\n    - Also happened a few times in how source maps are emitted\r\n        - Solidity 0.6.3 is a good example\r\n        - Solidity 0.6.9 also break multiple things while reverting the change of 0.6.3\r\n- Devtools have to implement complex and fragile heuristics to keep offering the same functionality to their users\r\n    - If they don't do this, users blame them for breaking\r\n    - The more they have to introduce, the more complex they are to maintain\r\n    - These can break with any minor release, so tool developers live in a constant fear of their tools breaking at any time\r\n- Each version of solc has to be **supported forever** by the different devtools\r\n    - The reason for this is that once a project deploys an immutable contract compile with a given version of solc, they can't change it on-chain\r\n        - Most projects use multiple versions of Solidity because of this\r\n            - They use newer versions for new contracts\r\n            - They compile already-deployed contracts with the same version used for deployment\r\n            - They run their test combining the output of multiple compilations\r\n                - Tools need to support this usecase, which is extremely common in the defi ecosystem\r\n- The happiness of users with Solidity & Ethereum as a development platform is highly influenced by devtools being stable. Despite this, the Solidity project doesn't currently have an early feedback process on how their actions could affect tools.\r\n    - They only get to know this after the tools break, and if tool developers get to report it\r\n        - Given how often this happens, not everything gets reported.\r\n\r\nProposals for improving this situation\r\n\r\n- Incorporate the relevant parts of the main tools' tests suites, as part of Solidity integration testing\r\n    - This has been done in Web3.js recently and helped improved the stability of the project a lot. Some very subtle bugs were discovered, that weren't detected by Web3.js' tests, but broke some consumer's test suites\r\n    - Candidates for this are\r\n        - Truffle\r\n        - Remix\r\n        - Buidler EVM\r\n        - Brownie\r\n            - It does some very advanced things with Solidity, so it can provide coverage to parts of the compiler than other tools won't.\r\n        - Tenderly\r\n            - If the relevant parts are open source. Are they, @BencicAndrej ?\r\n    - This will provide immediate feedback on how changes in Solidity affect the different tools\r\n        - It will also help identify which of them would break, making it easier to start conversations on how to better approach each change\r\n        - This may mean creating a dedicated communication channel for direct consumers of solc. The current channels are too broad for tool developers to keep up to date\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9237/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9237/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647393037",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-647393037",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 647393037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzM5MzAzNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T09:16:24Z",
    "updated_at": "2020-06-22T09:16:24Z",
    "author_association": "MEMBER",
    "body": "While I agree that we should add external projects' test suites to our CI - we already do that with several smart contracts - I think we should also work on removing the heuristics and replacing them by real debugging data.\r\n\r\nAs an example, the issue about the source maps you referenced: Especially with activated optimizer we can never guarantee that source maps are fine-grained enough. As soon as code from multiple places results in the same code, this code can only have one source map. So I would say the solution is not undoing the inlining but allowing multiple source locations per opcode instead.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647393037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647639618",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-647639618",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 647639618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzYzOTYxOA==",
    "user": {
      "login": "fzeoli",
      "id": 232174,
      "node_id": "MDQ6VXNlcjIzMjE3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/232174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fzeoli",
      "html_url": "https://github.com/fzeoli",
      "followers_url": "https://api.github.com/users/fzeoli/followers",
      "following_url": "https://api.github.com/users/fzeoli/following{/other_user}",
      "gists_url": "https://api.github.com/users/fzeoli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fzeoli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fzeoli/subscriptions",
      "organizations_url": "https://api.github.com/users/fzeoli/orgs",
      "repos_url": "https://api.github.com/users/fzeoli/repos",
      "events_url": "https://api.github.com/users/fzeoli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fzeoli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T16:44:00Z",
    "updated_at": "2020-06-22T16:44:00Z",
    "author_association": "MEMBER",
    "body": "As Patricio wrote, tools must support every version of the compiler forever, so unless you mean going back into each compiler version and introducing debugging symbols to each without modifying the compiler's output, the heuristics can't really be replaced. Do you mean to release minor updates for each of the old compilers with additional data?\r\n\r\nAnd I think the point here wasn't to discuss the specific issue about source maps that caused some problems, but the abstract situation of solc changing without coordinating with tool developers causing tools to break for end users, and sometimes creating significant code complexity given that tooling code must support every single compiler version.\r\n\r\nTools have a backwards looking support requirement, so improving things in future versions doesn't mean the issues go away. There's an immutability component to the output of each compiler version that should be managed carefully.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647639618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647643740",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-647643740",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 647643740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzY0Mzc0MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T16:52:00Z",
    "updated_at": "2020-06-22T16:52:00Z",
    "author_association": "MEMBER",
    "body": "I don't understand how this is related to older solidity compilers. We cannot modify older compilers but adding external tests to the repo will also not help with older compilers.\r\n\r\nI mainly explained the issue about the source maps to exemplify that such a failing test with a dev tool does not necessarily mean that we cannot merge the change, but it means that either the heuristic has to be changed, the PR has to be modified or a totally different solution has to be found that improves the life of everybody.\r\n\r\nRegardless of this, I think we have produced way too much text here already. Could you coordinate with tool developers how they can add tests to our repository?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647643740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647755659",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-647755659",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 647755659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Nzc1NTY1OQ==",
    "user": {
      "login": "fzeoli",
      "id": 232174,
      "node_id": "MDQ6VXNlcjIzMjE3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/232174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fzeoli",
      "html_url": "https://github.com/fzeoli",
      "followers_url": "https://api.github.com/users/fzeoli/followers",
      "following_url": "https://api.github.com/users/fzeoli/following{/other_user}",
      "gists_url": "https://api.github.com/users/fzeoli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fzeoli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fzeoli/subscriptions",
      "organizations_url": "https://api.github.com/users/fzeoli/orgs",
      "repos_url": "https://api.github.com/users/fzeoli/repos",
      "events_url": "https://api.github.com/users/fzeoli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fzeoli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T20:34:24Z",
    "updated_at": "2020-06-22T20:35:55Z",
    "author_association": "MEMBER",
    "body": "Solidity 0.6.3 changed the way source maps work for reverts without messages. Tools like Buidler and Brownie use these source maps to show stack traces to users. When the output of the compiler changed in 0.6.3, Buidler and Brownie need to keep doing everything they were doing before 0.6.3, but in case the compiler being used is 0.6.3 do things differently, and then if the compiler is 0.6.9 also differently. 0.6.9 reverted changes made in 0.6.3, but there's no such thing as really fully reverting, since if someone deployed a contract using 0.6.3 they'll need tools to work with that version of the compiler. Even though you reverted a change, that change still needs to be managed by tools to support **your** end users in working with Solidity. Code complexity increases a lot due to always having to support every version of the compiler, regardless of what the latest version of the compiler is doing. Once you release a version of the compiler you need to assume someone deployed an immutable contract with it, and needs tooling support for it.\r\n\r\nThe vast majority of the ecosystem interacts with solc through an orchestration tool (Buidler, Brownie, Truffle, etc), so solc's primary consumer are these tools, and only after them come the Solidity developers. \r\nIf a release breaks the tools this directly impacts Solidity developers, who aren't set up to interact directly with the compiler (and they shouldn't). Breaking a tool isn't that much different from breaking the compiler itself, when it comes to the end user's experience (specific features in this Solidity version don't work). If servicing the Solidity developer needs is the responsibility of Solidity, then given that developers interact primarily with Solidity through these tools, servicing the needs of the tools is equally important to servicing the needs of the developers, as the impact on tooling linearly impacts developers. While your software is at the bottom of the stack, the final product users interact with is a joint creation between Solidity and its tools.\r\n\r\nIndeed the fact that a change breaks a tool doesn't mean that you can't perform the change, but knowing *before* the change is released into production allows for coordination and feedback on the full consequences of the change being proposed.\r\n\r\nThis isn't particularly related to older compilers, but the fact that the current compiler will also one day be considered an older compiler that still needs to be supported by tools. What we want to achieve here is:\r\n\r\n1) for increased maintainability of this complexity that tools must endure, by increasing coordination and reducing future issues like the 0.6.3 change having to be managed even though it was reverted a few versions afterward\r\n2) improving the developer experience of interacting with Solidity, which is dependant on the effective collaboration between Solidity and its tools\r\n\r\nGenerally, I think the coordination between Solidity and the main tools developers use to interface with the compiler is of critical importance for a higher quality Solidity experience. Integrating the tests of tools isn't for the benefits of tools, but for the benefit of Solidity, who's inadvertently publishing broken releases to their users **when it comes to the full package Solidity experience** of a developer. \r\n\r\nSpeaking in representation of Buidler, we're happy to make any changes needed to make this possible, and I'm sure the other tools will as well. Beyond this specific project, I think Solidity should create and own a space for generic and fluid coordination with tool developers, and an integration like this would be a great kickoff to this new dynamic.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/647755659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649459464",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-649459464",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 649459464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTQ1OTQ2NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T10:40:04Z",
    "updated_at": "2020-06-25T10:40:04Z",
    "author_association": "MEMBER",
    "body": "@fzeoli @alcuadrado I suspect some misunderstanding in this issue, so I would propose to add additional realtime communication channels to this discussion to clear it up, if needed. My opinion is:\r\n\r\n- early feedback through integration tests between solidity and tools is a good idea\r\n- I see two ways to do this:\r\n 1. tools use our nightly builds to test: https://github.com/ethereum/solc-bin/raw/gh-pages/bin/soljson-nightly.js\r\n 2. tools tell us how to run their tests on a \"custom\" compiler binary.\r\n\r\nWhile solution 2 allows us to run these tests on pull requests and both the develop and the breaking branch, it needs tight communication because I suspect the solidity team will find it difficult to make out the reason for test failures.\r\n\r\nAlso, while running tests on the breaking branch sounds very interesting, it probably requires changes to the tools - but this could also be the case for the develop branch.\r\n\r\nI'm fine with either solution, so if you would like to go for solution 2, then I would propose to do it with buidler as a first test. How can we exchange the compiler binary in our test runner?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649459464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649653004",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-649653004",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 649653004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTY1MzAwNA==",
    "user": {
      "login": "franzihei",
      "id": 41991517,
      "node_id": "MDQ6VXNlcjQxOTkxNTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41991517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/franzihei",
      "html_url": "https://github.com/franzihei",
      "followers_url": "https://api.github.com/users/franzihei/followers",
      "following_url": "https://api.github.com/users/franzihei/following{/other_user}",
      "gists_url": "https://api.github.com/users/franzihei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/franzihei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/franzihei/subscriptions",
      "organizations_url": "https://api.github.com/users/franzihei/orgs",
      "repos_url": "https://api.github.com/users/franzihei/repos",
      "events_url": "https://api.github.com/users/franzihei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/franzihei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T16:03:06Z",
    "updated_at": "2020-06-25T16:03:23Z",
    "author_association": "MEMBER",
    "body": "As part of the discussion call on https://github.com/ethereum/solidity/issues/8739, we agreed that as a next step tools can supply us with their custom compiler binary (tests need to be 0.6, or soon 0.7, compatible) and we'll try to incorporate them into the Solidity CI tests. \r\n\r\n**_[Disclaimer: I'm taking this from my call notes, please jump in and correct me if I misunderstood anything!]_**",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649653004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649670605",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-649670605",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 649670605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTY3MDYwNQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T16:19:59Z",
    "updated_at": "2020-06-25T16:19:59Z",
    "author_association": "MEMBER",
    "body": "... tools can provide a test runner script and a method to exchange the compiler binary so we can run them on our newly built binary.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/649670605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/650096584",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-650096584",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 650096584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDA5NjU4NA==",
    "user": {
      "login": "montyly",
      "id": 13798342,
      "node_id": "MDQ6VXNlcjEzNzk4MzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13798342?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/montyly",
      "html_url": "https://github.com/montyly",
      "followers_url": "https://api.github.com/users/montyly/followers",
      "following_url": "https://api.github.com/users/montyly/following{/other_user}",
      "gists_url": "https://api.github.com/users/montyly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/montyly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/montyly/subscriptions",
      "organizations_url": "https://api.github.com/users/montyly/orgs",
      "repos_url": "https://api.github.com/users/montyly/repos",
      "events_url": "https://api.github.com/users/montyly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/montyly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T09:58:43Z",
    "updated_at": "2020-06-26T09:58:43Z",
    "author_association": "NONE",
    "body": "This is a great initiative, I would be happy to help for the Trail of Bits tools integration. \r\nFor context:\r\n- [Slither](https://github.com/crytic/slither) parses the AST from solc, it supports any solc >=0.4, both legacy and compact AST. I think at this point, we can parse 99% of the ASTs for Solidity <0.6, and we are probably closed for >=0.6 (through the support for some new features were only added recently, like the top-level structure/enums)\r\n- We started to parse the YUL's AST too (https://github.com/crytic/slither/pull/502). We have a custom parser for YUL for Solidity <0.6 (the inline assembly was a block of text instead of an AST until 0.6). We will open source this parser soon.\r\n- We also parse additional information through [crytic-compile](https://github.com/crytic/crytic-compile), which is a library that acts as a proxy between the compilation frameworks <-> our tools. Typically this will parse the source mapping, the bytecode, and the [natspec](https://github.com/crytic/crytic-compile/blob/master/crytic_compile/utils/natspec.py)\r\n\r\nFor testing, we can either run Slither directly, or I can write a `slither-test-parsing` util that will only perform the parsing part (so if there is a bug in other places, your tests would not be affected)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/650096584/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/678411675",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-678411675",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 678411675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODQxMTY3NQ==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-21T17:47:59Z",
    "updated_at": "2020-08-21T17:48:31Z",
    "author_association": "MEMBER",
    "body": "Hey @chriseth,\r\n\r\nThis is now ready on our side. All you need to do to run our test suite with a custom compiler is:\r\n\r\n```sh\r\ngit clone git@github.com:nomiclabs/buidler.git\r\ncd buidler\r\ngit checkout development\r\nBUIDLER_TESTS_SOLC_VERSION=\"0.7.0\" BUIDLER_TESTS_SOLC_PATH=\"/some/path/soljson-v0.7.0+commit.9e61f92b.js\" scripts/run-tests-with-custom-solc.sh\r\n```\r\n\r\n(Note the version and path in the last command)\r\n\r\nThis will install all the necessary dependencies and run the relevant tests. The only requirement is node.js. Any of the currently actively maintained versions would do it. \r\n\r\nIf the tests fail, the script will exit with a non-zero status number. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/678411675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768294745",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-768294745",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 768294745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODI5NDc0NQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T13:45:01Z",
    "updated_at": "2021-01-27T13:45:01Z",
    "author_association": "MEMBER",
    "body": "Now that I'm done with solc-bin binaries, I might be able to take this on in the near future. For now I have created a separate issue for hooking up Buidler's suite (#10854) because that's the part that can go into the Implementation Backlog already (but does not resolve this issue as a whole).\r\n\r\n> This may mean creating a dedicated communication channel for direct consumers of solc. The current channels are too broad for tool developers to keep up to date\r\n\r\n@franzihei Would the new forum be a good place for that?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768294745/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769030695",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-769030695",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 769030695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTAzMDY5NQ==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T12:49:33Z",
    "updated_at": "2021-01-28T12:49:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cameel notice that all \"buidler\" usages have to be replaced with \"hardhat\" now:\r\n\r\n```\r\ngit clone git@github.com:nomiclabs/hardhat.git\r\ncd hardhat\r\ngit checkout development\r\nHARDHAT_TESTS_SOLC_VERSION=\"0.7.0\" HARDHAT_TESTS_SOLC_PATH=\"/some/path/soljson-v0.7.0+commit.9e61f92b.js\" scripts/run-tests-with-custom-solc.sh\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769030695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769033477",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-769033477",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 769033477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTAzMzQ3Nw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T12:55:05Z",
    "updated_at": "2021-01-28T12:55:05Z",
    "author_association": "MEMBER",
    "body": "Sure. Thanks for the heads up!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769033477/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/950815461",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-950815461",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 950815461,
    "node_id": "IC_kwDOAm_5kc44rErl",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T11:16:46Z",
    "updated_at": "2021-10-25T11:16:46Z",
    "author_association": "MEMBER",
    "body": "@cameel can this be closed?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/950815461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/950827202",
    "html_url": "https://github.com/ethereum/solidity/issues/9237#issuecomment-950827202",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9237",
    "id": 950827202,
    "node_id": "IC_kwDOAm_5kc44rHjC",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T11:31:01Z",
    "updated_at": "2021-10-25T11:31:01Z",
    "author_association": "MEMBER",
    "body": "Well, no :) What I did was just #10854. That was meant to be the first step of this broader issue. The point here is to have faster feedback for external tools and Hardhat was meant to be the first one to try out how it works.\r\n\r\nAs @chriseth said above, it would probably be better if each tooling project had a test run in its own CI using our latest nightly because its team definitely better understands their own tests than us. But it's also OK to provide a simple script (or just a list of commands to run if it's simple) that runs the part of the test suite that tests integration with the compiler and we'll plug it into our CI.\r\n\r\nAt the very least I think we should have the major frameworks (Hardhat, Truffle, Brownie, dapp-tools) but preferably more.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/950827202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
